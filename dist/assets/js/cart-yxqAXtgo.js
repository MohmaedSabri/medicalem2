var t=Object.defineProperty,r=Object.defineProperties,e=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(r,e,a)=>e in r?t(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,c=(t,r)=>{for(var e in r||(r={}))n.call(r,e)&&o(t,e,r[e]);if(a)for(var e of a(r))i.call(r,e)&&o(t,e,r[e]);return t},s=(t,a)=>r(t,e(a));const u="cart",y=()=>{try{const t=localStorage.getItem(u);if(!t)return[];const r=JSON.parse(t);return Array.isArray(r)?r:[]}catch(t){return[]}},p=t=>{try{localStorage.setItem(u,JSON.stringify(t))}catch(r){}},d=t=>y().some(r=>r.id===t),l=(t,r=1)=>{const e=y();if(e.find(r=>r.id===t)){const a=e.map(e=>e.id===t?s(c({},e),{quantity:e.quantity+r}):e);return p(a),a}{const a={id:t,quantity:r,addedAt:Date.now()},n=[...e,a];return p(n),n}},f=t=>{const r=y().filter(r=>r.id!==t);return p(r),r},b=(t,r)=>{if(r<=0)return f(t);const e=y().map(e=>e.id===t?s(c({},e),{quantity:r}):e);return p(e),e},O=()=>(p([]),[]),g=t=>y().reduce((r,e)=>{const a=t.find(t=>t._id===e.id);return r+(a?a.price*e.quantity:0)},0);export{g as a,l as b,O as c,y as g,d as i,f as r,b as u};
