import{j as e,B as s,c as a,m as t,q as r,h as l,U as i,i as n,D as d,e as c,a as x,R as o}from"./ui-ivQaKv4g.js";import{d as m,a as h,r as g,L as p}from"./router-DkUHWNsB.js";import{e as j,f as b,g as u,b as N}from"./index-DpYrdUYD.js";import{u as v}from"./i18n-5IHHS4r4.js";import"./vendor-BfBH_4IJ.js";import"./utils-CmC-WjbO.js";const w=()=>{const{t:w}=v(),{id:y}=m(),f=h(),{user:k}=j(),[D,T]=g.useState(!1),{data:A,isLoading:B,error:C}=b(y),{mutate:L,isPending:P}=u(),{categories:S}=N(),U=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return B?e.jsx("div",{className:"min-h-screen bg-white pt-32",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 animate-pulse border border-gray-100",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-6 w-1/2"}),e.jsx("div",{className:"h-96 bg-gradient-to-br from-gray-100 to-gray-200 rounded mb-6"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/6"})]})]})})})}):C||!A?e.jsx("div",{className:"min-h-screen bg-white pt-32",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto text-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:e.jsx(s,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:w("postNotFound")}),e.jsx("p",{className:"text-gray-600 mb-6",children:w("postNotFoundDescription")}),e.jsxs(p,{to:"/blog",className:"inline-flex items-center space-x-2 px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[e.jsx(a,{className:"w-4 h-4"}),e.jsx("span",{children:w("backToBlog")})]})]})})})}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"pt-32 pb-8",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(t.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},onClick:()=>f("/blog"),className:"inline-flex items-center space-x-2 text-teal-600 hover:text-teal-800 font-medium mb-6 transition-colors",children:[e.jsx(a,{className:"w-4 h-4"}),e.jsx("span",{children:w("backToBlog")})]})})}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:A.postImage,alt:A.title,className:"w-full h-96 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/10 via-transparent to-teal-600/20"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:"inline-flex items-center space-x-1 bg-white/95 backdrop-blur-sm text-gray-800 px-4 py-2 text-sm font-medium rounded-lg border border-white/20 shadow-lg",children:[e.jsx(r,{className:"w-4 h-4 text-teal-600"}),e.jsx("span",{children:(e=>{if("string"==typeof e){const s=S.find(s=>s._id===e);return s?s.name:e}return e.name})(A.category)})]})}),A.featured&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("span",{className:"inline-flex items-center space-x-1 bg-yellow-500 text-white px-4 py-2 text-sm font-medium rounded-lg shadow-lg",children:[e.jsx(l,{className:"w-4 h-4"}),e.jsx("span",{children:w("featured")})]})})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8 bg-white rounded-xl border border-gray-100 p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(i,{className:"w-6 h-6 text-teal-600"}),e.jsx("span",{children:w("aboutTheAuthor")})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-14 h-14 bg-teal-100 rounded-full flex items-center justify-center",children:e.jsx(i,{className:"w-7 h-7 text-teal-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:A.authorName}),e.jsx("p",{className:"text-gray-600",children:A.authorEmail})]})]})]}),e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 leading-tight",children:A.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-5 h-5 text-teal-600"}),e.jsx("span",{children:A.authorName})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{className:"w-5 h-5 text-teal-600"}),e.jsx("span",{children:U(A.createdAt)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{className:"w-5 h-5 text-teal-600"}),e.jsxs("span",{children:[(e=>{const s=e.trim().split(/\s+/).length;return Math.ceil(s/200)})(A.content)," ",w("minRead")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{className:"w-5 h-5 text-teal-600"}),e.jsxs("span",{children:[A.views," ",w("views")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-5 h-5 text-teal-600"}),e.jsxs("span",{children:[A.likes," ",w("likes")]})]})]}),A.tags&&A.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:A.tags.map((s,a)=>e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 text-sm rounded-full border border-teal-200",children:["#",s]},a))})]}),e.jsx("article",{className:"prose prose-lg max-w-none mb-8",children:e.jsx("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:A.content})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-8 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>{k?y&&(L(y),T(!0)):f("/login")},disabled:P||D,className:"flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors "+(D?"bg-red-100 text-red-600 border border-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"),children:[e.jsx(x,{className:"w-5 h-5 "+(D?"fill-current":"")}),e.jsx("span",{children:w(D?"liked":"like")})]}),e.jsxs("button",{onClick:()=>{return e=function*(){if(navigator.share&&A)try{yield navigator.share({title:A.title,text:A.content.substring(0,100)+"...",url:window.location.href})}catch(e){}else navigator.clipboard.writeText(window.location.href)},new Promise((s,a)=>{var t=s=>{try{l(e.next(s))}catch(t){a(t)}},r=s=>{try{l(e.throw(s))}catch(t){a(t)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,r);l((e=e.apply(null,null)).next())});var e},className:"flex items-center space-x-2 px-6 py-3 bg-teal-100 text-teal-700 rounded-lg hover:bg-teal-200 transition-colors border border-teal-200",children:[e.jsx(o,{className:"w-5 h-5"}),e.jsx("span",{children:w("share")})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[w("lastUpdated"),": ",U(A.updatedAt)]})]})]})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-8 bg-white rounded-xl shadow-lg p-8 border border-gray-100 hidden"})]})})]})};export{w as default};
