var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,n=(e,t)=>{for(var s in t||(t={}))i.call(t,s)&&l(e,s,t[s]);if(a)for(var s of a(t))r.call(t,s)&&l(e,s,t[s]);return e},o=(e,a)=>t(e,s(a)),c=(e,t,s)=>new Promise((a,i)=>{var r=e=>{try{n(s.next(e))}catch(t){i(t)}},l=e=>{try{n(s.throw(e))}catch(t){i(t)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,l);n((s=s.apply(e,t)).next())});import{j as m,m as d,ac as x,Z as g,r as p,U as u,q as h,f as y,S as b,J as j,_ as v,ak as w}from"./ui-BFNfffI_.js";import{e as f,u as N,r as I}from"./router-DUrmdcjM.js";import{p as M,q as D,u as R,r as E,o as S,s as k,n as C}from"./index-BOVhUh1P.js";import{i as Z,b as A}from"./cart-yxqAXtgo.js";import{u as z}from"./i18n-CDketmam.js";import"./vendor-BXA9EqPX.js";import"./utils-C_fqlB_t.js";const P={getAllReviews(){return c(this,null,function*(){return(yield M.GET(D.REVIEWS)).data})},getReviewById(e){return c(this,null,function*(){return(yield M.GET(D.REVIEWS_BY_ID.replace(":id",e))).data})},createReview(e){return c(this,null,function*(){return(yield M.POST(D.REVIEWS,e)).data})},updateReview(e,t){return c(this,null,function*(){return(yield M.PATCH(D.REVIEWS_BY_ID.replace(":id",e),t)).data})},deleteReview(e){return c(this,null,function*(){return(yield M.DELETE(D.REVIEWS_BY_ID.replace(":id",e))).data})},getReviewsByUser(e){return c(this,null,function*(){return(yield M.GET(D.REVIEWS_BY_USER.replace(":user",encodeURIComponent(e)))).data})},getReviewsByRating(e){return c(this,null,function*(){return(yield M.GET(D.REVIEWS_BY_RATING.replace(":rating",String(e)))).data})},getProductReviews(e){return c(this,null,function*(){return(yield M.GET(D.REVIEWS_BY_PRODUCT.replace(":productId",e))).data})}},G=()=>{const{id:e}=f(),t=N(),{currentLanguage:s}=R(),{t:a}=z(),[i,r]=I.useState(null),[l,M]=I.useState([]),G=e=>e?"string"==typeof e?e:"object"==typeof e&&(e[s]||e.en||e.ar)||"":"",W=e=>e?G(e.name):"",L=e=>G(e),[H,Y]=I.useState(!1),[B,T]=I.useState(0),[O,_]=I.useState([]),[F,Q]=I.useState(0),[U,V]=I.useState(0),[$,J]=I.useState({rating:5,comment:"",user:""}),{mutate:K}=E({onSuccess:()=>c(null,null,function*(){if(e){try{const t=yield P.getProductReviews(e);t.reviews&&_(t.reviews),void 0!==t.averageRating&&Q(t.averageRating),void 0!==t.totalReviews&&V(t.totalReviews)}catch(t){}J({rating:5,comment:"",user:""})}})}),[q,X]=I.useState(!1),[ee,te]=I.useState(""),{data:se=[]}=S(),ae=se.map(e=>({id:e._id,name:e.name})),ie=(e,t)=>null==e?"":"string"==typeof e?e:"object"==typeof e?e[s]||e.en||e.ar||"":String(e);if(I.useEffect(()=>{e&&c(null,null,function*(){var t,s,a,i,l,c,m,d,x;Y(!0);try{const p=(yield k.get(D.PRODUCTS_BY_ID.replace(":id",e))).data,u=o(n({},p),{name:(null==(t=p.localized)?void 0:t.name)||ie(p.name),description:(null==(s=p.localized)?void 0:s.description)||ie(p.description),longDescription:(null==(a=p.localized)?void 0:a.longDescription)||ie(p.longDescription),features:((null==(i=p.localized)?void 0:i.features)||p.features||[]).map(e=>ie(e)),specifications:Object.fromEntries(Object.entries(p.specifications||{}).map(([e,t])=>[e,ie(t)])),shipping:(null==(l=p.localized)?void 0:l.shipping)||ie(p.shipping),warranty:(null==(c=p.localized)?void 0:c.warranty)||ie(p.warranty)});r(u);try{const t=yield P.getProductReviews(e);t.reviews&&_(t.reviews),void 0!==t.averageRating&&Q(t.averageRating),void 0!==t.totalReviews&&V(t.totalReviews)}catch(g){p.reviews&&_(p.reviews),void 0!==p.averageRating&&Q(p.averageRating),void 0!==p.totalReviews&&V(p.totalReviews)}T(0);const h=(yield k.get(D.PRODUCTS)).data,y="string"==typeof p.subcategory?p.subcategory:"object"==typeof(null==(m=p.subcategory)?void 0:m.name)?ie(null==(d=p.subcategory)?void 0:d.name):(null==(x=p.subcategory)?void 0:x.name)||"Unknown",b=h.map(e=>{var t,s;return o(n({},e),{name:(null==(t=e.localized)?void 0:t.name)||ie(e.name),description:(null==(s=e.localized)?void 0:s.description)||ie(e.description)})}).filter(e=>{var t,s,a;return("string"==typeof e.subcategory?e.subcategory:"object"==typeof(null==(t=e.subcategory)?void 0:t.name)?ie(null==(s=e.subcategory)?void 0:s.name):(null==(a=e.subcategory)?void 0:a.name)||"Unknown")===y&&e._id!==p._id}).slice(0,4);M(b)}catch(g){}finally{Y(!1)}})},[e,s]),H)return m.jsx("div",{className:"min-h-screen bg-gray-50 pt-16 sm:pt-20 lg:pt-24",children:m.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:m.jsx("div",{className:"text-center py-16 sm:py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-b-2 border-primary-600 mx-auto mb-4"})})})});if(!i)return m.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-16 sm:py-20 text-center",children:m.jsxs(d.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-4",children:[m.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-light text-gray-900 mb-3 sm:mb-4",children:"Product Not Found"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"The product you're looking for doesn't exist."}),m.jsxs("button",{onClick:()=>t("/products"),className:"inline-flex items-center space-x-2 bg-primary-600 text-white px-4 py-2.5 sm:px-6 sm:py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors text-sm sm:text-base",children:[m.jsx(x,{className:"w-4 h-4"}),m.jsx("span",{children:"Return to Products"})]})]})});const re=()=>{X(!1),te("")},le=e=>e?"string"==typeof e?e:e.name:"Unknown Category",ne=e=>{const t=le(e);return L(t).split(" ")[0]};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12 pt-16 sm:pt-20 lg:pt-24",children:[m.jsx(d.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-6 sm:mb-8",children:m.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[m.jsx(x,{className:"w-4 h-4"}),m.jsx("span",{children:"Back"})]})}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 xl:gap-12",children:[m.jsxs(d.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"relative overflow-hidden rounded-xl sm:rounded-2xl shadow-xl cursor-pointer",children:[m.jsx("img",{src:i.images&&i.images.length>0?i.images[B]:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K",alt:`${G(i.name)} - Main product image`,className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px] object-cover transition-transform duration-300 hover:scale-105",onClick:()=>{return e=i.images&&i.images.length>0?i.images[B]:"",te(e),void X(!0);var e},onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"},loading:"lazy"}),m.jsx("div",{className:"absolute top-2 sm:top-4 left-2 sm:left-4",children:m.jsxs("span",{className:"inline-flex items-center space-x-1 sm:space-x-2 bg-white/95 backdrop-blur-sm -webkit-backdrop-blur-sm text-gray-800 px-2 sm:px-3 py-1.5 rounded-lg font-medium border border-white/20 shadow-lg text-xs sm:text-sm",children:[m.jsx(g,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary-600"}),m.jsx("span",{className:"hidden sm:inline",children:(()=>{var e;const t="string"==typeof i.subcategory?i.subcategory:null==(e=i.subcategory)?void 0:e._id,s=ae.find(e=>e.id===t);return s?L(W(s)):"Loading..."})()}),m.jsx("span",{className:"sm:hidden",children:(()=>{var e;const t="string"==typeof i.subcategory?i.subcategory:null==(e=i.subcategory)?void 0:e._id,s=ae.find(e=>e.id===t);return s?L(W(s)).split(" ")[0]:"Loading..."})()})]})})]}),i.images&&i.images.length>0?m.jsx("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",children:i.images.map((e,t)=>m.jsx("button",{type:"button",onClick:()=>T(t),className:"relative overflow-hidden rounded-lg border-2 transition-all duration-300 "+(B===t?"border-primary-500 shadow-lg":"border-gray-200 hover:border-primary-300"),"aria-label":`View image ${t+1} of ${i.images.length}`,title:`View image ${t+1} of ${i.images.length}`,children:m.jsx("img",{src:e,alt:`${G(i.name)} ${t+1}`,className:"w-full h-16 sm:h-20 object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}})},t))}):m.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No images available"})]}),m.jsxs(d.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"space-y-4 sm:space-y-6 lg:space-y-8",children:[m.jsxs("div",{children:[m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.3},className:"inline-flex items-center space-x-1 sm:space-x-2 bg-primary-50 px-2 sm:px-3 py-1.5 rounded-full border border-primary-200 mb-2 sm:mb-3 lg:mb-4",children:[m.jsx(g,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary-600"}),m.jsx("span",{className:"text-primary-700 font-medium text-xs sm:text-sm",children:"Premium Medical Equipment"})]}),m.jsx(d.h1,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-light text-gray-900 mb-2 sm:mb-3 lg:mb-4 leading-tight",children:G(i.name)}),m.jsx(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-between mb-2 sm:mb-3 lg:mb-4",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((e,t)=>m.jsx(p,{className:"w-4 h-4 sm:w-5 sm:h-5 "+(t<Math.floor(F)?"text-yellow-400 fill-current":"text-gray-300")},t))}),m.jsxs("span",{className:"text-gray-600 text-xs sm:text-sm",children:[F.toFixed(1)," (",U," reviews)"]})]})}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-3 sm:mb-4 lg:mb-6",children:[m.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary-600",children:m.jsxs("span",{className:"inline-flex items-center gap-2",children:["ar"===s?m.jsx("span",{children:"د.ا"}):m.jsx("img",{src:"/Dirham%20Currency%20Symbol%20-%20Black.svg",alt:"AED",className:"h-6 w-6"}),m.jsx("span",{children:i.price.toLocaleString()})]})}),m.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Financing available • Bulk pricing available"})]})]}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.7},className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[m.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Description"}),m.jsx("p",{className:"text-gray-600 leading-relaxed text-sm sm:text-base",children:G(i.longDescription)})]}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.8},className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[m.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Specifications"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:Object.entries(i.specifications).map(([e,t])=>m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),m.jsxs("span",{className:"text-gray-700 capitalize",children:[e.replace(/([A-Z])/g," $1").trim(),": ",G(t)]})]},e))})]}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.9},className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[m.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Customer Reviews (",U,")"]}),0===O.length?m.jsx("p",{className:"text-gray-600 text-sm",children:"No reviews yet. Be the first to leave one!"}):m.jsxs("div",{className:"space-y-3",children:[O.slice(0,3).map((e,t)=>m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(u,{className:"w-4 h-4 text-gray-600"}),m.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:e.user}),m.jsxs("span",{className:"text-gray-500 text-xs",children:[m.jsx(h,{className:"w-3 h-3 inline-block mr-1"}),new Date(e.createdAt).toLocaleDateString()]})]}),m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[[...Array(5)].map((t,s)=>m.jsx(p,{className:"w-3 h-3 "+(s<e.rating?"text-yellow-400 fill-current":"text-gray-300")},s)),m.jsx("span",{className:"text-gray-600 text-xs",children:e.rating})]}),m.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.comment})]},t)),O.length>3&&m.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Showing 3 of ",O.length," reviews"]})]}),m.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[m.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-3",children:"Leave a Review"}),m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{htmlFor:"review-user",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name *"}),m.jsx("input",{id:"review-user",name:"review-user",type:"text",placeholder:"Your Name",value:$.user,onChange:e=>J(o(n({},$),{user:e.target.value})),className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",required:!0,"aria-required":"true"})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),m.jsx("div",{className:"flex items-center space-x-2",role:"radiogroup","aria-labelledby":"rating-label",children:[...Array(5)].map((e,t)=>m.jsx("button",{type:"button",onClick:()=>J(o(n({},$),{rating:t+1})),className:"focus:outline-none focus:ring-2 focus:ring-primary-500 rounded","aria-label":`Rate ${t+1} star${0===t?"":"s"}`,title:`Rate ${t+1} star${0===t?"":"s"}`,"aria-pressed":$.rating===t+1,children:m.jsx(p,{className:"w-5 h-5 cursor-pointer "+($.rating>t?"text-yellow-400 fill-current":"text-gray-300")})},t))})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{htmlFor:"review-comment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Comment *"}),m.jsx("textarea",{id:"review-comment",name:"review-comment",rows:3,className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Write your review here...",value:$.comment,onChange:e=>J(o(n({},$),{comment:e.target.value})),required:!0,"aria-required":"true"})]}),m.jsxs("button",{type:"button",onClick:()=>c(null,null,function*(){$.comment.trim()&&$.user.trim()&&K({productId:e,reviewData:{user:$.user,rating:$.rating,comment:$.comment}})}),className:"mt-3 inline-flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-primary-700 transition-colors text-sm holographic-card","aria-label":"Submit review",title:"Submit review",children:[m.jsx(y,{className:"w-4 h-4"}),m.jsx("span",{children:"Submit Review"})]})]})]}),m.jsx(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:1},className:"space-y-3 sm:space-y-4",children:m.jsxs("button",{type:"button",onClick:()=>{i&&i.inStock&&(A(i._id,1),C.success(`${i.name} ${a("addedToCartMessage")}`,{duration:3e3,icon:"🛒",style:{background:"#0ba7ae",color:"#fff"}}))},disabled:!i.inStock,className:"w-full py-3 sm:py-4 px-4 sm:px-6 rounded-xl font-semibold text-base sm:text-lg transition-colors shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 "+(i.inStock?(Z(i._id),"bg-primary-600 text-white hover:bg-primary-700"):"bg-gray-400 text-gray-200 cursor-not-allowed"),"aria-label":i.inStock?Z(i._id)?"Added to cart":"Add to cart":"Out of stock",title:i.inStock?Z(i._id)?"Added to cart":"Add to cart":"Out of stock",children:[m.jsx(b,{className:"w-4 h-4 sm:w-5 sm:h-5"}),m.jsx("span",{children:i.inStock?Z(i._id)?"Added to Cart":"Add to Cart":"Out of Stock"})]})}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:1.1},className:"pt-4 sm:pt-6 lg:pt-8 border-t border-gray-200 space-y-3 sm:space-y-4 lg:space-y-6",children:[m.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Additional Information"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(j,{className:"w-6 h-6 text-orange-600"})}),m.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Shipping"}),m.jsx("p",{className:"text-sm text-gray-600",children:G(i.shipping)})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(v,{className:"w-6 h-6 text-blue-600"})}),m.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Warranty"}),m.jsx("p",{className:"text-sm text-gray-600",children:G(i.warranty)})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(w,{className:"w-6 h-6 text-emerald-600"})}),m.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Certifications"}),m.jsx("p",{className:"text-sm text-gray-600",children:i.certifications.join(", ")})]})]})]})]})]}),l.length>0&&m.jsxs(d.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2},className:"mt-8 sm:mt-12 lg:mt-16 xl:mt-20",children:[m.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[m.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-light text-gray-900 mb-2 sm:mb-3 lg:mb-4",children:["Related",m.jsx("span",{className:"block font-semibold text-primary-600 mt-1",children:"Products"})]}),m.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm sm:text-base px-4",children:"Explore more medical equipment from our comprehensive collection"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:l.map(e=>{var a;return m.jsxs(d.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>t(`/product/${e._id}`),children:[m.jsxs("div",{className:"relative overflow-hidden rounded-t-xl",children:[m.jsx("img",{src:e.image,alt:`${G(e.name)} - Related medical equipment`,className:"w-full h-32 sm:h-40 lg:h-48 object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}}),m.jsx("div",{className:"absolute top-2 left-2",children:m.jsxs("span",{className:"inline-flex items-center space-x-1 bg-white/95 backdrop-blur-sm text-gray-800 px-2 py-1 rounded-lg text-xs font-medium",children:[m.jsx(g,{className:"w-3 h-3 text-primary-600"}),m.jsx("span",{className:"hidden sm:inline",children:L(le(e.subcategory))}),m.jsx("span",{className:"sm:hidden",children:ne(e.subcategory)})]})})]}),m.jsxs("div",{className:"p-2.5 sm:p-3 lg:p-4",children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-1.5 sm:mb-2 line-clamp-2 text-sm sm:text-base",children:G(e.name)}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-primary-600 font-bold text-sm sm:text-base inline-flex items-center gap-1.5",children:["ar"===s?m.jsx("span",{children:"د.ا"}):m.jsx("img",{src:"/Dirham%20Currency%20Symbol%20-%20Black.svg",alt:"AED",className:"h-4 w-4"}),m.jsx("span",{children:e.price.toLocaleString()})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(p,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400 fill-current"}),m.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:(null==(a=e.averageRating)?void 0:a.toFixed(1))||"0.0"})]})]})]})]},e._id)})})]}),q&&m.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:re,children:m.jsxs(d.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-6xl max-h-[90vh] w-full h-full flex items-center",onClick:e=>e.stopPropagation(),children:[m.jsx("button",{onClick:re,className:"absolute top-4 right-4 z-10 bg-white/20 backdrop-blur-sm text-white p-2 rounded-full hover:bg-white/30 transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i&&i.images&&i.images.length>1&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:e=>{e.stopPropagation();const t=i.images.indexOf(ee),s=t>0?t-1:i.images.length-1;te(i.images[s])},className:"absolute left-8 top-1/2 transform -translate-y-1/2 bg-white/20 backdrop-blur-sm text-white p-4 rounded-full hover:bg-white/30 transition-colors z-10",children:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),m.jsx("button",{onClick:e=>{e.stopPropagation();const t=i.images.indexOf(ee),s=t<i.images.length-1?t+1:0;te(i.images[s])},className:"absolute right-8 top-1/2 transform -translate-y-1/2 bg-white/20 backdrop-blur-sm text-white p-4 rounded-full hover:bg-white/30 transition-colors z-10",children:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),m.jsx("div",{className:"flex-1 flex items-center justify-center px-20",style:{width:"calc(100% - 160px)"},children:m.jsx("img",{src:ee,alt:G(null==i?void 0:i.name),className:"max-w-full max-h-full object-contain rounded-lg",style:{maxWidth:"80%",maxHeight:"80%",minWidth:"60%",minHeight:"60%"},onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}})}),i&&i.images&&i.images.length>1&&m.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex flex-col items-center space-y-4 pointer-events-none",children:[m.jsx("div",{className:"flex space-x-3 pointer-events-auto",children:i.images.map((e,t)=>m.jsx("button",{onClick:t=>{t.stopPropagation(),te(e)},className:"w-4 h-4 rounded-full transition-colors "+(ee===e?"bg-white":"bg-white/50 hover:bg-white/70")},t))}),m.jsxs("div",{className:"bg-black/50 text-white px-4 py-2 rounded-full text-sm whitespace-nowrap pointer-events-auto w-16 text-center",children:[i.images.indexOf(ee)+1," / ",i.images.length]})]})]})})]})})};export{G as default};
