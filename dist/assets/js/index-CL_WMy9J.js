const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Home-CQ0Vdn2_.js","assets/js/ui-BCOrIJQa.js","assets/js/router-DkUHWNsB.js","assets/js/vendor-BfBH_4IJ.js","assets/js/i18n-5IHHS4r4.js","assets/js/Footer-B3zSfM_7.js","assets/js/Contact-Cd0zmEkW.js","assets/js/utils-Cz1RCjxC.js","assets/js/About-CGIAv4cX.js","assets/js/Blog-Ct6lWZUE.js","assets/js/BlogDetail-DhTuukhd.js","assets/js/Favorites-p68oRsO0.js","assets/js/favorites-CcQ15v0J.js","assets/js/ProductsPage-CUFL-aR2.js","assets/js/ProductDetail-94npvh47.js","assets/js/PrivacyPolicy-DA5N830k.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,o=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))i.call(t,a)&&n(e,a,t[a]);return e},l=(e,s)=>t(e,a(s)),c=(e,t,a)=>new Promise((s,r)=>{var i=e=>{try{o(a.next(e))}catch(ze){r(ze)}},n=e=>{try{o(a.throw(e))}catch(ze){r(ze)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,n);o((a=a.apply(e,t)).next())});import{j as d,m as u,H as m,B as p,I as g,a as x,P as h,Z as y,b,C as f,A as v,X as j,G as N,M as w,c as C,d as S,L as k,E as P,e as E,f as A,S as D,g as T,h as I,U as _,i as R,T as L,k as O,l as F,F as M,n as U,o as q,p as B,q as V,r as $,s as z,t as Y,u as Q}from"./ui-BCOrIJQa.js";import{r as W,u as H,a as G,L as K,R as Z,N as J,B as X,b as ee,c as te}from"./router-DkUHWNsB.js";import{a as ae}from"./vendor-BfBH_4IJ.js";import{a as se,u as re,b as ie,c as ne,Q as oe,d as le}from"./utils-Cz1RCjxC.js";import{u as ce,i as de,a as ue}from"./i18n-5IHHS4r4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var me,pe={},ge=function(){if(me)return pe;me=1;var e=ae();return pe.createRoot=e.createRoot,pe.hydrateRoot=e.hydrateRoot,pe}();const xe={},he=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(null==a?void 0:a.nonce)||(null==a?void 0:a.getAttribute("nonce"));s=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in xe)return;xe[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,a)=>{s.addEventListener("load",t),s.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};let ye,be,fe,ve={data:""},je=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ne=/\/\*[^]*?\*\/|  +/g,we=/\n+/g,Ce=(e,t)=>{let a="",s="",r="";for(let i in e){let n=e[i];"@"==i[0]?"i"==i[1]?a=i+" "+n+";":s+="f"==i[1]?Ce(n,i):i+"{"+Ce(n,"k"==i[1]?"":t)+"}":"object"==typeof n?s+=Ce(n,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=n&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Ce.p?Ce.p(i,n):i+":"+n+";")}return a+(t&&r?t+"{"+r+"}":r)+s},Se={},ke=e=>{if("object"==typeof e){let t="";for(let a in e)t+=a+ke(e[a]);return t}return e};function Pe(e){let t=this||{},a=e.call?e(t.p):e;return((e,t,a,s,r)=>{let i=ke(e),n=Se[i]||(Se[i]=(e=>{let t=0,a=11;for(;t<e.length;)a=101*a+e.charCodeAt(t++)>>>0;return"go"+a})(i));if(!Se[n]){let t=i!==e?e:(e=>{let t,a,s=[{}];for(;t=je.exec(e.replace(Ne,""));)t[4]?s.shift():t[3]?(a=t[3].replace(we," ").trim(),s.unshift(s[0][a]=s[0][a]||{})):s[0][t[1]]=t[2].replace(we," ").trim();return s[0]})(e);Se[n]=Ce(r?{["@keyframes "+n]:t}:t,a?"":"."+n)}let o=a&&Se.g?Se.g:null;return a&&(Se.g=Se[n]),l=Se[n],c=t,d=s,(u=o)?c.data=c.data.replace(u,l):-1===c.data.indexOf(l)&&(c.data=d?l+c.data:c.data+l),n;var l,c,d,u})(a.unshift?a.raw?((e,t,a)=>e.reduce((e,s,r)=>{let i=t[r];if(i&&i.call){let e=i(a),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":Ce(e,""):!1===e?"":e}return e+s+(null==i?"":i)},""))(a,[].slice.call(arguments,1),t.p):a.reduce((e,a)=>Object.assign(e,a&&a.call?a(t.p):a),{}):a,(s=t.target,"object"==typeof window?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||ve),t.g,t.o,t.k);var s}Pe.bind({g:1});let Ee=Pe.bind({k:1});function Ae(e,t){let a=this||{};return function(){let t=arguments;return function s(r,i){let n=Object.assign({},r),o=n.className||s.className;a.p=Object.assign({theme:be&&be()},n),a.o=/ *go\d+/.test(o),n.className=Pe.apply(a,t)+(o?" "+o:"");let l=e;return e[0]&&(l=n.as||e,delete n.as),fe&&l[0]&&fe(n),ye(l,n)}}}var De=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Te=(()=>{let e=0;return()=>(++e).toString()})(),Ie=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),_e="default",Re=(e,t)=>{let{toastLimit:a}=e.settings;switch(t.type){case 0:return l(o({},e),{toasts:[t.toast,...e.toasts].slice(0,a)});case 1:return l(o({},e),{toasts:e.toasts.map(e=>e.id===t.toast.id?o(o({},e),t.toast):e)});case 2:let{toast:s}=t;return Re(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=t;return l(o({},e),{toasts:e.toasts.map(e=>e.id===r||void 0===r?l(o({},e),{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?l(o({},e),{toasts:[]}):l(o({},e),{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return l(o({},e),{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return l(o({},e),{pausedAt:void 0,toasts:e.toasts.map(e=>l(o({},e),{pauseDuration:e.pauseDuration+i}))})}},Le=[],Oe={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Fe={},Me=(e,t=_e)=>{Fe[t]=Re(Fe[t]||Oe,e),Le.forEach(([e,a])=>{e===t&&a(Fe[t])})},Ue=e=>Object.keys(Fe).forEach(t=>Me(e,t)),qe=(e=_e)=>t=>{Me(t,e)},Be={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ve=e=>(t,a)=>{let s=((e,t="blank",a)=>l(o({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},a),{id:(null==a?void 0:a.id)||Te()}))(t,e,a);return qe(s.toasterId||(e=>Object.keys(Fe).find(t=>Fe[t].toasts.some(t=>t.id===e)))(s.id))({type:2,toast:s}),s.id},$e=(e,t)=>Ve("blank")(e,t);$e.error=Ve("error"),$e.success=Ve("success"),$e.loading=Ve("loading"),$e.custom=Ve("custom"),$e.dismiss=(e,t)=>{let a={type:3,toastId:e};t?qe(t)(a):Ue(a)},$e.dismissAll=e=>$e.dismiss(void 0,e),$e.remove=(e,t)=>{let a={type:4,toastId:e};t?qe(t)(a):Ue(a)},$e.removeAll=e=>$e.remove(void 0,e),$e.promise=(e,t,a)=>{let s=$e.loading(t.loading,o(o({},a),null==a?void 0:a.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let r=t.success?De(t.success,e):void 0;return r?$e.success(r,o(o({id:s},a),null==a?void 0:a.success)):$e.dismiss(s),e}).catch(e=>{let r=t.error?De(t.error,e):void 0;r?$e.error(r,o(o({id:s},a),null==a?void 0:a.error)):$e.dismiss(s)}),e};var ze,Ye=Ee`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Qe=Ee`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,We=Ee`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,He=Ae("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ye} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Qe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${We} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ge=Ee`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ke=Ae("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Ge} 1s linear infinite;
`,Ze=Ee`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Je=Ee`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Xe=Ae("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ze} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Je} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,et=Ae("div")`
  position: absolute;
`,tt=Ae("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,at=Ee`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,st=Ae("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${at} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rt=({toast:e})=>{let{icon:t,type:a,iconTheme:s}=e;return void 0!==t?"string"==typeof t?W.createElement(st,null,t):t:"blank"===a?null:W.createElement(tt,null,W.createElement(Ke,o({},s)),"loading"!==a&&W.createElement(et,null,"error"===a?W.createElement(He,o({},s)):W.createElement(Xe,o({},s))))},it=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,nt=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,ot=Ae("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lt=Ae("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ct=W.memo(({toast:e,position:t,style:a,children:s})=>{let r=e.height?((e,t)=>{let a=e.includes("top")?1:-1,[s,r]=Ie()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[it(a),nt(a)];return{animation:t?`${Ee(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ee(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},i=W.createElement(rt,{toast:e}),n=W.createElement(lt,o({},e.ariaProps),De(e.message,e));return W.createElement(ot,{className:e.className,style:o(o(o({},r),a),e.style)},"function"==typeof s?s({icon:i,message:n}):W.createElement(W.Fragment,null,i,n))});ze=W.createElement,Ce.p=undefined,ye=ze,be=undefined,fe=undefined;var dt=({id:e,className:t,style:a,onHeightUpdate:s,children:r})=>{let i=W.useCallback(t=>{if(t){let a=()=>{let a=t.getBoundingClientRect().height;s(e,a)};a(),new MutationObserver(a).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return W.createElement("div",{ref:i,className:t,style:a},r)},ut=Pe`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mt=({reverseOrder:e,position:t="top-center",toastOptions:a,gutter:s,children:r,toasterId:i,containerStyle:n,containerClassName:c})=>{let{toasts:d,handlers:u}=((e,t="default")=>{let{toasts:a,pausedAt:s}=((e={},t=_e)=>{let[a,s]=W.useState(Fe[t]||Oe),r=W.useRef(Fe[t]);W.useEffect(()=>(r.current!==Fe[t]&&s(Fe[t]),Le.push([t,s]),()=>{let e=Le.findIndex(([e])=>e===t);e>-1&&Le.splice(e,1)}),[t]);let i=a.toasts.map(t=>{var a,s,r;return l(o(o(o({},e),e[t.type]),t),{removeDelay:t.removeDelay||(null==(a=e[t.type])?void 0:a.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(s=e[t.type])?void 0:s.duration)||(null==e?void 0:e.duration)||Be[t.type],style:o(o(o({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})});return l(o({},a),{toasts:i})})(e,t),r=W.useRef(new Map).current,i=W.useCallback((e,t=1e3)=>{if(r.has(e))return;let a=setTimeout(()=>{r.delete(e),n({type:4,toastId:e})},t);r.set(e,a)},[]);W.useEffect(()=>{if(s)return;let e=Date.now(),r=a.map(a=>{if(a.duration===1/0)return;let s=(a.duration||0)+a.pauseDuration-(e-a.createdAt);if(!(s<0))return setTimeout(()=>$e.dismiss(a.id,t),s);a.visible&&$e.dismiss(a.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[a,s,t]);let n=W.useCallback(qe(t),[t]),c=W.useCallback(()=>{n({type:5,time:Date.now()})},[n]),d=W.useCallback((e,t)=>{n({type:1,toast:{id:e,height:t}})},[n]),u=W.useCallback(()=>{s&&n({type:6,time:Date.now()})},[s,n]),m=W.useCallback((e,t)=>{let{reverseOrder:s=!1,gutter:r=8,defaultPosition:i}=t||{},n=a.filter(t=>(t.position||i)===(e.position||i)&&t.height),o=n.findIndex(t=>t.id===e.id),l=n.filter((e,t)=>t<o&&e.visible).length;return n.filter(e=>e.visible).slice(...s?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+r,0)},[a]);return W.useEffect(()=>{a.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=r.get(e.id);t&&(clearTimeout(t),r.delete(e.id))}})},[a,i]),{toasts:a,handlers:{updateHeight:d,startPause:c,endPause:u,calculateOffset:m}}})(a,i);return W.createElement("div",{"data-rht-toaster":i||"",style:o({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},n),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(a=>{let i=a.position||t,n=((e,t)=>{let a=e.includes("top"),s=a?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return o(o({left:0,right:0,display:"flex",position:"absolute",transition:Ie()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`},s),r)})(i,u.calculateOffset(a,{reverseOrder:e,gutter:s,defaultPosition:t}));return W.createElement(dt,{id:a.id,key:a.id,onHeightUpdate:u.updateHeight,className:a.visible?ut:"",style:n},"custom"===a.type?De(a.message,a):r?r(a):W.createElement(ct,{toast:a,position:i}))}))},pt=$e;const gt=W.createContext(void 0),xt=()=>{const e=W.useContext(gt);if(void 0===e)throw new Error("useLanguage must be used within a LanguageProvider");return e},ht=({children:e})=>{const{i18n:t}=ce(),[a,s]=W.useState("en");W.useEffect(()=>{const e=localStorage.getItem("language");!e||"en"!==e&&"ar"!==e||(s(e),t.changeLanguage(e),document.documentElement.dir="ar"===e?"rtl":"ltr")},[t]);const r={currentLanguage:a,changeLanguage:e=>{s(e),t.changeLanguage(e),localStorage.setItem("language",e),document.documentElement.dir="ar"===e?"rtl":"ltr"},isRTL:"ar"===a};return d.jsx(gt.Provider,{value:r,children:e})},yt=se.create({baseURL:"https://zaher-backend.vercel.app/api",timeout:1e4,headers:{"Content-Type":"application/json"}});yt.interceptors.request.use(e=>{const t=(()=>{const e="authToken=",t=document.cookie.split(";");for(let a=0;a<t.length;a++){let s=t[a];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return s.substring(10,s.length)}return null})(),a="undefined"!=typeof window&&localStorage.getItem("language")||"en";return t&&(e.headers.Authorization=`Bearer ${t}`),e.headers["Accept-Language"]=a,e},e=>Promise.reject(e)),yt.interceptors.response.use(e=>e,e=>{var t;return 401===(null==(t=e.response)?void 0:t.status)&&(document.cookie="authToken=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;","/login"!==window.location.pathname&&(window.location.href="/login")),Promise.reject(e)});const bt=e=>yt.get(e),ft=(e,t)=>yt.post(e,t),vt=(e,t)=>yt.patch(e,t),jt=e=>yt.delete(e),Nt="/categories",wt={getAllCategories(){return c(this,null,function*(){try{return(yield bt(Nt)).data}catch(e){throw e}})},getCategoryById(e){return c(this,null,function*(){try{return(yield bt(`${Nt}/${e}`)).data}catch(t){throw t}})},createCategory(e){return c(this,null,function*(){try{return(yield ft(Nt,e)).data}catch(t){throw t}})},updateCategory(e,t){return c(this,null,function*(){try{return(yield vt(`${Nt}/${e}`,t)).data}catch(a){throw a}})},deleteCategory(e){return c(this,null,function*(){try{return(yield jt(`${Nt}/${e}`)).data}catch(t){throw t}})}},Ct={products:{all:["products"],lists:()=>[...Ct.products.all,"list"],list:e=>[...Ct.products.lists(),e],details:()=>[...Ct.products.all,"detail"],detail:e=>[...Ct.products.details(),e],reviews:e=>[...Ct.products.detail(e),"reviews"]},categories:{all:["categories"],lists:()=>[...Ct.categories.all,"list"],list:e=>[...Ct.categories.lists(),e],details:()=>[...Ct.categories.all,"detail"],detail:e=>[...Ct.categories.details(),e]},posts:{all:["posts"],lists:()=>[...Ct.posts.all,"list"],list:(e,t)=>[...Ct.posts.lists(),e,t],details:()=>[...Ct.posts.all,"detail"],detail:(e,t)=>[...Ct.posts.details(),e,t],featured:(e,t)=>[...Ct.posts.all,"featured",e,t],search:(e,t,a,s)=>[...Ct.posts.all,"search",e,t,a,s],byCategory:(e,t,a)=>[...Ct.posts.all,"category",e,t,a],byAuthor:(e,t,a)=>[...Ct.posts.all,"author",e,t,a],stats:()=>[...Ct.posts.all,"stats"],comments:(e,t,a)=>[...Ct.posts.detail(e),"comments",t,a]}},St=e=>re({queryKey:Ct.categories.list({}),queryFn:()=>wt.getAllCategories(),staleTime:6e5,gcTime:12e5}),kt={USERS_LOGIN:"/users/login",PRODUCTS:"/products",PRODUCTS_BY_ID:"/products/:id",PRODUCTS_BY_CATEGORY:"/products/category/:category",PRODUCTS_BY_SUBCATEGORY:"/products/subcategory/:subcategory",PRODUCT_REVIEWS:"/products/:productId/reviews",CATEGORIES:"/categories",CATEGORIES_BY_ID:"/categories/:id",SUBCATEGORIES:"/subcategories",SUBCATEGORIES_BY_ID:"/subcategories/:id",SUBCATEGORIES_BY_PARENT:"/subcategories/parent/:parentId",REVIEWS:"/reviews",REVIEWS_BY_ID:"/reviews/:id",REVIEWS_BY_USER:"/reviews/user/:user",REVIEWS_BY_RATING:"/reviews/rating/:rating",REVIEWS_BY_PRODUCT:"/reviews/product/:productId",POSTS:"/posts",POSTS_BY_ID:"/posts/:id",POSTS_FEATURED:"/posts/featured",POSTS_SEARCH:"/posts/search",POSTS_BY_AUTHOR:"/posts/author/:email",POSTS_BY_CATEGORY:"/posts/category/:category",POSTS_STATS:"/posts/stats",POSTS_LIKE:"/posts/:id/like",POSTS_COMMENTS:"/posts/:id/comments",POSTS_COMMENT_BY_ID:"/posts/:postId/comments/:commentId"},Pt={getAllSubCategories(){return c(this,null,function*(){try{return(yield yt.get(kt.SUBCATEGORIES)).data}catch(e){throw e}})},getSubCategoryById(e){return c(this,null,function*(){try{const t=kt.SUBCATEGORIES_BY_ID.replace(":id",e);return(yield yt.get(t)).data}catch(t){throw t}})},getSubCategoriesByParent(e){return c(this,null,function*(){try{const t=kt.SUBCATEGORIES_BY_PARENT.replace(":parentId",e);return(yield yt.get(t)).data}catch(t){throw t}})},createSubCategory(e){return c(this,null,function*(){try{return(yield yt.post(kt.SUBCATEGORIES,e)).data}catch(t){throw t}})},updateSubCategory(e,t){return c(this,null,function*(){try{const a=kt.SUBCATEGORIES_BY_ID.replace(":id",e);return(yield yt.patch(a,t)).data}catch(a){throw a}})},deleteSubCategory(e){return c(this,null,function*(){try{const t=kt.SUBCATEGORIES_BY_ID.replace(":id",e);return(yield yt.delete(t)).data}catch(t){throw t}})}},Et=()=>re({queryKey:Ct.categories.all,queryFn:()=>Pt.getAllSubCategories(),staleTime:3e5}),At=({isLoginPage:e=!1})=>{const[t,a]=W.useState(!1),[s,r]=W.useState(!1),[i,n]=W.useState(!1),[o,l]=W.useState(!1),[c,k]=W.useState(!1),[P,E]=W.useState(null),[A,D]=W.useState(null),T=H(),I=G(),{currentLanguage:_,changeLanguage:R,isRTL:L}=xt(),{data:O=[]}=St(),{data:F=[]}=Et();W.useEffect(()=>{const e=()=>{k(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),W.useEffect(()=>{const e=()=>{l(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const M=[{path:"/",label:"ar"===_?"دورر":"Dorar",icon:m},{path:"/blog",label:"ar"===_?"المدونة":"Blog",icon:p},{path:"/about",label:"ar"===_?"من نحن":"About",icon:g},{path:"/favorites",label:"ar"===_?"المفضلة":"Favorites",icon:x},{path:"/contact",label:"ar"===_?"اتصل بنا":"Contact",icon:h}];W.useEffect(()=>()=>{A&&clearTimeout(A)},[A]),W.useEffect(()=>{const e=e=>{const t=e.target;t.closest(".products-dropdown")||t.closest(".products-button")||t.closest(".language-dropdown")||t.closest(".language-button")||(r(!1),n(!1),E(null))};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[]);const U=e=>/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/.test(e),q=()=>{A&&(clearTimeout(A),D(null)),r(!0)},B=()=>{if(!("ontouchstart"in window)){const e=setTimeout(()=>{r(!1),E(null)},150);D(e)}},V=e=>{e.preventDefault(),e.stopPropagation(),r(!s),s||E(null)},$=e=>{A&&(clearTimeout(A),D(null)),E(e)},z=()=>{if(!("ontouchstart"in window)){const e=setTimeout(()=>{E(null)},100);D(e)}},Y={animate:{y:[0,-5,0],transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:.5}}};return d.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 mt-4 md:mt-12 transition-all duration-300 "+(e?"hidden":""),children:d.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20 lg:h-24",children:[d.jsx(K,{to:"/",className:"flex items-center z-50 group flex-shrink-0 "+(L?"space-x-reverse space-x-2":"space-x-2"),onClick:()=>a(!1),children:d.jsx(u.div,{className:"relative flex-shrink-0",variants:{animate:{y:[0,-8,0],transition:{duration:3,repeat:1/0,ease:"easeInOut"}}},animate:"animate",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},children:d.jsxs("div",{className:`\n                p-2 sm:p-3 rounded-full transition-all duration-300 group-hover:shadow-xl \n                ${o||c?"bg-white/95 backdrop-blur-lg border border-white/40 shadow-lg":"bg-white/90 backdrop-blur-md border border-white/30 shadow-xl"}\n              `,children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-400 via-blue-500 to-purple-600 opacity-0 group-hover:opacity-20 transition-opacity duration-300 rounded-full blur-sm"}),d.jsx("img",{src:"https://i.postimg.cc/x1bkFGQh/logo.png",alt:"Dorar Logo",className:"relative w-6  h-6 sm:w-8 sm:h-8 lg:w-10 lg:h-10 object-contain rounded-lg transition-transform duration-300 group-hover:rotate-12",onError:e=>{var t;const a=e.target;a.style.display="none";const s=document.createElement("div");s.className="relative w-6 h-6 sm:w-8 sm:h-8 lg:w-10 lg:h-10 bg-teal-600 rounded-lg flex items-center justify-center transition-transform duration-300 group-hover:rotate-12",s.innerHTML='<span class="text-white font-bold text-xs sm:text-sm lg:text-base">M</span>',null==(t=a.parentNode)||t.appendChild(s)}})]})})}),d.jsx("nav",{className:"hidden lg:flex items-center  justify-end  max-w-4xl mx-2",children:d.jsxs("div",{className:"\n                flex items-center space-x-1 xl:space-x-2 rounded-full px-2 py-2 border transition-all duration-300\n                bg-white/80 backdrop-blur-md border-white/20 shadow-xl\n              ",children:[M.map((e,t)=>{const a=T.pathname===e.path,i=e.icon;return d.jsxs(Z.Fragment,{children:[d.jsxs(K,{to:e.path,className:`\n                        relative flex items-center px-3 xl:px-4 py-2 xl:py-3 rounded-full transition-all duration-200\n                        ${a?"bg-teal-600 text-white shadow-md":"text-gray-700 hover:text-teal-600 hover:bg-white/50"}\n                      `,children:[d.jsx(i,{className:"h-4 w-4 "+(L?"ml-2":"mr-2")}),d.jsx("span",{className:"text-sm xl:text-base font-medium whitespace-nowrap",children:e.label}),a&&d.jsx(y,{className:"h-4 w-4 text-yellow-400 ml-1"})]}),0===t&&d.jsxs("div",{className:"relative products-button",onMouseEnter:q,onMouseLeave:B,children:[d.jsxs("button",{onClick:V,className:"flex items-center px-3 xl:px-4 py-2 xl:py-3 rounded-full text-gray-700 hover:text-teal-600 hover:bg-white/50 transition-all duration-200",children:[d.jsx(b,{className:"h-4 w-4 "+(L?"ml-2":"mr-2")}),d.jsx("span",{className:"text-sm xl:text-base font-medium whitespace-nowrap",children:"ar"===_?"المنتجات":"Products"}),d.jsx(f,{className:"h-3 w-3 ml-1 transition-transform "+(s?"rotate-180":"rotate-0")})]}),d.jsx(v,{children:s&&d.jsxs("div",{className:`products-dropdown absolute ${L?"right-0":"left-0"} mt-1 w-96 rounded-2xl bg-white/95 backdrop-blur-md border border-white/40 shadow-2xl p-4 z-50`,style:{transform:"translateY(4px)",pointerEvents:"auto"},onMouseEnter:q,onMouseLeave:B,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"px-2 py-1 text-sm font-semibold text-teal-700 uppercase tracking-wide",children:"ar"===_?"اختر فئة":"Select Category"}),d.jsx("button",{onClick:()=>r(!1),className:"close-products-menu p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(j,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:O.length>0?O.map(e=>{const t=(a=e._id,F.filter(e=>{var t;return("string"==typeof e.parentCategory?e.parentCategory:null==(t=e.parentCategory)?void 0:t._id)===a}));var a;const s="object"==typeof e.name?e.name[_]||e.name.en:e.name;return d.jsxs("div",{className:"relative group",onMouseEnter:()=>$(e._id),onMouseLeave:z,children:[d.jsxs("button",{onClick:t=>((e,t)=>{if(t.stopPropagation(),"ontouchstart"in window)if(P===e){const t=O.find(t=>t._id===e);if(t){const e="object"==typeof t.name?t.name[_]||t.name.en:t.name;I(`/products?category=${encodeURIComponent(e)}`),r(!1),E(null)}}else E(e);else{const t=O.find(t=>t._id===e);if(t){const e="object"==typeof t.name?t.name[_]||t.name.en:t.name;I(`/products?category=${encodeURIComponent(e)}`),r(!1),E(null)}}})(e._id,t),className:"w-full text-left px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl text-gray-700 hover:bg-teal-50 hover:text-teal-700 border border-gray-100 hover:border-teal-200 transition-all duration-200 hover:shadow-md",children:[d.jsx("div",{className:"font-medium text-sm sm:text-base",children:d.jsx("span",{className:U(s)?"text-right":"text-left",children:s})}),d.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 mt-1 flex items-center justify-between",children:[d.jsx("span",{children:"ar"===_?"عرض المنتجات":"View Products"}),t.length>0&&d.jsxs("span",{className:"text-teal-600 font-medium text-xs sm:text-sm",children:[t.length," ","ar"===_?"فرعية":"sub"]})]})]}),P===e._id&&t.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`absolute top-0 w-1 h-full ${L?"right-full":"left-full"} hidden lg:block`,style:{marginLeft:L?"0px":"-1px",marginRight:L?"-1px":"0px"},onMouseEnter:()=>$(e._id)}),d.jsxs("div",{className:"absolute top-0 w-56 sm:w-64 rounded-xl bg-white/95 backdrop-blur-md border border-white/40 shadow-2xl p-3 z-50 hidden lg:block "+(L?"right-full mr-1":"left-full ml-1"),style:{marginLeft:L?"0px":"4px",marginRight:L?"4px":"0px"},onMouseEnter:()=>$(e._id),onMouseLeave:z,children:[d.jsx("div",{className:"text-xs font-semibold text-teal-700 uppercase tracking-wide mb-2 px-2",children:"ar"===_?"الفئات الفرعية":"Subcategories"}),d.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:t.map(e=>{const t="object"==typeof e.name?e.name[_]||e.name.en:e.name;return d.jsx("button",{onClick:e=>{e.preventDefault(),I(`/products?subcategory=${encodeURIComponent(t)}`),r(!1),E(null)},className:"w-full px-3 py-2 rounded-lg text-gray-600 hover:bg-teal-50 hover:text-teal-700 transition-all duration-200 text-sm "+(U(t)?"text-right":"text-left"),children:t},e._id)})})]})]})]},e._id)}):d.jsx("div",{className:"px-4 py-8 text-center text-gray-500 text-sm sm:text-base",children:"ar"===_?"لا توجد فئات متاحة":"No categories available"})}),d.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:d.jsx("button",{onClick:()=>{I("/products"),r(!1)},className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-teal-600 text-white rounded-lg sm:rounded-xl hover:bg-teal-700 transition-colors font-medium text-sm sm:text-base",children:"ar"===_?"عرض جميع المنتجات":"View All Products"})})]})})]})]},e.path)}),d.jsxs("div",{className:"relative language-dropdown",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[d.jsxs(u.button,{onClick:()=>n(!i),className:"language-button flex items-center px-3 xl:px-4 py-2 xl:py-3 rounded-full text-gray-700 hover:text-teal-600 hover:bg-white/50 transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(N,{className:"h-4 w-4 "+(L?"ml-2":"mr-2")}),d.jsx("span",{className:"text-sm xl:text-base font-medium",children:_.toUpperCase()}),d.jsx(f,{className:"h-3 w-3 ml-1 transition-transform "+(i?"rotate-180":"rotate-0")})]}),d.jsx(v,{children:i&&d.jsxs(u.div,{variants:{hidden:{opacity:0,y:10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.15,ease:[.25,.46,.45,.94]}},exit:{opacity:0,y:10,scale:.95,transition:{duration:.1,ease:[.25,.46,.45,.94]}}},initial:"hidden",animate:"visible",exit:"exit",className:`language-dropdown absolute ${L?"left-0":"right-0"} mt-1 w-32 rounded-xl bg-white/95 backdrop-blur-lg border border-white/30 shadow-xl p-2 z-50`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[d.jsx("button",{onClick:()=>{R("en"),n(!1)},className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-all duration-200 "+("en"===_?"bg-teal-600 text-white":"text-gray-700 hover:bg-teal-50 hover:text-teal-600"),children:"En"}),d.jsx("button",{onClick:()=>{R("ar"),n(!1)},className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-all duration-200 "+("ar"===_?"bg-teal-600 text-white":"text-gray-700 hover:bg-teal-50 hover:text-teal-600"),children:"Ar"})]})})]})]})}),d.jsxs("div",{className:"flex items-center flex-shrink-0 "+(L?"space-x-reverse space-x-2 sm:space-x-reverse sm:space-x-3":"space-x-2 sm:space-x-3"),children:[d.jsxs("div",{className:"hidden xl:flex items-center "+(L?"space-x-reverse space-x-2":"space-x-2"),children:[d.jsxs(u.a,{href:"mailto:info@dorarmed.com",className:`\n                  relative flex items-center justify-center w-10 h-10 lg:w-12 lg:h-12 rounded-full transition-all duration-300 group\n                  ${o||c?"bg-white/95 backdrop-blur-lg border border-white/40 shadow-lg":"bg-white/90 backdrop-blur-md border border-white/30 shadow-xl"}\n                  text-gray-600 hover:text-teal-600 overflow-hidden\n                `,variants:Y,animate:"animate",whileHover:{scale:1.1,rotate:-5},whileTap:{scale:.95},children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-400 to-blue-500 opacity-0 group-hover:opacity-20 transition-opacity duration-300 rounded-full"}),d.jsx(w,{className:"mx-2 relative h-4 w-4 lg:h-5 lg:w-5 group-hover:scale-110 transition-transform duration-300"})]}),d.jsxs(u.a,{href:"tel:+971556707773",className:`\n                  relative flex items-center justify-center w-10 h-10 lg:w-12 lg:h-12 rounded-full transition-all duration-300 group\n                  ${o||c?"bg-white/95 backdrop-blur-lg border border-white/40 shadow-lg":"bg-white/90 backdrop-blur-md border border-white/30 shadow-xl"}\n                  text-gray-600 hover:text-emerald-600 overflow-hidden\n                `,variants:Y,animate:"animate",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},style:{animationDelay:"0.3s"},children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-green-500 opacity-0 group-hover:opacity-20 transition-opacity duration-300 rounded-full"}),d.jsx(h,{className:"relative  h-4 w-4 lg:h-5 lg:w-5 group-hover:scale-110 transition-transform duration-300"})]})]}),d.jsx(u.button,{className:`\n                lg:hidden flex items-center justify-center w-10 h-10 rounded-full transition-all duration-300\n                ${o||c?"bg-white/90 backdrop-blur-md border border-white/30 shadow-lg":"bg-white/80 backdrop-blur-md border border-white/20 shadow-xl"}\n                text-gray-700 hover:text-teal-600\n              `,onClick:()=>a(!t),whileHover:{scale:1.1},whileTap:{scale:.95},children:t?d.jsx(j,{className:"h-5 w-5 transition-transform"}):d.jsx(C,{className:"h-5 w-5 transition-transform"})})]})]}),d.jsx(v,{children:t&&d.jsxs(d.Fragment,{children:[d.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>a(!1)}),d.jsxs(u.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed top-0 right-0 h-full w-80 bg-white/95 backdrop-blur-xl shadow-2xl z-50 overflow-y-auto hide-scrollbar",children:[d.jsx("div",{className:"p-6 border-b border-gray-200/50",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:"https://i.postimg.cc/x1bkFGQh/logo.png",alt:"Dorar Logo",className:"h-10 w-10 object-cover rounded-lg"}),d.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Dorar"})]}),d.jsx(u.button,{onClick:()=>a(!1),whileHover:{scale:1.1,rotate:90},whileTap:{scale:.95},className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:d.jsx(j,{className:"h-5 w-5 text-gray-600"})})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"space-y-3 mb-8",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4",children:"ar"===_?"التنقل الرئيسي":"Main Navigation"}),M.map(e=>{const t=T.pathname===e.path,s=e.icon;return d.jsx(u.div,{whileHover:{x:L?-5:5},whileTap:{scale:.98},children:d.jsxs(K,{to:e.path,onClick:()=>a(!1),className:`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex items-center w-full p-4 rounded-2xl transition-all duration-300 group\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${t?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-lg shadow-teal-500/30":"text-gray-700 hover:bg-teal-50 hover:text-teal-600 hover:shadow-md"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t`,children:[d.jsx("div",{className:`p-2 rounded-xl ${t?"bg-white/20":"bg-teal-100 group-hover:bg-teal-200"} transition-colors ${L?"ml-3":"mr-3"}`,children:d.jsx(s,{className:"h-5 w-5"})}),d.jsx("span",{className:"font-medium flex-1",children:e.label}),t&&d.jsx(u.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"p-1 rounded-full bg-white/20",children:d.jsx(y,{className:"h-4 w-4 text-yellow-300"})})]})},e.path)})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4",children:"ar"===_?"المنتجات":"Products"}),d.jsx(u.div,{whileHover:{x:-5},whileTap:{scale:.98},className:"mb-4",children:d.jsxs(K,{to:"/products",onClick:()=>a(!1),className:"flex items-center w-full p-4 rounded-2xl text-gray-700 hover:bg-gradient-to-r hover:from-teal-50 hover:to-teal-100 hover:text-teal-600 transition-all duration-300 group",children:[d.jsx("div",{className:"p-2 rounded-xl bg-teal-100 group-hover:bg-teal-200 transition-colors mr-3",children:d.jsx(b,{className:"h-5 w-5"})}),d.jsx("span",{className:"font-medium flex-1",children:"ar"===_?"جميع المنتجات":"All Products"}),d.jsx(S,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}),d.jsxs("div",{className:"border-t border-gray-200/50 pt-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4",children:"ar"===_?"التواصل":"Contact"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[d.jsxs(u.a,{href:"mailto:info@dorarmed.com",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"flex flex-col items-center p-4 bg-gradient-to-br from-teal-50 to-teal-100 rounded-2xl text-teal-600 hover:shadow-lg transition-all duration-300",children:[d.jsx(w,{className:"h-6 w-6 mb-2"}),d.jsx("span",{className:"text-xs font-medium",children:"ar"===_?"إيميل":"Email"})]}),d.jsxs(u.a,{href:"tel:+971556707773",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"flex flex-col items-center p-4 bg-gradient-to-br from-teal-50 to-teal-100 rounded-2xl text-teal-600 hover:shadow-lg transition-all duration-300",children:[d.jsx(h,{className:"h-6 w-6 mb-2"}),d.jsx("span",{className:"text-xs font-medium",children:"ar"===_?"هاتف":"Phone"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"ar"===_?"اللغة":"Language"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(u.button,{onClick:()=>R("en"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-3 rounded-xl text-sm font-medium transition-all duration-200 "+("en"===_?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-lg shadow-teal-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"English"}),d.jsx(u.button,{onClick:()=>R("ar"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-3 rounded-xl text-sm font-medium transition-all duration-200 "+("ar"===_?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-lg shadow-teal-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"العربية"})]})]})]})]})]})]})})]})})},Dt=W.createContext(void 0),Tt=()=>{const e=W.useContext(Dt);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},It=({children:e})=>{const[t,a]=W.useState(null),[s,r]=W.useState(!0),i=G(),n=!!t,o=e=>{document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`},l=W.useCallback(()=>c(null,null,function*(){try{(()=>{const e="authToken=",t=document.cookie.split(";");for(let a=0;a<t.length;a++){let s=t[a];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return s.substring(10,s.length)}return null})()?(a({id:"1",name:"User",email:"user@example.com"}),r(!1)):(a(null),r(!1))}catch(ze){o("authToken"),a(null),r(!1)}}),[]);W.useEffect(()=>{l()},[l]);const u={user:t,isAuthenticated:n,isLoading:s,login:(e,t)=>c(null,null,function*(){var s,n;try{r(!0);const s=yield fetch("https://zaher-backend.vercel.app/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),n=yield s.json();return s.ok?(((e,t)=>{const a=new Date;a.setTime(a.getTime()+864e5),document.cookie=`authToken=${t};expires=${a.toUTCString()};path=/;SameSite=Strict`})(0,n.token),a(n.user),$e.success("Login successful!"),i("/dashboard"),!0):($e.error(n.message||"Login failed"),!1)}catch(o){if(o&&"object"==typeof o&&"response"in o){const e=o;(null==(n=null==(s=e.response)?void 0:s.data)?void 0:n.message)?$e.error(e.response.data.message):$e.error("Network error. Please try again.")}else $e.error("Network error. Please try again.");return!1}finally{r(!1)}}),logout:()=>{o("authToken"),a(null),i("/"),$e.success("Logged out successfully")},checkAuthStatus:l};return d.jsx(Dt.Provider,{value:u,children:e})},_t=()=>{const e=G(),{login:t}=Tt(),[a,s]=W.useState({email:"",password:""}),[r,i]=W.useState(!1),[n,m]=W.useState({}),[p,g]=W.useState(""),[x,h]=W.useState(!1),y=e=>{const{name:t,value:a}=e.target;s(e=>l(o({},e),{[t]:a})),n[t]&&m(e=>l(o({},e),{[t]:""}))};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-white to-emerald-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:d.jsx(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"max-w-md w-full space-y-8",children:d.jsx(u.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white p-8 rounded-2xl shadow-xl",children:d.jsxs("form",{onSubmit:s=>c(null,null,function*(){if(s.preventDefault(),(()=>{const e={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(e.email="Please enter a valid email"):e.email="Email is required",a.password?a.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",m(e),0===Object.keys(e).length})()){i(!0),g("");try{if(yield t(a.email,a.password)){const t=sessionStorage.getItem("redirectAfterLogin");t&&"/login"!==t?(e(t),sessionStorage.removeItem("redirectAfterLogin")):e("/dashboard")}else g("Invalid email or password. Please try again.")}catch(r){g("An error occurred during login. Please try again.")}finally{i(!1)}}}),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(w,{className:"h-5 w-5 text-gray-400"})}),d.jsx(u.input,{whileFocus:{scale:1.02},type:"email",name:"email",value:a.email,onChange:y,className:"block w-full pl-10 pr-3 py-3 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all "+(n.email?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"john@medequippro.com"})]}),n.email&&d.jsx(u.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:n.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(k,{className:"h-5 w-5 text-gray-400"})}),d.jsx(u.input,{whileFocus:{scale:1.02},type:x?"text":"password",name:"password",value:a.password,onChange:y,className:"block w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all "+(n.password?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Enter your password"}),d.jsx("button",{type:"button",onClick:()=>h(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors","aria-label":x?"Hide password":"Show password",children:x?d.jsx(P,{className:"h-5 w-5"}):d.jsx(E,{className:"h-5 w-5"})})]}),n.password&&d.jsx(u.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:n.password})]}),p&&d.jsx(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-red-600 text-center",children:p})}),d.jsx(u.button,{type:"submit",disabled:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-teal-600 text-white py-3 rounded-lg font-semibold text-lg hover:bg-teal-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),d.jsx("span",{children:"Signing in..."})]}):d.jsx("span",{children:"Sign In"})})]})})})})},Rt={getAllProducts(){return c(this,null,function*(){try{return(yield bt(kt.PRODUCTS)).data}catch(e){throw e}})},getProductById(e){return c(this,null,function*(){try{return(yield bt(kt.PRODUCTS_BY_ID.replace(":id",e))).data}catch(t){throw t}})},createProduct(e){return c(this,null,function*(){try{return(yield ft(kt.PRODUCTS,e)).data}catch(t){throw t}})},updateProduct(e,t){return c(this,null,function*(){try{return(yield vt(kt.PRODUCTS_BY_ID.replace(":id",e),t)).data}catch(a){throw a}})},deleteProduct(e){return c(this,null,function*(){try{return(yield jt(kt.PRODUCTS_BY_ID.replace(":id",e))).data}catch(t){throw t}})},addReview(e,t){return c(this,null,function*(){try{return(yield ft(kt.PRODUCT_REVIEWS.replace(":productId",e),t)).data}catch(a){throw a}})},getProductReviews(e){return c(this,null,function*(){try{return(yield bt(kt.PRODUCT_REVIEWS.replace(":productId",e))).data}catch(t){throw t}})}},Lt=e=>re({queryKey:Ct.products.list({}),queryFn:()=>Rt.getAllProducts(),staleTime:3e5,gcTime:6e5,retry:1,retryDelay:1e3,refetchOnWindowFocus:!1}),Ot=e=>({_id:e._id,name:e.name,description:e.description,longDescription:e.longDescription,image:e.image,images:e.images,subcategory:e.subcategory,price:e.price,averageRating:e.averageRating,totalReviews:e.totalReviews,reviews:e.reviews,features:e.features,specifications:e.specifications,inStock:e.inStock,stockQuantity:e.stockQuantity,shipping:e.shipping,warranty:e.warranty,certifications:e.certifications,createdAt:e.createdAt,updatedAt:e.updatedAt}),Ft=e=>({name:e.name,description:e.description,longDescription:e.longDescription,image:e.image,images:e.images,subcategory:e.subcategory,price:e.price,features:e.features,specifications:e.specifications,inStock:e.inStock,stockQuantity:e.stockQuantity,shipping:e.shipping,warranty:e.warranty,certifications:e.certifications}),Mt=W.createContext(void 0),Ut=()=>{const e=W.useContext(Mt);if(void 0===e)throw new Error("useCategories must be used within a CategoriesProvider");return e},qt=({children:e})=>{const{data:t=[],isLoading:a,error:s}=St(),r=(()=>{const e=ie();return ne({mutationFn:e=>wt.createCategory(e),onSuccess:t=>{e.invalidateQueries({queryKey:Ct.categories.lists()}),e.setQueryData(Ct.categories.detail(t._id),t),$e.success("Category created successfully!",{duration:4e3,position:"top-right",style:{background:"#10b981",color:"#fff"}})},onError:e=>{var t,a;const s=(null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.message)||"Failed to create category";$e.error(s,{duration:4e3,position:"top-right",style:{background:"#ef4444",color:"#fff"}})}})})(),i=(()=>{const e=ie();return ne({mutationFn:({id:e,data:t})=>wt.updateCategory(e,t),onSuccess:t=>{e.setQueryData(Ct.categories.detail(t._id),t),e.invalidateQueries({queryKey:Ct.categories.lists()})},onError:e=>{}})})(),n=(()=>{const e=ie();return ne({mutationFn:e=>wt.deleteCategory(e),onSuccess:(t,a)=>{e.removeQueries({queryKey:Ct.categories.detail(a)}),e.invalidateQueries({queryKey:Ct.categories.lists()}),$e.success("Category deleted successfully!",{duration:4e3,position:"top-right",style:{background:"#10b981",color:"#fff"}})},onError:e=>{var t,a;const s=(null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.message)||"Failed to delete category";$e.error(s,{duration:4e3,position:"top-right",style:{background:"#ef4444",color:"#fff"}})}})})(),o={categories:t,addCategory:e=>c(null,null,function*(){try{return yield r.mutateAsync(e),!0}catch(ze){return!1}}),updateCategory:(e,t)=>c(null,null,function*(){try{return yield i.mutateAsync({id:e,data:t}),!0}catch(ze){return!1}}),deleteCategory:e=>c(null,null,function*(){yield n.mutateAsync(e)}),getCategoryById:e=>t.find(t=>t._id===e),getCategoryByName:e=>t.find(t=>t.name.toLowerCase()===e.toLowerCase()),loading:a,error:s};return d.jsx(Mt.Provider,{value:o,children:e})},Bt={getAllPosts(){return c(this,arguments,function*(e={},t){const a=new URLSearchParams;e.page&&a.append("page",e.page.toString()),e.limit&&a.append("limit",e.limit.toString()),e.status&&a.append("status",e.status),void 0!==e.featured&&a.append("featured",e.featured.toString()),e.category&&a.append("category",e.category),e.search&&a.append("search",e.search),e.sortBy&&a.append("sortBy",e.sortBy),e.sortOrder&&a.append("sortOrder",e.sortOrder),t&&a.append("lang",t);const s=a.toString()?`${kt.POSTS}/?${a.toString()}`:kt.POSTS;return(yield yt.get(s)).data})},getPostById(e,t){return c(this,null,function*(){const a=new URLSearchParams;t&&a.append("lang",t);const s=a.toString()?`${kt.POSTS_BY_ID.replace(":id",e)}?${a.toString()}`:kt.POSTS_BY_ID.replace(":id",e);return(yield yt.get(s)).data})},createPost(e){return c(this,null,function*(){return(yield yt.post(kt.POSTS,e)).data})},updatePost(e,t,a){return c(this,null,function*(){const s=new URLSearchParams;a&&s.append("lang",a);const r=s.toString()?`${kt.POSTS_BY_ID.replace(":id",e)}?${s.toString()}`:kt.POSTS_BY_ID.replace(":id",e);return(yield yt.patch(r,t)).data})},deletePost(e){return c(this,null,function*(){return(yield yt.delete(kt.POSTS_BY_ID.replace(":id",e))).data})},getFeaturedPosts(e=5,t){return c(this,null,function*(){const a=new URLSearchParams;return a.append("limit",e.toString()),t&&a.append("lang",t),(yield yt.get(`${kt.POSTS_FEATURED}?${a.toString()}`)).data})},searchPosts(e,t=1,a=10,s){return c(this,null,function*(){const r=new URLSearchParams;return r.append("q",e),r.append("page",t.toString()),r.append("limit",a.toString()),s&&r.append("lang",s),(yield yt.get(`${kt.POSTS_SEARCH}?${r.toString()}`)).data})},getPostsByCategory(e){return c(this,arguments,function*(e,t={},a){const s=new URLSearchParams;t.page&&s.append("page",t.page.toString()),t.limit&&s.append("limit",t.limit.toString()),t.status&&s.append("status",String(t.status)),t.sortBy&&s.append("sortBy",String(t.sortBy)),t.sortOrder&&s.append("sortOrder",String(t.sortOrder)),a&&s.append("lang",a);const r=s.toString()?`${kt.POSTS_BY_CATEGORY.replace(":category",e)}?${s.toString()}`:kt.POSTS_BY_CATEGORY.replace(":category",e);return(yield yt.get(r)).data})},getPostsByAuthor(e){return c(this,arguments,function*(e,t={},a){const s=new URLSearchParams;t.page&&s.append("page",t.page.toString()),t.limit&&s.append("limit",t.limit.toString()),t.status&&s.append("status",String(t.status)),t.sortBy&&s.append("sortBy",String(t.sortBy)),t.sortOrder&&s.append("sortOrder",String(t.sortOrder)),a&&s.append("lang",a);const r=s.toString()?`${kt.POSTS_BY_AUTHOR.replace(":email",encodeURIComponent(e))}?${s.toString()}`:kt.POSTS_BY_AUTHOR.replace(":email",encodeURIComponent(e));return(yield yt.get(r)).data})},likePost(e){return c(this,null,function*(){return(yield yt.post(kt.POSTS_LIKE.replace(":id",e))).data})},getPostStats(){return c(this,null,function*(){return(yield yt.get(kt.POSTS_STATS)).data})},addComment(e,t){return c(this,null,function*(){return(yield yt.post(kt.POSTS_COMMENTS.replace(":id",e),t)).data})},getPostComments(e,t=1,a=10){return c(this,null,function*(){const s=new URLSearchParams;return s.append("page",t.toString()),s.append("limit",a.toString()),(yield yt.get(`${kt.POSTS_COMMENTS.replace(":id",e)}?${s.toString()}`)).data})},deleteComment(e,t){return c(this,null,function*(){return(yield yt.delete(kt.POSTS_COMMENT_BY_ID.replace(":postId",e).replace(":commentId",t))).data})}},Vt=(e={},t)=>re({queryKey:Ct.posts.list(e,t),queryFn:()=>Bt.getAllPosts(e,t),staleTime:3e5}),$t=(e,t)=>re({queryKey:Ct.posts.detail(e,t),queryFn:()=>Bt.getPostById(e,t),enabled:!!e,staleTime:3e5}),zt=(e=5,t)=>re({queryKey:Ct.posts.featured(e,t),queryFn:()=>Bt.getFeaturedPosts(e,t),staleTime:6e5}),Yt=()=>{const e=ie();return ne({mutationFn:e=>Bt.createPost(e),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.posts.all}),pt.success("Post created successfully!")},onError:e=>{pt.error(e.message||"Failed to create post")}})},Qt=()=>{const e=ie();return ne({mutationFn:e=>Bt.likePost(e),onSuccess:(t,a)=>{e.invalidateQueries({queryKey:Ct.posts.detail(a)}),e.invalidateQueries({queryKey:Ct.posts.all})},onError:e=>{pt.error(e.message||"Failed to like post")}})},Wt=(e,t=1,a=10)=>re({queryKey:Ct.posts.comments(e,t,a),queryFn:()=>Bt.getPostComments(e,t,a),enabled:!!e,staleTime:12e4}),Ht=()=>{const e=ie();return ne({mutationFn:({postId:e,commentData:t})=>Bt.addComment(e,t),onSuccess:(t,{postId:a})=>{e.invalidateQueries({queryKey:Ct.posts.comments(a)}),e.invalidateQueries({queryKey:Ct.posts.detail(a)}),pt.success("Comment added successfully!")},onError:e=>{pt.error(e.message||"Failed to add comment")}})},Gt=W.createContext(void 0),Kt=()=>{const e=W.useContext(Gt);if(void 0===e)throw new Error("useProducts must be used within a ProductsProvider");return e},Zt=({children:e})=>{const{data:t=[],isLoading:a,error:s}=Lt(),r=(()=>{const e=ie();return ne({mutationFn:e=>Rt.createProduct(e),onSuccess:t=>{e.invalidateQueries({queryKey:Ct.products.lists()}),e.setQueryData(Ct.products.detail(t._id),t),$e.success("Product created successfully!",{duration:4e3,position:"top-right",style:{background:"#10b981",color:"#fff"}})},onError:e=>{var t,a;const s=(null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.message)||"Failed to create product";$e.error(s,{duration:4e3,position:"top-right",style:{background:"#ef4444",color:"#fff"}})}})})(),i=(()=>{const e=ie();return ne({mutationFn:({id:e,data:t})=>Rt.updateProduct(e,t),onSuccess:t=>{e.setQueryData(Ct.products.detail(t._id),t),e.invalidateQueries({queryKey:Ct.products.lists()}),$e.success("Product updated successfully!",{duration:4e3,position:"top-right",style:{background:"#10b981",color:"#fff"}})},onError:e=>{var t,a;const s=(null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.message)||"Failed to update product";$e.error(s,{duration:4e3,position:"top-right",style:{background:"#ef4444",color:"#fff"}})}})})(),n=(()=>{const e=ie();return ne({mutationFn:e=>Rt.deleteProduct(e),onSuccess:(t,a)=>{e.removeQueries({queryKey:Ct.products.detail(a)}),e.invalidateQueries({queryKey:Ct.products.lists()}),$e.success("Product deleted successfully!",{duration:4e3,position:"top-right",style:{background:"#10b981",color:"#fff"}})},onError:e=>{var t,a;const s=(null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.message)||"Failed to delete product";$e.error(s,{duration:4e3,position:"top-right",style:{background:"#ef4444",color:"#fff"}})}})})();let o=[];try{o=Array.isArray(t)?t.map(Ot):[]}catch(u){o=[]}const l={products:o,addProduct:e=>c(null,null,function*(){try{const t=Ft(e);return yield r.mutateAsync(t),!0}catch(t){return!1}}),updateProduct:(e,t)=>c(null,null,function*(){try{return yield i.mutateAsync({id:e,data:Ft(t)})}catch(a){return null}}),deleteProduct:e=>c(null,null,function*(){try{yield n.mutateAsync(e)}catch(t){}}),getProductById:e=>o.find(t=>t._id===e),resetToInitialProducts:()=>{},loading:a,error:s};return d.jsx(Gt.Provider,{value:l,children:e})},Jt=()=>{const{addProduct:e}=Kt(),{data:t=[]}=Et(),{t:a}=ce(),{currentLanguage:s,isRTL:r}=xt(),i=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e){const t=e;return t[s]||t.en||t.ar||""}return""},[n,m]=W.useState({name:"",description:"",longDescription:"",price:0,subcategory:"",images:[],rating:0,reviews:0,features:[],specifications:"",inStock:!0,stockQuantity:0,shipping:"",warranty:"",certifications:[]}),[p,g]=W.useState(!1),[x,h]=W.useState({}),y=t.map(e=>({id:e._id,name:e.name})),[b,f]=W.useState(""),[v,N]=W.useState(""),[w,C]=W.useState({nameEn:"",nameAr:"",descEn:"",descAr:"",longEn:"",longAr:"",shippingEn:"",shippingAr:"",warrantyEn:"",warrantyAr:""}),S=(e,t)=>C(a=>l(o({},a),{[e]:t})),k=e=>{const{name:t,value:a,type:s}=e.target;let r=a;"number"===s?r=""===a?0:parseFloat(a):"checkbox"===s&&(r=e.target.checked),m(e=>l(o({},e),{[t]:r})),x[t]&&h(e=>l(o({},e),{[t]:""}))},P=e=>{e.trim()&&!n.images.includes(e.trim())&&m(t=>l(o({},t),{images:[...t.images,e.trim()]}))};return d.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:d.jsx(A,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a("addProduct")}),d.jsx("p",{className:"text-gray-600",children:a("createNewProduct")})]})]}),d.jsxs("form",{onSubmit:t=>c(null,null,function*(){if(t.preventDefault(),(()=>{const e={};return n.name.trim()||(e.name="Product name is required"),n.description.trim()||(e.description="Description is required"),n.longDescription.trim()||(e.longDescription="Long description is required"),n.price<=0&&(e.price="Price must be greater than 0"),n.subcategory||(e.subcategory="Subcategory is required"),0===n.images.length&&(e.images="At least one product image is required"),n.stockQuantity<0&&(e.stockQuantity="Stock quantity cannot be negative"),h(e),0===Object.keys(e).length})()){g(!0);try{const t={};n.specifications&&n.specifications.split(",").forEach(e=>{const[a,s]=e.split(":").map(e=>e.trim());a&&s&&(t[a]=s)});const a=(e,t,a)=>({en:(null!=t?t:"").trim()||e,ar:(null!=a?a:"").trim()||e}),s={name:a(n.name,w.nameEn,w.nameAr),description:a(n.description,w.descEn,w.descAr),longDescription:a(n.longDescription,w.longEn,w.longAr),price:n.price,subcategory:n.subcategory,image:n.images[0]||"",images:n.images,features:n.features.map(e=>({en:e,ar:e})),specifications:t,inStock:n.inStock,stockQuantity:n.stockQuantity,shipping:a(n.shipping,w.shippingEn,w.shippingAr),warranty:a(n.warranty,w.warrantyEn,w.warrantyAr),certifications:n.certifications,id:Date.now(),reviews:[]};(yield e(s))?($e.success("Product added successfully!"),m({name:"",description:"",longDescription:"",price:0,subcategory:"",images:[],rating:0,reviews:0,features:[],specifications:"",inStock:!0,stockQuantity:0,shipping:"",warranty:"",certifications:[]}),C({nameEn:"",nameAr:"",descEn:"",descAr:"",longEn:"",longAr:"",shippingEn:"",shippingAr:"",warrantyEn:"",warrantyAr:""})):$e.error("Failed to add product. Please try again.")}catch(a){$e.error("Failed to add product. Please try again.")}finally{g(!1)}}}),className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name (EN)"}),d.jsx("input",{type:"text",value:w.nameEn,onChange:e=>S("nameEn",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Product name in English"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الاسم (AR)"}),d.jsx("input",{type:"text",value:w.nameAr,onChange:e=>S("nameAr",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"اسم المنتج بالعربية",dir:"auto"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("productName")," *"]}),d.jsx("input",{type:"text",name:"name",value:n.name,onChange:k,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(x.name?"border-red-500":"border-gray-300"),placeholder:a("enterProductName")}),x.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory *"}),d.jsxs("select",{name:"subcategory",value:n.subcategory,onChange:k,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(x.subcategory?"border-red-500":"border-gray-300"),children:[d.jsx("option",{value:"",children:"Select a subcategory"}),y.map(e=>d.jsx("option",{value:e.id,children:i(e.name)},e.id))]}),x.subcategory&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.subcategory})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (EN)"}),d.jsx("textarea",{value:w.descEn,onChange:e=>S("descEn",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Short description in English"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف (AR)"}),d.jsx("textarea",{value:w.descAr,onChange:e=>S("descAr",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"الوصف المختصر بالعربية",dir:"auto"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description *"}),d.jsx("textarea",{name:"description",value:n.description,onChange:k,rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(x.description?"border-red-500":"border-gray-300"),placeholder:"Brief product description"}),x.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.description})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Long Description *"}),d.jsx("textarea",{name:"longDescription",value:n.longDescription,onChange:k,rows:5,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(x.longDescription?"border-red-500":"border-gray-300"),placeholder:"Detailed product description"}),x.longDescription&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.longDescription})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Long Description (EN)"}),d.jsx("textarea",{value:w.longEn,onChange:e=>S("longEn",e.target.value),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Detailed product description in English"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف المطول (AR)"}),d.jsx("textarea",{value:w.longAr,onChange:e=>S("longAr",e.target.value),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"الوصف المطول بالعربية",dir:"auto"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),d.jsx("input",{type:"number",name:"price",value:n.price||"",onChange:k,step:"0.01",min:"0",className:"w-full pl-8 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(x.price?"border-red-500":"border-gray-300"),placeholder:"0.00"})]}),x.price&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.price})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),d.jsx("input",{type:"number",name:"stockQuantity",value:n.stockQuantity||"",onChange:k,min:"0",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(x.stockQuantity?"border-red-500":"border-gray-300"),placeholder:"0"}),x.stockQuantity&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.stockQuantity})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",name:"inStock",checked:n.inStock,onChange:k,className:"w-4 h-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded"}),d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"In Stock"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features"}),d.jsxs("div",{className:"flex space-x-2 mb-2",children:[d.jsx("input",{type:"text",value:b,onChange:e=>{f(e.target.value)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Add a feature"}),d.jsx("button",{type:"button",onClick:()=>{b.trim()&&!n.features.includes(b.trim())&&(m(e=>l(o({},e),{features:[...e.features,b.trim()]})),f(""))},className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Add"})]}),n.features.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:n.features.map((e,t)=>d.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-teal-100 text-teal-800",children:[e,d.jsx("button",{type:"button",onClick:()=>(e=>{m(t=>l(o({},t),{features:t.features.filter((t,a)=>a!==e)}))})(t),className:"ml-2 text-teal-600 hover:text-teal-800",children:d.jsx(j,{className:"h-4 w-4"})})]},t))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),d.jsxs("div",{className:"flex space-x-2 mb-2",children:[d.jsx("input",{type:"text",value:v,onChange:e=>{N(e.target.value)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Add a certification"}),d.jsx("button",{type:"button",onClick:()=>{v.trim()&&!n.certifications.includes(v.trim())&&(m(e=>l(o({},e),{certifications:[...e.certifications,v.trim()]})),N(""))},className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Add"})]}),n.certifications.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:n.certifications.map((e,t)=>d.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[e,d.jsx("button",{type:"button",onClick:()=>(e=>{m(t=>l(o({},t),{certifications:t.certifications.filter((t,a)=>a!==e)}))})(t),className:"ml-2 text-blue-600 hover:text-blue-800",children:d.jsx(j,{className:"h-4 w-4"})})]},t))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Information"}),d.jsx("input",{type:"text",name:"shipping",value:n.shipping,onChange:k,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"e.g., Free shipping, $10 flat rate"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-3",children:[d.jsx("input",{type:"text",value:w.shippingEn,onChange:e=>S("shippingEn",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Shipping (EN)"}),d.jsx("input",{type:"text",value:w.shippingAr,onChange:e=>S("shippingAr",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"الشحن (AR)",dir:"auto"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warranty"}),d.jsx("input",{type:"text",name:"warranty",value:n.warranty,onChange:k,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"e.g., 1 year warranty"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-3",children:[d.jsx("input",{type:"text",value:w.warrantyEn,onChange:e=>S("warrantyEn",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Warranty (EN)"}),d.jsx("input",{type:"text",value:w.warrantyAr,onChange:e=>S("warrantyAr",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"الضمان (AR)",dir:"auto"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specifications"}),d.jsx("textarea",{name:"specifications",value:n.specifications,onChange:k,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter specifications in format: Key: Value, Key: Value"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Format: Key: Value, Key: Value (e.g., Weight: 2kg, Dimensions: 10x5x3cm)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images *"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),d.jsx("input",{type:"url",placeholder:"https://example.com/image.jpg",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target;P(t.value),t.value=""}}})]}),d.jsxs("button",{type:"button",onClick:()=>{const e=document.querySelector('input[type="url"]');e&&e.value.trim()&&(P(e.value),e.value="")},className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2",children:[d.jsx(A,{className:"h-4 w-4"}),"Add"]})]}),n.images.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-sm text-gray-600",children:["Current Images (",n.images.length,"):"]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.images.map((e,t)=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:e,alt:`Product image ${t+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}}),d.jsx("button",{type:"button",onClick:()=>(e=>{m(t=>l(o({},t),{images:t.images.filter((t,a)=>a!==e)}))})(t),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:d.jsx(j,{className:"h-3 w-3"})})]},t))})]}),d.jsx("p",{className:"text-sm text-gray-500",children:"Add one or more image URLs. Press Enter or click Add to include each image."}),x.images&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.images})]})]}),d.jsx("div",{className:"flex justify-end "+(r?"space-x-reverse space-x-4":"space-x-4"),children:d.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center space-x-2 bg-teal-600 text-white px-6 py-3 rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(D,{className:"h-5 w-5"}),d.jsx("span",{children:p?"Adding...":"Add Product"})]})})]})]})})},Xt={getAllReviews(){return c(this,null,function*(){try{return(yield bt("/reviews")).data}catch(e){throw e}})},getReviewById(e){return c(this,null,function*(){try{return(yield bt(`/reviews/${e}`)).data}catch(t){throw t}})},createReview(e){return c(this,null,function*(){try{return(yield ft("/reviews",e)).data}catch(t){throw t}})},updateReview(e,t){return c(this,null,function*(){try{return(yield vt(`/reviews/${e}`,t)).data}catch(a){throw a}})},deleteReview(e){return c(this,null,function*(){try{return(yield jt(`/reviews/${e}`)).data}catch(t){throw t}})},getReviewsByUser(e){return c(this,null,function*(){try{return(yield bt(`/reviews/user/${encodeURIComponent(e)}`)).data}catch(t){throw t}})},getReviewsByRating(e){return c(this,null,function*(){try{return(yield bt(`/reviews/rating/${e}`)).data}catch(t){throw t}})},getProductReviews(e){return c(this,null,function*(){try{return(yield bt(`/reviews/product/${e}`)).data}catch(t){throw t}})}},ea=({product:e,onClose:t})=>{var a;const s=W.useRef(null),{updateProduct:r}=Kt(),{data:i=[]}=Et(),{currentLanguage:n}=xt(),m=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e){const t=e;return t[n]||t.en||t.ar||""}return""},[p,g]=W.useState({name:m(e.name)||"",description:m(e.description)||"",longDescription:m(e.longDescription)||"",price:e.price||0,subcategory:"string"==typeof e.subcategory?e.subcategory:(null==(a=e.subcategory)?void 0:a._id)||"",images:e.images||[],rating:e.averageRating||0,reviews:e.totalReviews||0,features:(e.features||[]).map(e=>"string"==typeof e?e:m(e)),specifications:"string"==typeof e.specifications?e.specifications:Object.entries(e.specifications||{}).map(([e,t])=>`${e}: ${t}`).join(", "),inStock:e.inStock||!1,stockQuantity:e.stockQuantity||0,shipping:m(e.shipping)||"",warranty:m(e.warranty)||"",certifications:e.certifications||[]}),[x,h]=W.useState(!1),[y,b]=W.useState({}),[f,N]=W.useState(""),[w,C]=W.useState(""),[S,k]=W.useState(""),[P,E]=W.useState([]),[A,O]=W.useState(null),[F,M]=W.useState({name:"",rating:5,comment:""}),[U,q]=W.useState(!1),[B,V]=W.useState(null);W.useEffect(()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&t()},a=e=>{"Escape"===e.key&&t()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",a)}},[t]),W.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),W.useEffect(()=>{$()},[]);const $=()=>c(null,null,function*(){try{const t=yield Xt.getProductReviews(e._id);E(t.reviews||[])}catch(t){pt.error("Failed to load reviews")}}),z=e=>{if("string"==typeof e)return e;if(e&&"object"==typeof e){const t=e;return t.name||t.username||t.email||t._id||t.id||"User"}return"User"},Y=e=>{const{name:t,value:a,type:s}=e.target;let r=a;"number"===s?r=""===a?0:parseFloat(a):"checkbox"===s&&(r=e.target.checked),g(e=>l(o({},e),{[t]:r})),y[t]&&b(e=>l(o({},e),{[t]:""}))},Q=()=>{O(null),M({name:"",rating:5,comment:""}),V(null)},H=i.map(e=>({id:e._id,name:e.name}));return d.jsxs(v,{children:[d.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs(u.div,{ref:s,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"bg-white rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-xl",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:d.jsx(T,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Product"}),d.jsx("p",{className:"text-gray-600",children:"Update product information"})]})]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:d.jsx(j,{className:"h-6 w-6 text-gray-500"})})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("form",{onSubmit:a=>c(null,null,function*(){if(a.preventDefault(),(()=>{const e={};return p.name.trim()||(e.name="Product name is required"),p.description.trim()||(e.description="Description is required"),p.longDescription.trim()||(e.longDescription="Long description is required"),p.price<=0&&(e.price="Price must be greater than 0"),p.subcategory||(e.subcategory="Category is required"),0===p.images.length&&(e.images="At least one product image is required"),p.stockQuantity<0&&(e.stockQuantity="Stock quantity cannot be negative"),b(e),0===Object.keys(e).length})()){h(!0);try{const a={};p.specifications&&p.specifications.split(",").forEach(e=>{const[t,s]=e.split(":").map(e=>e.trim());t&&s&&(a[t]=s)});const s=(e,t)=>{var a,s;const r=t&&"object"==typeof t?t:{};return{en:"en"===n?e:null!=(a=r.en)?a:e,ar:"ar"===n?e:null!=(s=r.ar)?s:e}},i={name:s(p.name,e.name),description:s(p.description,e.description),longDescription:s(p.longDescription,e.longDescription),price:p.price,subcategory:p.subcategory,image:p.images[0]||"",images:p.images,features:p.features.map((t,a)=>{var s,r,i,o;const l=Array.isArray(e.features)?e.features[a]:void 0,c=l&&"object"==typeof l?l:{},d="string"==typeof l?l:void 0;return{en:"en"===n?t:null!=(r=null!=(s=c.en)?s:d)?r:t,ar:"ar"===n?t:null!=(o=null!=(i=c.ar)?i:d)?o:t}}),specifications:a,inStock:p.inStock,stockQuantity:p.stockQuantity,shipping:s(p.shipping,e.shipping),warranty:s(p.warranty,e.warranty),certifications:p.certifications};yield r(e._id,i),pt.success("Product updated successfully! 🎉"),t()}catch(s){pt.error("Failed to update product. Please try again.")}finally{h(!1)}}}),className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),d.jsx("input",{type:"text",name:"name",value:p.name,onChange:Y,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 "+(y.name?"border-red-500":"border-gray-300"),placeholder:"Enter product name"}),y.name&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),d.jsx("input",{type:"number",name:"price",value:p.price,onChange:Y,step:"0.01",min:"0",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 "+(y.price?"border-red-500":"border-gray-300"),placeholder:"0.00"}),y.price&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.price})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory *"}),d.jsxs("select",{name:"subcategory",value:p.subcategory,onChange:Y,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 "+(y.subcategory?"border-red-500":"border-gray-300"),children:[d.jsx("option",{value:"",children:"Select a subcategory"}),H.map(e=>d.jsx("option",{value:e.id,children:m(e.name)},e.id))]}),y.subcategory&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.subcategory})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),d.jsx("input",{type:"number",name:"stockQuantity",value:p.stockQuantity,onChange:Y,min:"0",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 "+(y.stockQuantity?"border-red-500":"border-gray-300"),placeholder:"0"}),y.stockQuantity&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.stockQuantity})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description *"}),d.jsx("textarea",{name:"description",value:p.description,onChange:Y,rows:3,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 "+(y.description?"border-red-500":"border-gray-300"),placeholder:"Brief product description"}),y.description&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.description})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Long Description *"}),d.jsx("textarea",{name:"longDescription",value:p.longDescription,onChange:Y,rows:4,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 "+(y.longDescription?"border-red-500":"border-gray-300"),placeholder:"Detailed product description"}),y.longDescription&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.longDescription})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images *"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"url",value:S,onChange:e=>k(e.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter image URL"}),d.jsx("button",{type:"button",onClick:()=>{var e;(e=S).trim()&&!p.images.includes(e.trim())&&(g(t=>l(o({},t),{images:[...t.images,e.trim()]})),k(""))},className:"px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Add"})]}),p.images.length>0&&d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:p.images.map((e,t)=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:e,alt:`Product ${t+1}`,className:"w-full h-24 object-cover rounded-lg",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}}),d.jsx("button",{type:"button",onClick:()=>(e=>{g(t=>l(o({},t),{images:t.images.filter((t,a)=>a!==e)}))})(t),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(j,{className:"w-4 h-4"})})]},t))}),y.images&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.images})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:f,onChange:e=>{N(e.target.value)},className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter feature"}),d.jsx("button",{type:"button",onClick:()=>{f.trim()&&!p.features.includes(f.trim())&&(g(e=>l(o({},e),{features:[...e.features,f.trim()]})),N(""))},className:"px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Add"})]}),p.features.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:p.features.map((e,t)=>d.jsxs("div",{className:"flex items-center gap-2 bg-teal-100 text-teal-800 px-3 py-1 rounded-full",children:[d.jsx("span",{className:"text-sm",children:e.en}),d.jsx("button",{type:"button",onClick:()=>(e=>{g(t=>l(o({},t),{features:t.features.filter((t,a)=>a!==e)}))})(t),className:"text-teal-600 hover:text-teal-800",children:d.jsx(j,{className:"w-4 h-4"})})]},t))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specifications"}),d.jsx("textarea",{name:"specifications",value:p.specifications,onChange:Y,rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter specifications in format: key: value, key: value"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Information"}),d.jsx("input",{type:"text",name:"shipping",value:p.shipping,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Shipping details"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warranty"}),d.jsx("input",{type:"text",name:"warranty",value:p.warranty,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Warranty information"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:w,onChange:e=>{C(e.target.value)},className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter certification"}),d.jsx("button",{type:"button",onClick:()=>{w.trim()&&!p.certifications.includes(w.trim())&&(g(e=>l(o({},e),{certifications:[...e.certifications,w.trim()]})),C(""))},className:"px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Add"})]}),p.certifications.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:p.certifications.map((e,t)=>d.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[d.jsx("span",{className:"text-sm",children:e.en}),d.jsx("button",{type:"button",onClick:()=>(e=>{g(t=>l(o({},t),{certifications:t.certifications.filter((t,a)=>a!==e)}))})(t),className:"text-blue-600 hover:text-blue-800",children:d.jsx(j,{className:"w-4 h-4"})})]},t))})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",name:"inStock",checked:p.inStock,onChange:Y,className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"In Stock"})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsxs("button",{type:"submit",disabled:x,className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[d.jsx(D,{className:"w-4 h-4"}),d.jsx("span",{children:x?"Updating...":"Update Product"})]})]})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Product Reviews (",P.length,")"]}),0===P.length?d.jsx("p",{className:"text-gray-500 text-sm",children:"No reviews for this product yet."}):d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:P.map(e=>d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"flex items-center gap-3 mb-2",children:d.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((t,a)=>d.jsx(I,{className:"w-4 h-4 "+(a<e.rating?"text-yellow-400 fill-current":"text-gray-300")},a)),d.jsxs("span",{className:"ml-2 text-sm font-medium text-gray-900",children:[e.rating,"/5"]})]})}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(_,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium text-gray-900",children:z(e.user)})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(R,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.comment})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[d.jsx("button",{type:"button",onClick:()=>(e=>{O(e),M({name:e.user||"",rating:e.rating,comment:e.comment}),V(null)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit review",children:d.jsx(T,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:()=>{return t=e._id,c(null,null,function*(){if(confirm("Are you sure you want to delete this review?"))try{yield Xt.deleteReview(t),yield $(),pt.success("Review deleted successfully! 🗑️")}catch(e){pt.error("Failed to delete review. Please try again.")}});var t},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete review",children:d.jsx(L,{className:"w-4 h-4"})})]})]})},e._id))})]})]})]})}),A&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:Q,children:d.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg p-6 w-full max-w-md shadow-2xl",onClick:e=>e.stopPropagation(),children:[d.jsx("div",{className:"mb-4",children:d.jsx("h3",{id:"edit-review-title",className:"text-lg font-semibold text-gray-900",children:"Edit Review"})}),d.jsxs("form",{onSubmit:e=>e.preventDefault(),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),d.jsx("input",{type:"text",value:F.name,onChange:e=>M(l(o({},F),{name:e.target.value})),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation(),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"Enter your name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),d.jsx("div",{className:"flex items-center gap-2",children:[...Array(5)].map((e,t)=>d.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),M(l(o({},F),{rating:t+1}))},onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation(),className:"p-1 rounded transition-colors "+(F.rating>t?"text-yellow-400":"text-gray-300 hover:text-yellow-200"),"aria-label":`${t+1} star${0===t?"":"s"}`,"aria-pressed":F.rating===t+1,children:d.jsx(I,{className:"w-6 h-6 "+(F.rating>t?"fill-current":"")})},t))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"review-comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment"}),d.jsx("textarea",{id:"review-comment",rows:4,value:F.comment,onChange:e=>M(l(o({},F),{comment:e.target.value})),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation(),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 resize-none",placeholder:"Write your review here...","aria-describedby":B?"review-error":void 0})]}),B&&d.jsx("div",{id:"review-error",className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",role:"alert",children:d.jsx("p",{className:"text-sm text-red-600",children:B})}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),c(null,null,function*(){if(A){q(!0),V(null);try{yield Xt.updateReview(A._id,F),yield $(),Q(),pt.success("Review updated successfully! 🎉")}catch(e){V("Error updating review. Please try again."),pt.error("Failed to update review. Please try again.")}finally{q(!1)}}})},onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation(),disabled:!F.comment.trim()||!F.name.trim()||0===F.rating||U,className:"w-full px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:U?"Updating...":"Update Review"})})]})]})})]})},ta=({isOpen:e,onClose:t,onConfirm:a,title:s,description:r,itemName:i,itemDescription:n,isDeleting:o=!1,type:l="generic"})=>{const{isRTL:c}=xt(),{t:m}=ce();return e?d.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:d.jsxs(u.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4",onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:d.jsx(O,{className:"h-5 w-5 text-red-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s})]}),d.jsx("button",{onClick:t,disabled:o,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(j,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-gray-600 mb-6",children:r}),d.jsx("div",{className:`border rounded-lg p-4 mb-6 ${(()=>{switch(l){case"product":return"bg-blue-50 border-blue-200 text-blue-800";case"category":return"bg-teal-50 border-teal-200 text-teal-800";case"subcategory":return"bg-purple-50 border-purple-200 text-purple-800";case"post":return"bg-indigo-50 border-indigo-200 text-indigo-800";case"comment":return"bg-gray-50 border-gray-200 text-gray-800";default:return"bg-red-50 border-red-200 text-red-800"}})()}`,children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("span",{className:"text-2xl",children:(()=>{switch(l){case"product":return"📦";case"category":return"🏷️";case"subcategory":return"📁";case"post":return"📄";case"comment":return"💬";default:return"⚠️"}})()}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-sm mb-1",children:m("itemToDelete",{defaultValue:"Item to delete:"})}),d.jsx("p",{className:"font-semibold",children:i}),n&&d.jsx("p",{className:"text-sm opacity-75 mt-1",children:n})]})]})}),d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(L,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-red-800",children:m("warning",{defaultValue:"Warning"})}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:m("deletionWarning",{defaultValue:"This action cannot be undone. All associated data will be permanently removed."})})]})]})}),d.jsxs("div",{className:"flex "+(c?"space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("button",{onClick:t,disabled:o,className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m("cancel",{defaultValue:"Cancel"})}),d.jsx("button",{onClick:a,disabled:o,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:o?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:m("deleting",{defaultValue:"Deleting..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(L,{className:"w-4 h-4"}),d.jsx("span",{children:m("delete",{defaultValue:"Delete"})})]})})]})]})]})}):null},aa=()=>{const{products:e,deleteProduct:t}=Kt(),{data:a=[]}=Et(),s=G(),{t:r}=ce(),{currentLanguage:i}=xt(),n=e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&(e[i]||e.en||e.ar)||"",[o,l]=W.useState(""),[m,p]=W.useState(""),g=[{id:"all",name:"All Subcategories"},...a.map(e=>({id:e._id,name:n(e.name)}))],[x,h]=W.useState(null),[y,f]=W.useState(null),[v,j]=W.useState(!1),[N,w]=W.useState(null),C=e.filter(e=>{var t;const a=n(e.name),s=n(e.description),r=a.toLowerCase().includes(o.toLowerCase())||s.toLowerCase().includes(o.toLowerCase()),i=""===m||"all"===m||"all"!==m&&("string"==typeof e.subcategory?e.subcategory===m:(null==(t=e.subcategory)?void 0:t._id)===m);return r&&i});return d.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:d.jsx(b,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Products"}),d.jsx("p",{className:"text-gray-600",children:"View, edit, and delete your product inventory"})]})]}),d.jsxs("button",{onClick:()=>s("/dashboard?tab=add-product"),className:"inline-flex items-center space-x-2 bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition-colors",children:[d.jsx(A,{className:"h-4 w-4"}),d.jsx("span",{children:r("addProduct")})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(F,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search products by name or description...",value:o,onChange:e=>l(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(M,{className:"h-5 w-5 text-gray-400"})}),d.jsx("select",{value:m,onChange:e=>p(e.target.value),className:"block w-full pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all appearance-none",children:g.map(e=>d.jsx("option",{value:e.id,children:n(e.name)},e.id))})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subcategory"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===C.length?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:d.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[d.jsx(b,{className:"h-12 w-12 text-gray-300"}),d.jsx("p",{className:"text-lg font-medium",children:"No products found"}),d.jsx("p",{className:"text-sm",children:o||""!==m?"Try adjusting your search or filters":"Get started by adding your first product"})]})})}):C.map(e=>{var t;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:d.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:e.image,alt:n(e.name),onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}})}),d.jsx("div",{className:"ml-4",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:n(e.name)})})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:"string"==typeof e.subcategory?e.subcategory:n(null==(t=e.subcategory)?void 0:t.name)||"Uncategorized"})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.price.toLocaleString()]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.stockQuantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.inStock?"In Stock":"Out of Stock"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>{return t=e._id,void s(`/product/${t}`);var t},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",children:d.jsx(E,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>(e=>{h(e)})(e),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50 transition-colors",children:d.jsx(T,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>(e=>{w(e),j(!0)})(e),disabled:y===e._id,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(L,{className:"h-4 w-4"})})]})})]},e._id)})})]})}),C.length>0&&d.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[d.jsxs("span",{children:["Showing ",C.length," of ",e.length," products"]}),o||""!==m&&d.jsx("button",{onClick:()=>{l(""),p("")},className:"text-teal-600 hover:text-teal-700 transition-colors",children:"Clear filters"})]})})]}),x&&d.jsx(ea,{product:x,onClose:()=>h(null)}),v&&N&&d.jsx(ta,{isOpen:v,onClose:()=>{j(!1),w(null)},onConfirm:()=>c(null,null,function*(){if(N){f(N._id);try{t(N._id),j(!1),w(null),$e.success(r("productDeleted",{defaultValue:"Product deleted successfully"}))}catch(e){$e.error(r("failedToDeleteProduct",{defaultValue:"Failed to delete product"}))}finally{f(null)}}}),title:r("confirmDelete",{defaultValue:"Confirm Delete"}),description:r("deleteProductWarning",{defaultValue:"Are you sure you want to delete this product? This action cannot be undone."}),itemName:n(N.name),itemDescription:n(N.description),isDeleting:y===N._id,type:"product"})]})},sa=(e,t=!0)=>{const a=W.useRef(null);return W.useEffect(()=>{if(!t)return;const s=t=>{a.current&&!a.current.contains(t.target)&&e()};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[e,t]),a},ra=()=>{const{categories:e,deleteCategory:t,loading:a,error:s}=Ut(),{currentLanguage:r,isRTL:i}=xt(),{t:n}=ce(),m=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e){const t=e;return t[r]||t.en||t.ar||""}return""},[p,g]=W.useState(""),[x,h]=W.useState(null),[y,b]=W.useState(null),[f,v]=W.useState(!1),[j,N]=W.useState({name:"",description:""}),[w,C]=W.useState({name:"",description:""}),[S,k]=W.useState(!1),[P,E]=W.useState(!1),[D,I]=W.useState(null),_=sa(()=>v(!1),f),R=sa(()=>{h(null),C({name:"",description:""})},!!x),O=e=>({en:e,ar:e}),M=(e,t)=>{var a,s;const i=t&&"object"==typeof t?t:{};return{en:"en"===r?e:null!=(a=i.en)?a:e,ar:"ar"===r?e:null!=(s=i.ar)?s:e}},q=e.filter(e=>{const t=m(e.name),a=m(e.description);return t.toLowerCase().includes(p.toLowerCase())||a.toLowerCase().includes(p.toLowerCase())}),{addCategory:B,updateCategory:V}=Ut();return a?d.jsx("div",{className:"flex items-center justify-center min-h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):s?d.jsx("div",{className:"text-center py-8",children:d.jsxs("p",{className:"text-red-600",children:["Error loading categories: ",s.message]})}):d.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 "+(i?"flex-row-reverse":""),children:[d.jsxs("div",{className:"flex items-center "+(i?"flex-row-reverse space-x-reverse space-x-2 sm:space-x-3":"space-x-2 sm:space-x-3"),children:[d.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:d.jsx(U,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{className:i?"text-right mr-2 sm:mr-3":"text-left ml-2 sm:ml-3",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n("manageCategories")}),d.jsx("p",{className:"text-gray-600",children:n("manageCategoriesDescription",{defaultValue:"View, edit, and delete your product categories"})})]})]}),d.jsxs("button",{onClick:()=>v(!f),className:`inline-flex items-center ${i?"space-x-reverse space-x-2":"space-x-2"} bg-teal-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-teal-700 transition-colors`,children:[d.jsx(A,{className:"h-4 w-4"}),d.jsx("span",{children:n("addNewCategory",{defaultValue:"Add New Category"})})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("div",{className:`absolute inset-y-0 ${i?"right-0 pr-3":"left-0 pl-3"} flex items-center pointer-events-none`,children:d.jsx(F,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:n("searchCategoriesPlaceholder",{defaultValue:"Search categories by name or description..."}),value:p,onChange:e=>g(e.target.value),className:`block w-full ${i?"pr-10 pl-3":"pl-10 pr-3"} py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all`})]})}),f&&d.jsxs("div",{ref:_,className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("addNewCategory",{defaultValue:"Add New Category"})}),d.jsxs("form",{onSubmit:e=>c(null,null,function*(){if(e.preventDefault(),j.name)try{const e={name:O(j.name),description:j.description?O(j.description):void 0};(yield B(e))?(N({name:"",description:""}),v(!1)):$e.error("Failed to add category")}catch(t){$e.error("Failed to add category")}}),className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("categoryName",{defaultValue:"Category Name"})," *"]}),d.jsx("input",{type:"text",value:j.name,onChange:e=>N(t=>l(o({},t),{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n("description",{defaultValue:"Description"})}),d.jsx("input",{type:"text",value:j.description,onChange:e=>N(t=>l(o({},t),{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),d.jsxs("div",{className:"flex "+(i?"space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("button",{type:"submit",className:"bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition-colors",children:n("addCategory",{defaultValue:"Add Category"})}),d.jsx("button",{type:"button",onClick:()=>v(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:n("cancel",{defaultValue:"Cancel"})})]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 ${i?"text-right":"text-left"} text-xs font-medium text-gray-500 uppercase tracking-wider`,children:n("category",{defaultValue:"Category"})}),d.jsx("th",{className:`px-6 py-3 ${i?"text-right":"text-left"} text-xs font-medium text-gray-500 uppercase tracking-wider`,children:n("description",{defaultValue:"Description"})}),d.jsx("th",{className:`px-6 py-3 ${i?"text-right":"text-left"} text-xs font-medium text-gray-500 uppercase tracking-wider`,children:n("created",{defaultValue:"Created"})}),d.jsx("th",{className:`px-6 py-3 ${i?"text-right":"text-left"} text-xs font-medium text-gray-500 uppercase tracking-wider`,children:n("actions",{defaultValue:"Actions"})})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(e=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm font-medium text-gray-900 "+(i?"text-right":"text-left"),children:m(e.name)})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate "+(i?"text-right":"text-left"),children:m(e.description)||n("noDescription",{defaultValue:"No description"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsxs("div",{className:"flex "+(i?"flex-row-reverse space-x-reverse space-x-4":"space-x-4"),children:[d.jsx("button",{onClick:()=>(e=>{h(e),C({name:m(e.name),description:m(e.description)})})(e),className:"text-indigo-600 hover:text-indigo-900 transition-colors",title:n("editCategory",{defaultValue:"Edit Category"}),children:d.jsx(T,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>(e=>{I(e),E(!0)})(e),disabled:y===e._id,className:"text-red-600 hover:text-red-900 transition-colors disabled:opacity-50",title:n("deleteCategory",{defaultValue:"Delete Category"}),children:d.jsx(L,{className:"h-4 w-4"})})]})})]},e._id))})]})}),x&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{ref:R,className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("editCategory",{defaultValue:"Edit Category"})}),d.jsxs("form",{onSubmit:e=>c(null,null,function*(){if(e.preventDefault(),x&&w.name)try{k(!0);const e={name:M(w.name,x.name),description:M(w.description,x.description)};(yield V(x._id,e))?(h(null),C({name:"",description:""}),$e.success(n("updateCategory",{defaultValue:"Update Category"})+" ✓")):$e.error(n("failedToUpdateCategory",{defaultValue:"Failed to update category"}))}catch(t){$e.error(n("failedToUpdateCategory",{defaultValue:"Failed to update category"}))}finally{k(!1)}}),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("categoryName",{defaultValue:"Category Name"})," *"]}),d.jsx("input",{type:"text",value:w.name,onChange:e=>C(t=>l(o({},t),{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n("description",{defaultValue:"Description"})}),d.jsx("input",{type:"text",value:w.description,onChange:e=>C(t=>l(o({},t),{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),d.jsxs("div",{className:"flex "+(i?"space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("button",{type:"submit",disabled:S,className:"bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:S?n("updating",{defaultValue:"Updating..."}):n("updateCategory",{defaultValue:"Update Category"})}),d.jsx("button",{type:"button",onClick:()=>{h(null),C({name:"",description:""})},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:n("cancel",{defaultValue:"Cancel"})})]})]})]})}),P&&D&&d.jsx(ta,{isOpen:P,onClose:()=>{E(!1),I(null)},onConfirm:()=>c(null,null,function*(){if(D){b(D._id);try{yield t(D._id),E(!1),I(null)}catch(e){}finally{b(null)}}}),title:n("confirmDelete",{defaultValue:"Confirm Delete"}),description:n("deleteCategoryWarning",{defaultValue:"Are you sure you want to delete this category? This action cannot be undone."}),itemName:m(D.name),itemDescription:m(D.description),isDeleting:y===D._id,type:"category"}),0===q.length&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(U,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:n("noCategoriesFound",{defaultValue:"No categories found"})}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:p?n("tryAdjustingSearch",{defaultValue:"Try adjusting your search terms."}):n("createFirstCategory",{defaultValue:"Get started by creating your first category."})})]})]})})},ia=()=>{const{currentLanguage:e,isRTL:t}=xt(),{t:a}=ce(),s=t=>{if("string"==typeof t)return t;if("object"==typeof t&&null!==t){const a=t;return a[e]||a.en||a.ar||""}return""},[r,i]=W.useState(!1),[n,m]=W.useState(null),[p,g]=W.useState(new Set),[x,h]=W.useState(!1),[y,b]=W.useState(null),[v,N]=W.useState({name:"",description:"",parentCategory:""}),{categories:w}=Ut(),{data:C=[]}=Et(),k=(()=>{const e=ie();return ne({mutationFn:e=>Pt.createSubCategory(e),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.categories.all}),e.invalidateQueries({queryKey:["subcategories"]}),pt.success("SubCategory created successfully!")},onError:e=>{pt.error(e.message||"Failed to create subcategory")}})})(),P=(()=>{const e=ie();return ne({mutationFn:({id:e,subcategoryData:t})=>Pt.updateSubCategory(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:["subcategory",t._id]}),e.invalidateQueries({queryKey:Ct.categories.all}),e.invalidateQueries({queryKey:["subcategories"]}),pt.success("SubCategory updated successfully!")},onError:e=>{pt.error(e.message||"Failed to update subcategory")}})})(),E=(()=>{const e=ie();return ne({mutationFn:e=>Pt.deleteSubCategory(e),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.categories.all}),e.invalidateQueries({queryKey:["subcategories"]}),pt.success("SubCategory deleted successfully!")},onError:e=>{pt.error(e.message||"Failed to delete subcategory")}})})(),I=e=>{const{name:t,value:a}=e.target;N(e=>l(o({},e),{[t]:a}))},_=()=>{i(!1),m(null),N({name:"",description:"",parentCategory:""})};return d.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 "+(t?"sm:flex-row-reverse":""),children:d.jsxs("div",{className:t?"text-right":"text-left",children:[d.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center "+(t?"flex-row-reverse space-x-reverse space-x-2":"space-x-2"),children:[d.jsx(q,{className:"w-5 h-5 sm:w-6 sm:h-6 text-teal-600"}),d.jsx("span",{children:a("manageSubcategories")})]}),d.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:a("manageSubcategoriesDescription")})]})}),d.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200",children:[d.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:d.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center "+(t?"flex-row-reverse space-x-reverse space-x-2":"space-x-2"),children:[d.jsx(U,{className:"w-4 h-4 sm:w-5 sm:h-5 text-teal-600"}),d.jsx("span",{children:a("categoriesAndSubcategories")})]})}),d.jsx("div",{className:"divide-y divide-gray-200",children:(w||[]).map(e=>{const r=(n=e._id,(C||[]).filter(e=>e.parentCategory&&("string"==typeof e.parentCategory?e.parentCategory===n:e.parentCategory._id===n)));var n;const o=p.has(e._id);return d.jsxs("div",{className:"p-3 sm:p-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 "+(t?"sm:flex-row-reverse":""),children:[d.jsxs("div",{className:"flex items-center "+(t?"flex-row-reverse space-x-reverse space-x-2 sm:space-x-3":"space-x-2 sm:space-x-3"),children:[d.jsx("button",{onClick:()=>(e=>{const t=new Set(p);t.has(e)?t.delete(e):t.add(e),g(t)})(e._id),className:"p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",children:o?d.jsx(f,{className:"w-4 h-4 text-gray-600"}):d.jsx(S,{className:"w-4 h-4 text-gray-600"})}),d.jsx("div",{className:"w-4 h-4 bg-teal-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(U,{className:"w-2.5 h-2.5 text-teal-600"})}),d.jsxs("div",{className:(t?"text-right":"text-left")+" min-w-0 flex-1",children:[d.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:s(e.name)}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:s(e.description)})]})]}),d.jsxs("button",{onClick:()=>{return t=e._id,N({name:"",description:"",parentCategory:t}),i(!0),void m(null);var t},className:"flex items-center justify-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-xs sm:text-sm w-full sm:w-auto",children:[d.jsx(A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),d.jsx("span",{children:a("addSubcategory")})]})]}),o&&d.jsx(u.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3 sm:mt-4 space-y-2 sm:space-y-3 "+(t?"mr-4 sm:mr-8":"ml-4 sm:ml-8"),children:0===r.length?d.jsx("div",{className:"text-gray-500 text-xs sm:text-sm italic p-2",children:a("noSubcategoriesYet")}):r.map(e=>d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-2 sm:p-3 bg-gray-50 rounded-lg border border-gray-200 gap-2 sm:gap-0 "+(t?"sm:flex-row-reverse":""),children:[d.jsxs("div",{className:(t?"text-right":"text-left")+" min-w-0 flex-1",children:[d.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:s(e.name)}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:s(e.description)})]}),d.jsxs("div",{className:"flex items-center justify-end sm:justify-start "+(t?"flex-row-reverse space-x-reverse space-x-1 sm:space-x-2":"space-x-1 sm:space-x-2"),children:[d.jsx("button",{onClick:()=>(e=>{N({name:s(e.name),description:s(e.description),parentCategory:e.parentCategory&&("string"==typeof e.parentCategory?e.parentCategory:e.parentCategory._id)||""}),m(e._id),i(!1)})(e),className:"p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:d.jsx(T,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),d.jsx("button",{onClick:()=>(e=>{b(e),h(!0)})(e),className:"p-1.5 sm:p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(L,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]},e._id))})]},e._id)})})]}),(r||n)&&d.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 "+(t?"flex-row-reverse":""),children:[d.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:a(r?"createSubcategory":"editSubcategory")}),d.jsx("button",{onClick:_,className:"p-1.5 sm:p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(j,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),d.jsxs("form",{onSubmit:t=>c(null,null,function*(){if(t.preventDefault(),v.name.trim()&&v.description.trim()&&v.parentCategory)try{if(r)yield k.mutateAsync({name:{en:v.name,ar:v.name},description:{en:v.description,ar:v.description},parentCategory:v.parentCategory}),$e.success(a("added",{defaultValue:"Added successfully"}));else if(n){const t=(C||[]).find(e=>e._id===n),s=(t,a)=>{var s,r;const i=a&&"object"==typeof a?a:{};return{en:"en"===e?t:null!=(s=i.en)?s:t,ar:"ar"===e?t:null!=(r=i.ar)?r:t}};yield P.mutateAsync({id:n,subcategoryData:{name:s(v.name,null==t?void 0:t.name),description:s(v.description,null==t?void 0:t.description),parentCategory:v.parentCategory}}),$e.success(a("updated",{defaultValue:"Updated successfully"}))}_()}catch(s){$e.error(a("failedToSave",{defaultValue:"Failed to save subcategory"}))}}),className:"space-y-3 sm:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:a("parentCategory")}),d.jsxs("select",{name:"parentCategory",value:v.parentCategory,onChange:I,className:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",required:!0,children:[d.jsx("option",{value:"",children:a("selectParentCategory")}),(w||[]).map(e=>d.jsx("option",{value:e._id,children:s(e.name)},e._id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:a("subcategoryName")}),d.jsx("input",{type:"text",name:"name",value:v.name,onChange:I,className:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:a("enterSubcategoryName"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:a("description")}),d.jsx("textarea",{name:"description",value:v.description,onChange:I,rows:3,className:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 resize-none",placeholder:a("enterSubcategoryDescription"),required:!0})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center sm:justify-end gap-2 sm:gap-3 pt-3 sm:pt-4 "+(t?"sm:space-x-reverse sm:space-x-3":""),children:[d.jsx("button",{type:"button",onClick:_,className:"w-full sm:w-auto px-3 sm:px-4 py-2 text-sm sm:text-base text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:a("cancel")}),d.jsxs("button",{type:"submit",disabled:k.isPending||P.isPending,className:"w-full sm:w-auto flex items-center justify-center space-x-1 sm:space-x-2 px-3 sm:px-4 py-2 text-sm sm:text-base bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50",children:[d.jsx(D,{className:"w-3 h-3 sm:w-4 sm:h-4"}),d.jsx("span",{children:k.isPending||P.isPending?a("saving"):a(r?"createSubcategory":"editSubcategory")})]})]})]})]}),x&&y&&d.jsx(ta,{isOpen:x,onClose:()=>{h(!1),b(null)},onConfirm:()=>c(null,null,function*(){if(y)try{yield E.mutateAsync(y._id),$e.success(a("subcategoryDeleted",{defaultValue:"Subcategory deleted successfully!"})),h(!1),b(null)}catch(e){$e.error(a("failedToDeleteSubcategory",{defaultValue:"Failed to delete subcategory"}))}}),title:a("confirmDelete",{defaultValue:"Confirm Delete"}),description:a("deleteSubcategoryWarning",{defaultValue:"Are you sure you want to delete this subcategory? This action cannot be undone."}),itemName:s(y.name),itemDescription:s(y.description),isDeleting:E.isPending,type:"subcategory"})]})},na=({onClose:e})=>{const{mutate:t,isPending:a}=Yt(),{categories:s}=Ut(),{t:r}=ce(),{isRTL:i,currentLanguage:n}=xt(),c=sa(e),m=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e){const t=e;return t[n]||t.en||t.ar||""}return""},p=(e,t,a)=>{if("paragraph"===t){const t=a;return[...e,{type:"paragraph",text:t.text||"",title:t.title||""}]}if("image"===t){const t=a;return[...e,{type:"image",imageUrl:t.imageUrl||"",imageAlt:t.imageAlt||"",imageCaption:t.imageCaption||""}]}return e},g=(e,t,a)=>e.map((e,s)=>s===t?o(o({},e),a):e),x=(e,t)=>e.filter((e,a)=>a!==t),[h,y]=W.useState({title:{en:"",ar:""},content:{en:[],ar:[]},authorName:"",authorEmail:"",postImage:"",category:"",tags:[],status:"draft",featured:!1}),[b,f]=W.useState(""),[v,N]=W.useState(""),[w,C]=W.useState(""),[S,k]=W.useState(""),[P,E]=W.useState(""),[T,I]=W.useState([]),[_,R]=W.useState([]),[L,O]=W.useState(!1),F=e=>{const{name:t,value:a,type:s}=e.target;if("checkbox"===s){const a=e.target.checked;y(e=>l(o({},e),{[t]:a}))}else y(e=>l(o({},e),{[t]:a}))},M=()=>{b.trim()&&!h.tags.includes(b.trim())&&(y(e=>l(o({},e),{tags:[...e.tags,b.trim()]})),f(""))};return d.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(u.div,{ref:c,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add New Post"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(j,{className:"w-6 h-6"})})]}),d.jsxs("form",{onSubmit:a=>{a.preventDefault();const s=e=>e.trim()?e.split("\n\n").filter(e=>e.trim()).map(e=>({type:"paragraph",text:e.trim()})):[];let r,i;L&&(T.length>0||_.length>0)?(r=T,i=_):(r=s(S),i=s(P));const n=l(o({},h),{title:{en:v,ar:w},content:{en:r,ar:i}});t(n,{onSuccess:()=>{e()}})},className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN) *"}),d.jsx("input",{type:"text",value:v,onChange:e=>N(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter post title in English"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (AR) *"}),d.jsx("input",{type:"text",value:w,onChange:e=>C(e.target.value),required:!0,dir:"rtl",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أدخل عنوان المقال بالعربية"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Name *"}),d.jsx("input",{type:"text",name:"authorName",value:h.authorName,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter author name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Email *"}),d.jsx("input",{type:"email",name:"authorEmail",value:h.authorEmail,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter author email"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),d.jsxs("select",{name:"category",value:h.category,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"Select a category"}),s.map(e=>d.jsx("option",{value:e._id,children:m(e.name)},e._id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),d.jsxs("select",{name:"status",value:h.status,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"draft",children:"Draft"}),d.jsx("option",{value:"published",children:"Published"}),d.jsx("option",{value:"archived",children:"Archived"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",name:"featured",checked:h.featured,onChange:F,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Featured Post"})]}),d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Image URL *"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"url",name:"postImage",value:h.postImage,onChange:F,required:!0,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter image URL"}),d.jsx("button",{type:"button",className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:d.jsx(B,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),d.jsxs("div",{className:"flex space-x-2 mb-3",children:[d.jsx("input",{type:"text",value:b,onChange:e=>f(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),M()),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter tag and press Enter"}),d.jsx("button",{type:"button",onClick:M,className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:d.jsx(A,{className:"w-5 h-5"})})]}),h.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:h.tags.map((e,t)=>d.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[e,d.jsx("button",{type:"button",onClick:()=>{return t=e,void y(e=>l(o({},e),{tags:e.tags.filter(e=>e!==t)}));var t},className:"ml-2 text-blue-600 hover:text-blue-800",children:d.jsx(j,{className:"w-3 h-3"})})]},t))})]}),d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content Editor"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(L?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"),children:"Simple Text"}),d.jsx("button",{type:"button",onClick:()=>O(!0),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(L?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Rich Editor"})]})]})}),L?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (EN) *"}),d.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[T.map((e,t)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["paragraph"===e.type?"Paragraph":"Image"," ",t+1]}),d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("button",{type:"button",onClick:()=>I(x(T,t)),className:"text-red-600 hover:text-red-800",children:d.jsx(j,{className:"w-4 h-4"})})})]}),"paragraph"===e.type?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:e.title||"",onChange:e=>I(g(T,t,{title:e.target.value})),placeholder:"Paragraph title (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("textarea",{value:e.text||"",onChange:e=>I(g(T,t,{text:e.target.value})),placeholder:"Paragraph text",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"url",value:e.imageUrl||"",onChange:e=>I(g(T,t,{imageUrl:e.target.value})),placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageAlt||"",onChange:e=>I(g(T,t,{imageAlt:e.target.value})),placeholder:"Image alt text",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageCaption||"",onChange:e=>I(g(T,t,{imageCaption:e.target.value})),placeholder:"Image caption",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]},t)),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>I(p(T,"paragraph",{})),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ Add Paragraph"}),d.jsx("button",{type:"button",onClick:()=>I(p(T,"image",{})),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"+ Add Image"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (AR) *"}),d.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[_.map((e,t)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["paragraph"===e.type?"فقرة":"صورة"," ",t+1]}),d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("button",{type:"button",onClick:()=>R(x(_,t)),className:"text-red-600 hover:text-red-800",children:d.jsx(j,{className:"w-4 h-4"})})})]}),"paragraph"===e.type?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:e.title||"",onChange:e=>R(g(_,t,{title:e.target.value})),placeholder:"عنوان الفقرة (اختياري)",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("textarea",{value:e.text||"",onChange:e=>R(g(_,t,{text:e.target.value})),placeholder:"نص الفقرة",dir:"rtl",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"url",value:e.imageUrl||"",onChange:e=>R(g(_,t,{imageUrl:e.target.value})),placeholder:"رابط الصورة",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageAlt||"",onChange:e=>R(g(_,t,{imageAlt:e.target.value})),placeholder:"النص البديل للصورة",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageCaption||"",onChange:e=>R(g(_,t,{imageCaption:e.target.value})),placeholder:"تعليق الصورة",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]},t)),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>R(p(_,"paragraph",{})),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ إضافة فقرة"}),d.jsx("button",{type:"button",onClick:()=>R(p(_,"image",{})),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"+ إضافة صورة"})]})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (EN) *"}),d.jsx("textarea",{value:S,onChange:e=>k(e.target.value),required:!0,rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Write your post content in English...\n\nUse double line breaks to create separate paragraphs."}),d.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Current: ",S.length," characters"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (AR) *"}),d.jsx("textarea",{value:P,onChange:e=>E(e.target.value),required:!0,dir:"rtl",rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"اكتب محتوى المقال بالعربية...\n\nاستخدم فاصلين أسطر لإنشاء فقرات منفصلة."}),d.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["الحالي: ",P.length," حرف"]})]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsxs("button",{type:"submit",disabled:a||!v.trim()||!w.trim()||(L?0===T.length||0===_.length:S.length<10||P.length<10),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[d.jsx(D,{className:"w-5 h-5"}),d.jsx("span",{children:a?"Creating...":"Create Post"})]})]})]})]})})},oa=({postId:e})=>{const[t,a]=W.useState(1),{data:s,isLoading:r}=Wt(e,t,10),{mutate:i}=(()=>{const e=ie();return ne({mutationFn:({postId:e,commentId:t})=>Bt.deleteComment(e,t),onSuccess:(t,{postId:a})=>{e.invalidateQueries({queryKey:Ct.posts.comments(a)}),e.invalidateQueries({queryKey:Ct.posts.detail(a)}),pt.success("Comment deleted successfully!")},onError:e=>{pt.error(e.message||"Failed to delete comment")}})})(),[n,o]=W.useState(!1),[l,c]=W.useState(null);return r?d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mt-4",children:d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4 mb-4"}),d.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>d.jsx("div",{className:"h-20 bg-gray-300 rounded"},t))})]})}):d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mt-4 border border-gray-200",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[d.jsx($,{className:"w-5 h-5 mr-2"}),"Comments (",(null==s?void 0:s.totalComments)||0,")"]})}),(null==s?void 0:s.comments)&&s.comments.length>0?d.jsxs("div",{className:"space-y-3",children:[s.comments.map(e=>d.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-100",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx(_,{className:"w-4 h-4 text-gray-400"}),d.jsx("span",{className:"font-medium text-gray-800",children:e.authorName}),d.jsx("span",{className:"text-sm text-gray-500",children:e.authorEmail}),d.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleDateString()})]}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.content})]}),d.jsx("button",{onClick:()=>{return t=e._id,a=e.content,c({id:t,content:a}),void o(!0);var t,a},className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete comment",children:d.jsx(L,{className:"w-4 h-4"})})]})},e._id)),s.totalPages>1&&d.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-4",children:[d.jsx("button",{onClick:()=>a(e=>Math.max(1,e-1)),disabled:!s.hasPrev,className:"px-3 py-1 bg-white border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),d.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",t," of ",s.totalPages]}),d.jsx("button",{onClick:()=>a(e=>e+1),disabled:!s.hasNext,className:"px-3 py-1 bg-white border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx($,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),d.jsx("p",{children:"No comments yet"})]}),n&&l&&d.jsx(ta,{isOpen:n,onClose:()=>{o(!1),c(null)},onConfirm:()=>{l&&i({postId:e,commentId:l.id},{onSuccess:()=>{pt.success("Comment deleted successfully"),o(!1),c(null)},onError:()=>{pt.error("Failed to delete comment")}})},title:"Confirm Delete Comment",description:"Are you sure you want to delete this comment? This action cannot be undone.",itemName:"Comment",itemDescription:l.content,isDeleting:!1,type:"comment"})]})},la=()=>{const{currentLanguage:e}=xt(),{data:t,isLoading:a}=Vt({limit:100},e),{mutate:s}=(()=>{const e=ie();return ne({mutationFn:e=>Bt.deletePost(e),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.posts.all}),pt.success("Post deleted successfully!")},onError:e=>{pt.error(e.message||"Failed to delete post")}})})(),{mutate:r}=(()=>{const e=ie();return ne({mutationFn:({id:e,postData:t})=>Bt.updatePost(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:Ct.posts.detail(t._id)}),e.invalidateQueries({queryKey:Ct.posts.all}),pt.success("Post updated successfully!")},onError:e=>{pt.error(e.message||"Failed to update post")}})})(),{mutate:i}=Yt(),{categories:n}=Ut(),[c,m]=W.useState(null),[p,g]=W.useState({}),[x,h]=W.useState(""),[y,b]=W.useState(""),[f,v]=W.useState(""),[N,w]=W.useState(""),[C,S]=W.useState(""),[k,P]=W.useState("all"),[E,D]=W.useState("all"),[O,F]=W.useState("all"),[M,q]=W.useState(!1),B=sa(()=>q(!1),M),[z,Y]=W.useState({title:{en:"",ar:""},content:{en:[],ar:[]},authorName:"",authorEmail:"",postImage:"",category:"",tags:[],status:"draft",featured:!1}),[Q,H]=W.useState(""),[G,K]=W.useState(""),[J,X]=W.useState(""),[ee,te]=W.useState(""),[ae,se]=W.useState(null),[re,oe]=W.useState(""),[le,ce]=W.useState([]),[de,ue]=W.useState([]),[me,pe]=W.useState([]),[ge,xe]=W.useState([]),[he,ye]=W.useState(!1),be=(null==t?void 0:t.posts)||[],fe=t=>{if("string"==typeof t)return t;if("object"==typeof t&&null!==t){const a=t;return a[e]||a.en||a.ar||""}return""},ve=t=>{if("string"==typeof t)return t;if(Array.isArray(t)){const e=t.filter(e=>"paragraph"===e.type),a=t.filter(e=>"image"===e.type);if(e.length>0){const t=e.map(e=>e.text||"").join(" "),s=a.length>0?` [${a.length} image${a.length>1?"s":""}]`:"";return t.substring(0,200)+(t.length>200?"...":"")+s}}if("object"==typeof t&&null!==t){const a=t,s=a[e]||a.en||a.ar;if(Array.isArray(s)){const e=s.filter(e=>"paragraph"===e.type),t=s.filter(e=>"image"===e.type);if(e.length>0){const a=e.map(e=>e.text||"").join(" "),s=t.length>0?` [${t.length} image${t.length>1?"s":""}]`:"";return a.substring(0,200)+(a.length>200?"...":"")+s}}}return""},je=be.filter(e=>{const t=fe(e.title),a=ve(e.content),s=""===C||t.toLowerCase().includes(C.toLowerCase())||a.toLowerCase().includes(C.toLowerCase())||e.authorName.toLowerCase().includes(C.toLowerCase()),r="all"===k||e.status===k,i="all"===E||("string"==typeof e.category?e.category===E:e.category._id===E),n="all"===O||("featured"===O?e.featured:!e.featured);return s&&r&&i&&n}),[Ne,we]=W.useState(!1),[Ce,Se]=W.useState(null),ke=e=>e.filter(e=>"paragraph"===e.type).map(e=>e.text||"").join("\n\n"),Pe=e=>e.trim()?e.split("\n\n").filter(e=>e.trim()).map(e=>({type:"paragraph",text:e.trim()})):[],Ee=(e,t,a)=>{if("paragraph"===t){const t=a;return[...e,{type:"paragraph",text:t.text||"",title:t.title||""}]}if("image"===t){const t=a;return[...e,{type:"image",imageUrl:t.imageUrl||"",imageAlt:t.imageAlt||"",imageCaption:t.imageCaption||""}]}return e},Ae=(e,t,a)=>e.map((e,s)=>s===t?o(o({},e),a):e),De=(e,t)=>e.filter((e,a)=>a!==t),Te=()=>{m(null),g({}),h(""),b(""),v(""),w(""),pe([]),xe([])},Ie=()=>{re.trim()&&!z.tags.includes(re.trim())&&(Y(e=>l(o({},e),{tags:[...e.tags,re.trim()]})),oe(""))},_e=e=>{if("string"==typeof e){const t=n.find(t=>t._id===e);return t?fe(t.name):e}return fe(e.name)},Re=e=>{switch(e){case"published":return"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200";case"draft":return"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-800 border border-yellow-200";default:return"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border border-gray-200"}};return a?d.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((e,t)=>d.jsxs("div",{className:"bg-white rounded-lg p-6 animate-pulse",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4 w-3/4"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},t))}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Posts"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",je.length," posts"]}),d.jsxs("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors flex items-center space-x-2",children:[d.jsx(V,{className:"w-4 h-4"}),d.jsx("span",{children:"Add Post"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Posts"}),d.jsx("input",{type:"text",placeholder:"Search by title, content, or author...",value:C,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),d.jsxs("select",{value:k,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"All Statuses"}),d.jsx("option",{value:"published",children:"Published"}),d.jsx("option",{value:"draft",children:"Draft"}),d.jsx("option",{value:"archived",children:"Archived"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),d.jsxs("select",{value:E,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"All Categories"}),n.map(e=>d.jsx("option",{value:e._id,children:fe(e.name)},e._id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured"}),d.jsxs("select",{value:O,onChange:e=>F(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"All Posts"}),d.jsx("option",{value:"featured",children:"Featured Only"}),d.jsx("option",{value:"not-featured",children:"Not Featured"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[d.jsxs("span",{children:["Showing ",je.length," of ",be.length," posts"]}),(C||"all"!==k||"all"!==E||"all"!==O)&&d.jsx("span",{className:"text-blue-600 font-medium",children:"Filters applied"})]}),d.jsx("button",{onClick:()=>{S(""),P("all"),D("all"),F("all")},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors",children:"Clear Filters"})]})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:je.map(e=>{return d.jsxs(Z.Fragment,{children:[d.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-XL shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:c===e._id?d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (EN)"}),d.jsx("input",{type:"text",value:x,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (AR)"}),d.jsx("input",{type:"text",value:y,onChange:e=>b(e.target.value),dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content Editor"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>ye(!1),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(he?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-teal-600 text-white"),children:"Simple Text"}),d.jsx("button",{type:"button",onClick:()=>ye(!0),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(he?"bg-teal-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Rich Editor"})]})]})}),he?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (EN)"}),d.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[me.map((e,t)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["paragraph"===e.type?"Paragraph":"Image"," ",t+1]}),d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("button",{type:"button",onClick:()=>pe(De(me,t)),className:"text-red-600 hover:text-red-800",children:d.jsx(j,{className:"w-4 h-4"})})})]}),"paragraph"===e.type?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:e.title||"",onChange:e=>pe(Ae(me,t,{title:e.target.value})),placeholder:"Paragraph title (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("textarea",{value:e.text||"",onChange:e=>pe(Ae(me,t,{text:e.target.value})),placeholder:"Paragraph text",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"url",value:e.imageUrl||"",onChange:e=>pe(Ae(me,t,{imageUrl:e.target.value})),placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageAlt||"",onChange:e=>pe(Ae(me,t,{imageAlt:e.target.value})),placeholder:"Image alt text",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageCaption||"",onChange:e=>pe(Ae(me,t,{imageCaption:e.target.value})),placeholder:"Image caption",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]},t)),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>pe(Ee(me,"paragraph",{})),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ Add Paragraph"}),d.jsx("button",{type:"button",onClick:()=>pe(Ee(me,"image",{})),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"+ Add Image"})]})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (AR)"}),d.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[ge.map((e,t)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["paragraph"===e.type?"فقرة":"صورة"," ",t+1]}),d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("button",{type:"button",onClick:()=>xe(De(ge,t)),className:"text-red-600 hover:text-red-800",children:d.jsx(j,{className:"w-4 h-4"})})})]}),"paragraph"===e.type?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:e.title||"",onChange:e=>xe(Ae(ge,t,{title:e.target.value})),placeholder:"عنوان الفقرة (اختياري)",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("textarea",{value:e.text||"",onChange:e=>xe(Ae(ge,t,{text:e.target.value})),placeholder:"نص الفقرة",dir:"rtl",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"url",value:e.imageUrl||"",onChange:e=>xe(Ae(ge,t,{imageUrl:e.target.value})),placeholder:"رابط الصورة",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageAlt||"",onChange:e=>xe(Ae(ge,t,{imageAlt:e.target.value})),placeholder:"النص البديل للصورة",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageCaption||"",onChange:e=>xe(Ae(ge,t,{imageCaption:e.target.value})),placeholder:"تعليق الصورة",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]},t)),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>xe(Ee(ge,"paragraph",{})),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ إضافة فقرة"}),d.jsx("button",{type:"button",onClick:()=>xe(Ee(ge,"image",{})),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"+ إضافة صورة"})]})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content (EN)"}),d.jsx("textarea",{value:f,onChange:e=>v(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-vertical"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content (AR)"}),d.jsx("textarea",{value:N,onChange:e=>w(e.target.value),rows:4,dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-vertical"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),d.jsxs("select",{value:p.status||e.status,onChange:e=>g(t=>l(o({},t),{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[d.jsx("option",{value:"draft",children:"Draft"}),d.jsx("option",{value:"published",children:"Published"}),d.jsx("option",{value:"archived",children:"Archived"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),d.jsx("select",{value:p.category||"",onChange:e=>g(t=>l(o({},t),{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:n.map(e=>d.jsx("option",{value:e._id,children:fe(e.name)},e._id))})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",checked:p.featured||e.featured,onChange:e=>g(t=>l(o({},t),{featured:e.target.checked})),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Featured"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{onClick:Te,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:()=>(e=>{if(!x.trim()||!y.trim())return void pt.error("Both English and Arabic titles are required");let t,a;if(he&&(me.length>0||ge.length>0))t=me,a=ge;else{if(!f.trim()||!N.trim())return void pt.error("Both English and Arabic content are required");t=Pe(f),a=Pe(N)}const s={title:{en:x,ar:y},content:{en:t,ar:a},status:p.status,featured:p.featured,category:p.category,tags:p.tags};r({id:e,postData:s},{onSuccess:()=>{m(null),g({}),h(""),b(""),v(""),w(""),pe([]),xe([]),pt.success("Post updated successfully!")},onError:e=>{var t,a;const s=(null==(a=null==(t=null==e?void 0:e.response)?void 0:t.data)?void 0:a.message)||"Failed to update post";pt.error(s)}})})(e._id),className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Save Changes"})]})]}):d.jsxs("div",{className:"relative",children:[e.featured&&d.jsx("div",{className:"absolute top-4 right-4 z-10",children:d.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold shadow-lg flex items-center space-x-1",children:[d.jsx(I,{className:"w-3 h-3 fill-current"}),d.jsx("span",{children:"Featured"})]})}),d.jsxs("div",{className:"h-48 bg-gradient-to-br from-teal-50 to-blue-50 relative overflow-hidden",children:[e.postImage?d.jsx("img",{src:e.postImage,alt:fe(e.title),className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsx(V,{className:"w-16 h-16 text-teal-300"})}),d.jsx("div",{className:"absolute top-4 left-4",children:d.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full shadow-lg ${Re(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 leading-tight",children:fe(e.title)}),d.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-sm text-gray-600 mb-3",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-6 h-6 bg-teal-100 rounded-full flex items-center justify-center",children:d.jsx(_,{className:"w-3 h-3 text-teal-600"})}),d.jsx("span",{className:"font-medium",children:e.authorName})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(R,{className:"w-3 h-3 text-blue-600"})}),d.jsx("span",{children:(t=e.createdAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center",children:d.jsx(U,{className:"w-3 h-3 text-purple-600"})}),d.jsx("span",{className:"font-medium",children:_e(e.category)})]})]})]}),d.jsx("p",{className:"text-gray-700 line-clamp-3 mb-4 leading-relaxed",children:ve(e.content)}),e.tags&&e.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map((e,t)=>d.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-teal-50 to-blue-50 text-teal-700 text-xs rounded-full border border-teal-200 font-medium",children:["#",e]},t))}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs",children:"👁"})}),d.jsx("span",{children:e.views||0})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs",children:"❤"})}),d.jsx("span",{children:e.likes||0})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>se(ae===e._id?null:e._id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-105",title:"View comments",children:d.jsx($,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>(e=>{m(e._id);const t="string"==typeof e.title?{en:e.title,ar:""}:e.title;h((null==t?void 0:t.en)||""),b((null==t?void 0:t.ar)||"");const a=e.content;let s=[],r=[];if(Array.isArray(a))s=a,r=a;else if("object"==typeof a&&null!==a){const e=a;s=e.en||[],r=e.ar||[]}pe(s),xe(r),v(ke(s)),w(ke(r)),g({status:e.status,featured:e.featured,category:"string"==typeof e.category?e.category:e.category._id,tags:e.tags})})(e),className:"p-2 text-teal-600 hover:bg-teal-50 rounded-lg transition-all duration-200 hover:scale-105",title:"Edit post",children:d.jsx(T,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>{return t=e._id,a=fe(e.title),Se({id:t,title:a}),void we(!0);var t,a},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-105",title:"Delete post",children:d.jsx(L,{className:"w-4 h-4"})})]})]})]})]})}),ae===e._id&&d.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4",children:d.jsx(oa,{postId:e._id})})]},e._id);var t})}),0===je.length&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-gray-400 mb-4",children:d.jsx(V,{className:"w-16 h-16 mx-auto"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:0===be.length?"No posts yet":"No posts match your filters"}),d.jsx("p",{className:"text-gray-600",children:0===be.length?"Create your first post to get started with your blog.":"Try adjusting your search criteria or filters to find more posts."})]}),M&&d.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(u.div,{ref:B,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add New Post"}),d.jsx("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(j,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN) *"}),d.jsx("input",{type:"text",value:Q,onChange:e=>H(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter post title in English"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (AR) *"}),d.jsx("input",{type:"text",value:G,onChange:e=>K(e.target.value),required:!0,dir:"rtl",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"أدخل عنوان المقال بالعربية"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Name *"}),d.jsx("input",{type:"text",value:z.authorName,onChange:e=>Y(t=>l(o({},t),{authorName:e.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter author name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Email *"}),d.jsx("input",{type:"email",value:z.authorEmail,onChange:e=>Y(t=>l(o({},t),{authorEmail:e.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter author email"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),d.jsxs("select",{value:z.category,onChange:e=>Y(t=>l(o({},t),{category:e.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"Select a category"}),n.map(e=>d.jsx("option",{value:e._id,children:fe(e.name)},e._id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),d.jsxs("select",{value:z.status,onChange:e=>Y(t=>l(o({},t),{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[d.jsx("option",{value:"draft",children:"Draft"}),d.jsx("option",{value:"published",children:"Published"}),d.jsx("option",{value:"archived",children:"Archived"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",checked:z.featured,onChange:e=>Y(t=>l(o({},t),{featured:e.target.checked})),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Featured Post"})]}),d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Image URL *"}),d.jsx("input",{type:"url",value:z.postImage,onChange:e=>Y(t=>l(o({},t),{postImage:e.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter image URL"})]}),d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),d.jsxs("div",{className:"flex space-x-2 mb-3",children:[d.jsx("input",{type:"text",value:re,onChange:e=>oe(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),Ie()),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter tag and press Enter"}),d.jsx("button",{type:"button",onClick:Ie,className:"px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:d.jsx(A,{className:"w-5 h-5"})})]}),z.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:z.tags.map((e,t)=>d.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-teal-100 text-teal-800 text-sm rounded-full",children:[e,d.jsx("button",{type:"button",onClick:()=>{return t=e,void Y(e=>l(o({},e),{tags:e.tags.filter(e=>e!==t)}));var t},className:"ml-2 text-teal-600 hover:text-teal-800",children:d.jsx(j,{className:"w-3 h-3"})})]},t))})]}),d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content Editor"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>ye(!1),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(he?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-teal-600 text-white"),children:"Simple Text"}),d.jsx("button",{type:"button",onClick:()=>ye(!0),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(he?"bg-teal-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Rich Editor"})]})]})}),he?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (EN) *"}),d.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[le.map((e,t)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["paragraph"===e.type?"Paragraph":"Image"," ",t+1]}),d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("button",{type:"button",onClick:()=>ce(De(le,t)),className:"text-red-600 hover:text-red-800",children:d.jsx(j,{className:"w-4 h-4"})})})]}),"paragraph"===e.type?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:e.title||"",onChange:e=>ce(Ae(le,t,{title:e.target.value})),placeholder:"Paragraph title (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("textarea",{value:e.text||"",onChange:e=>ce(Ae(le,t,{text:e.target.value})),placeholder:"Paragraph text",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"url",value:e.imageUrl||"",onChange:e=>ce(Ae(le,t,{imageUrl:e.target.value})),placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageAlt||"",onChange:e=>ce(Ae(le,t,{imageAlt:e.target.value})),placeholder:"Image alt text",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageCaption||"",onChange:e=>ce(Ae(le,t,{imageCaption:e.target.value})),placeholder:"Image caption",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]},t)),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>ce(Ee(le,"paragraph",{})),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ Add Paragraph"}),d.jsx("button",{type:"button",onClick:()=>ce(Ee(le,"image",{})),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"+ Add Image"})]})]})]}),d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (AR) *"}),d.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[de.map((e,t)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["paragraph"===e.type?"فقرة":"صورة"," ",t+1]}),d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("button",{type:"button",onClick:()=>ue(De(de,t)),className:"text-red-600 hover:text-red-800",children:d.jsx(j,{className:"w-4 h-4"})})})]}),"paragraph"===e.type?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:e.title||"",onChange:e=>ue(Ae(de,t,{title:e.target.value})),placeholder:"عنوان الفقرة (اختياري)",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("textarea",{value:e.text||"",onChange:e=>ue(Ae(de,t,{text:e.target.value})),placeholder:"نص الفقرة",dir:"rtl",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"url",value:e.imageUrl||"",onChange:e=>ue(Ae(de,t,{imageUrl:e.target.value})),placeholder:"رابط الصورة",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageAlt||"",onChange:e=>ue(Ae(de,t,{imageAlt:e.target.value})),placeholder:"النص البديل للصورة",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),d.jsx("input",{type:"text",value:e.imageCaption||"",onChange:e=>ue(Ae(de,t,{imageCaption:e.target.value})),placeholder:"تعليق الصورة",dir:"rtl",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]},t)),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>ue(Ee(de,"paragraph",{})),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ إضافة فقرة"}),d.jsx("button",{type:"button",onClick:()=>ue(Ee(de,"image",{})),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"+ إضافة صورة"})]})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (EN) *"}),d.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tip: Use double line breaks (press Enter twice) to create separate paragraphs."}),d.jsx("textarea",{value:J,onChange:e=>X(e.target.value),required:!0,rows:12,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-vertical",placeholder:"Write your post content in English...\n\nUse double line breaks to create separate paragraphs.\n\nEach paragraph will be saved as a separate content block."})]}),d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (AR) *"}),d.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"نصيحة: استخدم فاصلين أسطر (اضغط Enter مرتين) لإنشاء فقرات منفصلة."}),d.jsx("textarea",{value:ee,onChange:e=>te(e.target.value),required:!0,dir:"rtl",rows:12,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-vertical",placeholder:"اكتب محتوى المقال بالعربية...\n\nاستخدم فاصلين أسطر لإنشاء فقرات منفصلة.\n\nكل فقرة ستُحفظ ككتلة محتوى منفصلة."})]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:()=>q(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsxs("button",{type:"button",onClick:()=>{if(!Q.trim()||!G.trim())return void pt.error("Both English and Arabic titles are required");if(!J.trim()||!ee.trim())return void pt.error("Both English and Arabic content are required");if(!z.authorName.trim()||!z.authorEmail.trim())return void pt.error("Author name and email are required");if(!z.category)return void pt.error("Category is required");let e,t;he&&(le.length>0||de.length>0)?(e=le,t=de):(e=Pe(J),t=Pe(ee));const a={title:{en:Q,ar:G},content:{en:e,ar:t},authorName:z.authorName,authorEmail:z.authorEmail,postImage:z.postImage,category:z.category,tags:z.tags,status:z.status,featured:z.featured};i(a,{onSuccess:()=>{q(!1),Y({title:{en:"",ar:""},content:{en:[],ar:[]},authorName:"",authorEmail:"",postImage:"",category:"",tags:[],status:"draft",featured:!1}),oe(""),H(""),K(""),X(""),te(""),ce([]),ue([]),pt.success("Post created successfully!")},onError:e=>{var t,a;const s=(null==(a=null==(t=null==e?void 0:e.response)?void 0:t.data)?void 0:a.message)||"Failed to create post";pt.error(s)}})},disabled:J.length<10||ee.length<10||!Q||!G||!z.authorName||!z.authorEmail||!z.category||!z.postImage,className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[d.jsx(A,{className:"w-5 h-5"}),d.jsx("span",{children:"Create Post"})]})]})]})]})}),Ne&&Ce&&d.jsx(ta,{isOpen:Ne,onClose:()=>{we(!1),Se(null)},onConfirm:()=>{Ce&&s(Ce.id,{onSuccess:()=>{we(!1),Se(null)},onError:()=>{}})},title:"Confirm Delete Post",description:"Are you sure you want to delete this post? This action cannot be undone.",itemName:Ce.title,itemDescription:"",isDeleting:!1,type:"post"})]})},ca=()=>{var e;const{user:t,logout:a}=Tt(),s=G(),r=H(),{t:i}=ce(),{isRTL:n,currentLanguage:o,changeLanguage:l}=xt(),c=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e){const t=e;return t[o]||t.en||t.ar||""}return""},[m,p]=W.useState("dashboard"),[g,x]=W.useState(!1),{data:h=[],isLoading:y}=Lt(),{categories:f,loading:v}=Ut(),{data:w=[],isLoading:S}=Et(),{data:k={posts:[]},isLoading:P}=Vt({limit:100},o),E=(h||[]).map(e=>{var t;return{id:e._id,name:c(e.name),price:e.price,image:e.image,inStock:e.inStock,averageRating:e.averageRating||0,subcategory:"string"==typeof e.subcategory?e.subcategory:(null==(t=e.subcategory)?void 0:t._id)||""}}),D=e=>{if("string"==typeof e){const t=w.find(t=>t._id===e);return t?c(t.name):e}return c(e.name)};W.useEffect(()=>{const e=new URLSearchParams(r.search).get("tab");e&&e!==m&&p(e)},[r.search]),W.useEffect(()=>{const e=new URLSearchParams(r.search);m&&(e.set("tab",m),s({pathname:"/dashboard",search:e.toString()},{replace:!0}))},[m]);const T=[{id:"dashboard",label:i("dashboard"),icon:z},{id:"add-product",label:i("addProduct"),icon:A},{id:"products",label:i("manageProducts"),icon:b},{id:"categories",label:i("manageCategories"),icon:U},{id:"subcategories",label:i("manageSubCategories"),icon:U},{id:"add-post",label:i("addPost"),icon:V},{id:"posts",label:i("managePosts"),icon:V}],I=W.useMemo(()=>({dashboard:i("dashboard"),"add-product":i("addProduct"),products:i("manageProducts"),categories:i("manageCategories"),subcategories:i("manageSubCategories"),"add-post":i("addPost"),posts:i("managePosts")}),[i]),_=W.useMemo(()=>{const e=E.length,t=E.filter(e=>e.inStock).length,a=E.reduce((e,t)=>e+t.price,0),s=E.length>0?(E.reduce((e,t)=>e+(t.averageRating||0),0)/E.length).toFixed(1):"0.0",r=f.length,n=f.filter(e=>E.some(t=>t.subcategory===e._id)).length,o=k.posts.length,l=k.posts.filter(e=>"published"===e.status).length,c=k.posts.filter(e=>e.featured).length;return[{label:i("totalProducts"),value:e.toString(),color:"bg-blue-500",icon:b,loading:y},{label:i("inStock"),value:t.toString(),color:"bg-green-500",icon:b,loading:y},{label:i("totalCategories"),value:r.toString(),color:"bg-teal-500",icon:U,loading:v},{label:i("activeCategories"),value:n.toString(),color:"bg-purple-500",icon:U,loading:v||S},{label:i("totalPosts"),value:o.toString(),color:"bg-indigo-500",icon:V,loading:P},{label:i("publishedPosts"),value:l.toString(),color:"bg-green-500",icon:V,loading:P},{label:i("featuredPosts"),value:c.toString(),color:"bg-yellow-500",icon:V,loading:P},{label:i("totalValue"),value:`$${(a/1e3).toFixed(1)}K`,color:"bg-orange-500",icon:b,loading:y},{label:i("avgRating"),value:s,color:"bg-indigo-500",icon:b,loading:y}]},[E,y,f,v,w,S,k.posts,P,i]);return d.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[g&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>x(!1)}),d.jsx("div",{className:`fixed inset-y-0 ${n?"right-0":"left-0"} z-50 w-72 bg-white shadow-xl transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 ${g?"translate-x-0":(n?"translate-x-full":"-translate-x-full")+" lg:translate-x-0"}`,children:d.jsxs("div",{className:"flex flex-col h-screen",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsx("h1",{className:"text-xl font-bold text-teal-600",children:i("medicalEqPro")}),d.jsx("button",{onClick:()=>x(!1),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:d.jsx(j,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center "+(n?"flex-row-reverse space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white font-semibold text-sm",children:null==(e=null==t?void 0:t.name)?void 0:e.charAt(0).toUpperCase()})}),d.jsxs("div",{className:n?"text-right":"text-left",children:[d.jsx("p",{className:"font-medium text-gray-900",children:null==t?void 0:t.name}),d.jsx("p",{className:"text-sm text-gray-500",children:null==t?void 0:t.email})]})]})}),d.jsx("nav",{className:"flex-1 p-6 space-y-2",children:T.map(e=>{const t=e.icon;return d.jsxs("button",{onClick:()=>{p(e.id),x(!1)},className:`w-full flex items-center ${n?"space-x-4":"space-x-3"} px-4 py-3 rounded-lg text-left transition-all duration-200 ${m===e.id?"bg-teal-50 text-teal-700 border border-teal-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx(t,{className:"h-5 w-5 "+(m===e.id?"text-teal-600":"text-gray-500")}),d.jsx("span",{className:"font-medium",children:e.label})]},e.id)})}),d.jsx("div",{className:"p-6 border-t border-gray-200",children:d.jsxs("button",{onClick:()=>l("en"===o?"ar":"en"),className:`w-full flex items-center ${n?"space-x-4":"space-x-3"} px-4 py-3 rounded-lg text-left text-teal-600 hover:bg-teal-50 transition-all duration-200 hover:shadow-sm`,children:[d.jsx(N,{className:"h-5 w-5"}),d.jsx("span",{className:"font-medium",children:i("en"===o?"arabic":"english")})]})}),d.jsx("div",{className:"p-6 border-t border-gray-200",children:d.jsxs("button",{onClick:()=>{a(),s("/login")},className:`w-full flex items-center ${n?"space-x-4":"space-x-3"} px-4 py-3 rounded-lg text-left text-red-600 hover:bg-red-50 transition-all duration-200 hover:shadow-sm`,children:[d.jsx(Y,{className:"h-5 w-5"}),d.jsx("span",{className:"font-medium",children:i("logout")})]})})]})}),d.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[d.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4 flex-shrink-0",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{onClick:()=>x(!g),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:d.jsx(C,{className:"h-6 w-6"})}),d.jsx("div",{className:"flex items-center "+(n?"flex-row-reverse space-x-reverse space-x-4":"space-x-4"),children:d.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:I[m]||i("dashboard")})})]})}),d.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:(()=>{switch(m){case"add-product":return d.jsx(Jt,{});case"products":return d.jsx(aa,{});case"categories":return d.jsx(ra,{});case"subcategories":return d.jsx(ia,{});case"add-post":return d.jsx(na,{onClose:()=>p("dashboard")});case"posts":return d.jsx(la,{});default:return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:[i("welcomeBack"),", ",null==t?void 0:t.name,"!"]}),d.jsx("p",{className:"text-gray-600",children:i("overviewDescription")})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((e,t)=>d.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.label}),e.loading?d.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"}):d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]}),d.jsx("div",{className:`w-12 h-12 ${e.color} rounded-lg flex items-center justify-center`,children:d.jsx(e.icon,{className:"h-6 w-6 text-white"})})]})},e.label))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("recentProducts")}),y?d.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>d.jsxs("div",{className:"flex items-center "+(n?"flex-row-reverse space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded animate-pulse"}),d.jsxs("div",{className:"flex-1 "+(n?"text-right":"text-left"),children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse mb-2"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 animate-pulse"})]})]},t))}):E.length>0?d.jsx("div",{className:"space-y-3",children:E.slice(0,3).map(e=>d.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors "+(n?"flex-row-reverse space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("img",{src:e.image,alt:e.name,className:"w-10 h-10 rounded-lg object-cover"}),d.jsxs("div",{className:"flex-1 "+(n?"text-right":"text-left"),children:[d.jsx("p",{className:"font-medium text-gray-900",children:e.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[i("currencySymbol")," ",e.price.toLocaleString()]}),d.jsx("p",{className:"text-xs text-gray-400",children:D(e.subcategory)})]}),d.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium "+(e.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.inStock?i("inStock"):i("outOfStock")})]},e.id))}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:i("noProductsYet")})]}),d.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("recentCategories")}),v?d.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>d.jsxs("div",{className:"flex items-center "+(n?"flex-row-reverse space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded animate-pulse"}),d.jsxs("div",{className:"flex-1 "+(n?"text-right":"text-left"),children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse mb-2"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 animate-pulse"})]})]},t))}):f.length>0?d.jsx("div",{className:"space-y-3",children:f.slice(0,3).map(e=>{const t=(e=>{const t=w.filter(t=>t.parentCategory&&("string"==typeof t.parentCategory?t.parentCategory===e._id:t.parentCategory._id===e._id));return E.filter(e=>t.some(t=>t._id===e.subcategory)).length})(e);return d.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors "+(n?"flex-row-reverse space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center",children:d.jsx(U,{className:"h-5 w-5 text-teal-600"})}),d.jsxs("div",{className:"flex-1 "+(n?"text-right":"text-left"),children:[d.jsx("p",{className:"font-medium text-gray-900",children:c(e.name)}),d.jsxs("p",{className:"text-sm text-gray-500",children:[t," ",i("products")]})]}),d.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:i(t>0?"active":"empty")})]},e._id)})}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:i("noCategoriesYet")})]})]}),d.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("recentPosts")}),P?d.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>d.jsxs("div",{className:"flex items-center "+(n?"flex-row-reverse space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded animate-pulse"}),d.jsxs("div",{className:"flex-1 "+(n?"text-right":"text-left"),children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse mb-2"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 animate-pulse"})]})]},t))}):k.posts.length>0?d.jsx("div",{className:"space-y-3",children:k.posts.slice(0,3).map(e=>d.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors "+(n?"flex-row-reverse space-x-reverse space-x-3":"space-x-3"),children:[d.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:d.jsx(V,{className:"h-5 w-5 text-indigo-600"})}),d.jsxs("div",{className:"flex-1 "+(n?"text-right":"text-left"),children:[d.jsx("p",{className:"font-medium text-gray-900 line-clamp-1",children:c(e.title)}),d.jsx("p",{className:"text-sm text-gray-500",children:e.authorName}),d.jsx("p",{className:"text-xs text-gray-400",children:c(e.category)})]}),d.jsxs("div",{className:"flex flex-col space-y-1 "+(n?"items-start":"items-end"),children:[d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("published"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status}),e.featured&&d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:i("featured")})]})]},e._id))}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:i("noPostsYet")})]}),d.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("quickActions")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("button",{onClick:()=>p("add-product"),className:"p-4 border-2 border-dashed border-teal-300 rounded-lg hover:border-teal-400 hover:bg-teal-50 transition-all duration-200 text-center group",children:[d.jsx(A,{className:"h-8 w-8 text-teal-500 mx-auto mb-2 group-hover:scale-110 transition-transform"}),d.jsx("p",{className:"font-medium text-teal-700",children:i("addProduct")}),d.jsx("p",{className:"text-sm text-teal-600",children:i("createNewProduct")})]}),d.jsxs("button",{onClick:()=>p("categories"),className:"p-4 border-2 border-dashed border-blue-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 text-center group",children:[d.jsx(U,{className:"h-8 w-8 text-blue-500 mx-auto mb-2 group-hover:scale-110 transition-transform"}),d.jsx("p",{className:"font-medium text-blue-700",children:i("manageCategories")}),d.jsx("p",{className:"text-sm text-blue-600",children:i("organizeCategories")})]}),d.jsxs("button",{onClick:()=>p("products"),className:"p-4 border-2 border-dashed border-purple-300 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 text-center group",children:[d.jsx(b,{className:"h-8 w-8 text-purple-500 mx-auto mb-2 group-hover:scale-110 transition-transform"}),d.jsx("p",{className:"font-medium text-purple-700",children:i("manageProducts")}),d.jsx("p",{className:"text-sm text-purple-600",children:i("editInventory")})]}),d.jsxs("button",{onClick:()=>p("add-post"),className:"p-4 border-2 border-dashed border-indigo-300 rounded-lg hover:border-indigo-400 hover:bg-indigo-50 transition-all duration-200 text-center group",children:[d.jsx(V,{className:"h-8 w-8 text-indigo-500 mx-auto mb-2 group-hover:scale-110 transition-transform"}),d.jsx("p",{className:"font-medium text-indigo-700",children:i("addPost")}),d.jsx("p",{className:"text-sm text-indigo-600",children:i("createNewPost")})]}),d.jsxs("button",{onClick:()=>p("posts"),className:"p-4 border-2 border-dashed border-green-300 rounded-lg hover:border-green-400 hover:bg-green-50 transition-all duration-200 text-center group",children:[d.jsx(V,{className:"h-8 w-8 text-green-500 mx-auto mb-2 group-hover:scale-110 transition-transform"}),d.jsx("p",{className:"font-medium text-green-700",children:i("managePosts")}),d.jsx("p",{className:"text-sm text-green-600",children:i("editPosts")})]})]})]})]})}})()})]})]})},da=({children:e,redirectTo:t="/login"})=>{const{user:a,isAuthenticated:s,isLoading:r,checkAuthStatus:i}=Tt(),n=H();return W.useEffect(()=>{i()},[i]),r?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-white to-emerald-50 flex items-center justify-center",children:d.jsxs(u.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-teal-600 border-t-transparent mx-auto mb-6"}),d.jsx(u.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"text-gray-700 text-lg font-medium",children:"Verifying authentication..."}),d.jsx(u.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-gray-500 text-sm mt-2",children:"Please wait while we check your credentials"})]})}):s&&a?d.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e}):(sessionStorage.setItem("redirectAfterLogin",n.pathname),d.jsx(J,{to:t,replace:!0,state:{from:n}}))},ua=()=>{const{isRTL:e}=xt();return d.jsx("div",{className:" z-50 hidden md:block bg-gradient-to-r from-teal-600 to-teal-700 text-white",children:d.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-10 text-xs sm:text-sm",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("a",{href:"mailto:info@dorarmed.com",className:"flex items-center hover:text-teal-100 transition-colors",children:[d.jsx(w,{className:"h-4 w-4 "+(e?"ml-2":"mr-2")}),d.jsx("span",{children:"info@dorarmed.com"})]}),d.jsxs("a",{href:"tel:+971556707773",className:"hidden md:flex items-center hover:text-teal-100 transition-colors "+(e?"mr-6":"ml-6"),children:[d.jsx(h,{className:"h-4 w-4 "+(e?"ml-2":"mr-2")}),d.jsx("span",{dir:"ltr",children:"+971 55 670 7773"})]})]}),d.jsxs("div",{className:"hidden sm:flex items-center",children:[d.jsx(Q,{className:"h-4 w-4 "+(e?"ml-2":"mr-2")}),d.jsx("span",{className:"truncate",children:"Dubai Healthcare City, Building 40, Office 503"})]})]})})})};de.use(ue).init({resources:{en:{translation:{home:"Home",products:"Products",blog:"Blog",about:"About",favorites:"Favorites",contact:"Contact",medEquipPro:"Dorar",medicalEquipmentSolutions:"Medical Equipment Solutions",selectCategory:"Select Category",viewProducts:"View products",subcategories:"Subcategories",viewAllProducts:"View All Products",noCategoriesAvailable:"No categories available",language:"Language",english:"English",arabic:"العربية",details:"Details",addOrder:"Add Order",contactSales:"Contact Sales",professionalMedicalEquipment:"Professional Medical Equipment",uncategorized:"Uncategorized",more:"more",rating:"Rating",close:"Close",search:"Search",filter:"Filter",sort:"Sort",view:"View",inStock:"In Stock",outOfStock:"Out of Stock",loading:"Loading...",error:"Error",success:"Success",getInTouch:"Get in Touch",sendMessage:"Send Message",name:"Name",email:"Email",message:"Message",phone:"Phone",subject:"Subject",readyToUpgrade:"Ready to upgrade your medical facility? Contact our experts for personalized equipment recommendations and competitive pricing.",emailUs:"Email Us",callUs:"Call Us",visitUs:"Visit Us",sendUsQuestions:"Send us your questions anytime",supportHotline:"24/7 support hotline",sendUsMessage:"Send Us a Message",messageSentSuccessfully:"Message Sent Successfully!",thankYouContacting:"Thank you for contacting us. We'll get back to you within 24 hours.",fullName:"Full Name",emailAddress:"Email Address",phoneNumber:"Phone Number",product:"Product",selectProductOptional:"Select a product (optional)",quantity:"Quantity",tellUsAboutNeeds:"Tell us about your medical equipment needs...",includeDeliveryInfo:"Include delivery location, timeline, and any specs.",sending:"Sending...",failedToSendMessage:"Failed to send message. Please try again or contact us directly.",orderSummary:"Order Summary",noProductSelected:"No product selected",ourLocation:"Our Location",medEquipProHeadquarters:"Dorar Medical Equipment",medicalDistrictNewYork:"Dubai Healthcare City, Building 40, Office 503, P.O Box: 29968 RAK",businessHours:"Business Hours",mondayFriday:"Monday - Friday: 8:00 AM - 6:00 PM",emergencySupport:"Emergency Support",available247:"Available 24/7 for urgent issues",phoneNumberValue:"+971 55 670 7773",phoneNumberPlaceholder:"+971 55 670 7773",aboutUs:"About Us",aboutUsDescription:"We are dedicated to delivering advanced, reliable medical equipment and integrated solutions that empower clinicians and improve patient outcomes. Our commitment to quality, safety, and innovation drives everything we do.",ourStory:"Our Story",ourMission:"Our Mission",ourVision:"Our Vision",ourValues:"Values",missionDescription:"Delivering state-of-the-art medical devices with uncompromising quality and support.",visionDescription:"Empowering healthcare systems through innovation and accessible technology.",valuesDescription:"Integrity, safety, collaboration, and continuous improvement.",readMore:"Read More",share:"Share",author:"Author",date:"Date",category:"Category",dashboard:"Dashboard",addProduct:"Add Product",manageProducts:"Manage Products",editProduct:"Edit Product",deleteProduct:"Delete Product",manageCategories:"Manage Categories",manageCategoriesDescription:"View, edit, and delete your product categories",addNewCategory:"Add New Category",categoryName:"Category Name",description:"Description",addCategory:"Add Category",created:"Created",actions:"Actions",viewCategory:"View Category",editCategory:"Edit Category",deleteCategory:"Delete Category",noDescription:"No description",noCategoriesFound:"No categories found",tryAdjustingSearch:"Try adjusting your search terms.",createFirstCategory:"Get started by creating your first category.",searchCategoriesPlaceholder:"Search categories by name or description...",updateCategory:"Update Category",manageSubCategories:"Manage SubCategories",manageSubcategoriesDescription:"Organize subcategories under their parent categories",categoriesAndSubcategories:"Categories & Subcategories",addSubcategory:"Add Subcategory",noSubcategoriesYet:'No subcategories yet. Click "Add Subcategory" to create one.',createSubcategory:"Create Subcategory",editSubcategory:"Edit Subcategory",parentCategory:"Parent Category",selectParentCategory:"Select a parent category",subcategoryName:"Subcategory Name",enterSubcategoryName:"Enter subcategory name",enterSubcategoryDescription:"Enter subcategory description",saving:"Saving...",updated:"Updated successfully",added:"Added successfully",failedToSave:"Failed to save subcategory",confirmDeleteSubcategory:"Are you sure you want to delete this subcategory?",addPost:"Add Post",managePosts:"Manage Posts",settings:"Settings",logout:"Logout",login:"Login",register:"Register",advancedMedicalEquipment:"Your Step Towards",equipment:"A Healthier Future",forHealthcareExcellence:"with Dorar Medical Equipment",heroDescription:"Since 2008, we have been committed to elevating healthcare standards across the region, providing advanced medical solutions you can trust. From specialized dermatology devices to complete operating room equipment and advanced medical gas systems.",exploreProducts:"Explore Products",contactUs:"Contact Us",yearsExperience:"Years Experience",medicalDevices:"Medical Devices",healthcareClients:"Healthcare Clients",currency:"AED",currencySymbol:"د.إ",meetOurCEO:"Meet Our Co-Founder",ceoName:"Eng. Mohamed Medhat",ceoDescription1:"Dorar Medical was founded in 2008 with a mission to elevate healthcare standards in the UAE and the GCC.",ceoDescription2:"Initially a specialized medical equipment supplier, the company has grown into a leading provider of integrated healthcare solutions. Based in Ras Al Khaimah with an operational hub in Dubai, Dorar Medical supports hospitals and medical centers from concept to full operation, delivering modern, turnkey healthcare facilities.",deputyCEO:"Co-Founder",chiefOperationsOfficer:"Chief Operations Officer",ourTeam:"Our Team",meetOurExpertTeam:"Meet Our Expert Team",teamDescription:"Our diverse team of medical professionals, engineers, and healthcare experts work together to deliver innovative solutions and exceptional service to healthcare facilities worldwide.",specialties:"Specialties",keyAchievements:"Key Achievements",connectOnLinkedIn:"Connect on LinkedIn",joinOurTeam:"Join Our Team",joinTeamDescription:"We're always looking for talented individuals who share our passion for improving healthcare through innovative medical equipment solutions.",viewCareers:"View Careers",teamQuote:'"Excellence in healthcare technology is not just our goal, it\'s our commitment to saving lives."',innovationTeam:"Innovation Team",whyChooseMedEquipPro:"Why Choose Dorar?",whyChooseDescription:"We're committed to delivering exceptional medical equipment solutions that enhance healthcare delivery and improve patient outcomes worldwide.",cuttingEdgeTechnology:"Cutting-Edge Technology",cuttingEdgeDescription:"Latest innovations in medical equipment with AI-powered diagnostics and smart connectivity.",fdaCertified:"FDA Certified",fdaDescription:"All our products meet the highest safety and quality standards with full regulatory compliance.",support247:"24/7 Support",supportDescription:"Round-the-clock technical support and maintenance services to keep your equipment running smoothly.",certifiedProducts:"Certified Products",countriesServed:"Countries Served",happyClients:"Happy Clients",readyToTransform:"Ready to Transform Your Healthcare Facility?",transformDescription:"Get in touch with our experts to find the perfect medical equipment solutions for your needs.",since2008:"Since 2008",weRiseInCare:'"We rise in care...',toMakeAnImpact:'to make an impact."',drivenByOneGoal:'"we\'ve been driven by one goal to elevate healthcare standards in the UAE and the GCC region"',getFreeConsultation:"Get Free Consultation",leadingProvider:"Leading provider of advanced medical equipment solutions, empowering healthcare professionals worldwide with cutting-edge technology.",stayConnected:"Stay Connected",newsletterDescription:"Subscribe to our newsletter for the latest updates on medical equipment and healthcare innovations.",enterYourEmail:"Enter your email",allRightsReserved:"© 2024 Dorar. All rights reserved.",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",cookiePolicy:"Cookie Policy",connectingHealthcare:"Connecting healthcare professionals worldwide",premiumMedicalEquipment:"Premium Medical Equipment",featured:"Featured",featuredProductsDescription:"Discover our cutting-edge medical devices designed to enhance patient care and improve healthcare outcomes with innovative technology.",learnMore:"Learn More",requestDemo:"Request Demo",ourProducts:"Our",productsDescription:"Discover our comprehensive range of cutting-edge medical equipment designed to enhance patient care and improve healthcare outcomes.",searchProducts:"Search products...",sortByName:"Sort by Name",sortByPriceLow:"Price: Low to High",sortByPriceHigh:"Price: High to Low",sortByRating:"Sort by Rating",grid:"Grid",list:"List",loadingProducts:"Loading products from API...",errorLoadingProducts:"Error Loading Products",failedToLoadProducts:"Failed to load products from the API",retry:"Retry",noProductsFound:"No Products Found",clearFilters:"Clear Filters",ourMedical:"Our Medical",blogDescription:"Discover insights, tips, and the latest updates from our team of medical equipment experts",featuredArticles:"Featured Articles",latestArticles:"Latest Articles",searchPosts:"Search Posts",searchPostsPlaceholder:"Search posts...",categories:"Categories",allCategories:"All Categories",sortBy:"Sort By",newestFirst:"Newest First",oldestFirst:"Oldest First",mostViewed:"Most Viewed",mostLiked:"Most Liked",postsFound:"posts found",readArticle:"Read Article",previous:"Previous",next:"Next",noValidPostsFound:"No valid posts found",noValidPostsDescription:"The available posts contain invalid or placeholder content. Please contact an administrator to add proper blog posts.",note:"Note",postsFilteredOut:"posts were found but filtered out due to poor content quality.",stayUpdated:"Stay Updated with Medical Innovation",stayUpdatedDescription:"Subscribe to our newsletter for the latest insights on medical equipment and healthcare technology.",subscribe:"Subscribe",backToBlog:"Back to Blog",postNotFound:"Post Not Found",postNotFoundDescription:"The post you're looking for doesn't exist or has been removed.",aboutTheAuthor:"About the Author",minRead:"min read",views:"views",likes:"likes",like:"Like",liked:"Liked",lastUpdated:"Last updated",welcomeBack:"Welcome back",overviewDescription:"Here's an overview of your medical equipment business.",totalCategories:"Total Categories",activeCategories:"Active Categories",totalPosts:"Total Posts",publishedPosts:"Published Posts",featuredPosts:"Featured Posts",totalValue:"Total Value",avgRating:"Avg Rating",recentCategories:"Recent Categories",recentPosts:"Recent Posts",quickActions:"Quick Actions",createNewProduct:"Create a new product listing",organizeCategories:"Organize your product categories",editInventory:"Edit and organize your inventory",createNewPost:"Create a new blog post",editPosts:"Edit and organize your blog posts",productName:"Product Name",price:"Price",subcategory:"Subcategory",images:"Images",reviews:"Reviews",features:"Features",specifications:"Specifications",stockQuantity:"Stock Quantity",shipping:"Shipping",warranty:"Warranty",certifications:"Certifications",enterProductName:"Enter product name",enterPrice:"Enter price",selectSubcategory:"Select subcategory",enterSpecifications:"Enter product specifications",enterShipping:"Enter shipping information",enterWarranty:"Enter warranty information",addFeature:"Add Feature",addCertification:"Add Certification",remove:"Remove",saveProduct:"Save Product",enterTitle:"Enter post title",enterAuthorName:"Enter author name",enterAuthorEmail:"Enter author email",enterPostImage:"Enter post image URL",enterContent:"Write your post content here...",enterTag:"Enter tag",addTag:"Add Tag",createPost:"Create Post",draft:"Draft",published:"Published",minimumCharacters:"Minimum 10 characters required. Current:",noProductsYet:"No products yet. Add your first product to get started!",noCategoriesYet:"No categories yet. Create your first category to organize products!",noPostsYet:"No posts yet. Create your first blog post to get started!",active:"Active",empty:"Empty",medicalEqPro:"MedicalEq Pro",confirmDeleteCategory:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',privacyPolicySubtitle:"Your privacy and data protection are our top priorities. Learn how we collect, use, and protect your information.",lastUpdatedDate:"December 2024",introduction:"Introduction",introductionContent:"At Dorar Medical Equipment, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our services.",introductionContent2:"By using our website and services, you consent to the data practices described in this policy. We encourage you to read this Privacy Policy carefully to understand our practices regarding your personal information.",informationCollection:"Information We Collect",informationCollectionContent:"We collect information you provide directly to us, such as when you create an account, make a purchase, contact us, or subscribe to our newsletter. This may include your name, email address, phone number, billing address, and payment information. We also automatically collect certain information about your device and usage patterns when you visit our website.",dataUsage:"How We Use Your Information",dataUsageContent:"We use the information we collect to provide, maintain, and improve our services, process transactions, communicate with you, and personalize your experience. We may also use your information for marketing purposes, customer support, and to comply with legal obligations.",dataProtection:"Data Protection and Security",dataProtectionContent:"We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. We use industry-standard encryption and secure servers to safeguard your data.",dataSharing:"Information Sharing",dataSharingContent:"We do not sell, trade, or otherwise transfer your personal information to third parties without your consent, except as described in this policy. We may share your information with trusted service providers who assist us in operating our website and conducting our business.",cookies:"Cookies and Tracking Technologies",cookiesContent:"We use cookies and similar tracking technologies to enhance your browsing experience, analyze website traffic, and personalize content. You can control cookie settings through your browser preferences, though disabling cookies may affect website functionality.",yourRights:"Your Rights and Choices",yourRightsContent:"You have the right to access, update, or delete your personal information. You may also opt out of marketing communications at any time. To exercise these rights or for any privacy-related questions, please contact us using the information provided below.",policyUpdates:"Policy Updates",policyUpdatesContent:'We may update this Privacy Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by posting the updated policy on our website and updating the "Last Updated" date.',privacyContactDescription:"If you have any questions about this Privacy Policy or our data practices, please don't hesitate to contact us. We are here to help and ensure your privacy concerns are addressed promptly.",whatOurClientsSay:"What Our Clients Say",testimonialsDescription:"Discover why healthcare professionals across the region trust Dorar Medical for their equipment needs. Read testimonials from our satisfied clients.",autoPlayOn:"Auto-play On",autoPlayOff:"Auto-play Off"}},ar:{translation:{home:"الرئيسية",products:"المنتجات",blog:"المدونة",about:"من نحن",favorites:"المفضلة",contact:"اتصل بنا",medEquipPro:"دورر",medicalEquipmentSolutions:"حلول المعدات الطبية",selectCategory:"اختر الفئة",viewProducts:"عرض المنتجات",subcategories:"الفئات الفرعية",viewAllProducts:"عرض جميع المنتجات",noCategoriesAvailable:"لا توجد فئات متاحة",language:"اللغة",english:"English",arabic:"العربية",switchToArabic:"العربية",switchToEnglish:"English",details:"التفاصيل",addOrder:"إضافة طلب",contactSales:"تواصل مع المبيعات",professionalMedicalEquipment:"معدات طبية احترافية",uncategorized:"غير مصنف",more:"المزيد",rating:"التقييم",close:"إغلاق",search:"بحث",filter:"تصفية",sort:"ترتيب",view:"عرض",inStock:"متوفر",outOfStock:"غير متوفر",loading:"جاري التحميل...",error:"خطأ",success:"نجح",getInTouch:"تواصل معنا",sendMessage:"إرسال رسالة",name:"الاسم",email:"البريد الإلكتروني",message:"الرسالة",phone:"الهاتف",subject:"الموضوع",readyToUpgrade:"هل أنت مستعد لترقية منشأة الرعاية الصحية الخاصة بك؟ تواصل مع خبرائنا للحصول على توصيات معدات مخصصة وأسعار تنافسية.",emailUs:"راسلنا عبر البريد الإلكتروني",callUs:"اتصل بنا",visitUs:"زرنا",sendUsQuestions:"أرسل لنا أسئلتك في أي وقت",supportHotline:"خط دعم على مدار الساعة",sendUsMessage:"أرسل لنا رسالة",messageSentSuccessfully:"تم إرسال الرسالة بنجاح!",thankYouContacting:"شكراً لك على التواصل معنا. سنرد عليك خلال 24 ساعة.",fullName:"الاسم الكامل",emailAddress:"عنوان البريد الإلكتروني",phoneNumber:"رقم الهاتف",product:"المنتج",selectProductOptional:"اختر منتجاً (اختياري)",quantity:"الكمية",tellUsAboutNeeds:"أخبرنا عن احتياجاتك من المعدات الطبية...",includeDeliveryInfo:"تضمين موقع التسليم والجدول الزمني والمواصفات.",sending:"جاري الإرسال...",failedToSendMessage:"فشل في إرسال الرسالة. يرجى المحاولة مرة أخرى أو التواصل معنا مباشرة.",orderSummary:"ملخص الطلب",noProductSelected:"لم يتم اختيار منتج",ourLocation:"موقعنا",medEquipProHeadquarters:"درر للمعدات الطبية",medicalDistrictNewYork:"مدينة دبي الطبية، المبنى 40، المكتب 503، ص.ب: 29968 رأس الخيمة",businessHours:"ساعات العمل",mondayFriday:"الاثنين - الجمعة: 8:00 صباحاً - 6:00 مساءً",emergencySupport:"الدعم الطارئ",available247:"متاح على مدار الساعة للمشاكل العاجلة",phoneNumberValue:"+971 55 670 7773",phoneNumberPlaceholder:"+971 55 670 7773",aboutUs:"من نحن",aboutUsDescription:"نحن متخصصون في تقديم معدات طبية متقدمة وموثوقة وحلول متكاملة تمكّن الأطباء وتحسن نتائج المرضى. التزامنا بالجودة والسلامة والابتكار يدفع كل ما نقوم به.",ourStory:"قصتنا",ourMission:"مهمتنا",ourVision:"رؤيتنا",ourValues:"قيمنا",missionDescription:"تقديم أجهزة طبية متطورة بجودة ودعم لا يتزعزع.",visionDescription:"تمكين أنظمة الرعاية الصحية من خلال الابتكار والتكنولوجيا المتاحة.",valuesDescription:"النزاهة والسلامة والتعاون والتحسين المستمر.",readMore:"اقرأ المزيد",share:"مشاركة",author:"الكاتب",date:"التاريخ",category:"الفئة",dashboard:"لوحة التحكم",addProduct:"إضافة منتج",manageProducts:"إدارة المنتجات",editProduct:"تعديل المنتج",deleteProduct:"حذف المنتج",manageCategories:"إدارة الفئات",manageCategoriesDescription:"عرض وتحرير وحذف فئات المنتجات الخاصة بك",addNewCategory:"إضافة فئة جديدة",categoryName:"اسم الفئة",description:"الوصف",addCategory:"إضافة فئة",created:"تاريخ الإنشاء",actions:"الإجراءات",viewCategory:"عرض الفئة",editCategory:"تعديل الفئة",deleteCategory:"حذف الفئة",noDescription:"لا يوجد وصف",noCategoriesFound:"لا توجد فئات",tryAdjustingSearch:"حاول تعديل كلمات البحث.",createFirstCategory:"ابدأ بإنشاء أول فئة.",searchCategoriesPlaceholder:"ابحث في الفئات بالاسم أو الوصف...",updateCategory:"تحديث الفئة",manageSubCategories:"إدارة الفئات الفرعية",manageSubcategoriesDescription:"تنظيم الفئات الفرعية تحت الفئات الرئيسية",categoriesAndSubcategories:"الفئات والفئات الفرعية",addSubcategory:"إضافة فئة فرعية",noSubcategoriesYet:'لا توجد فئات فرعية بعد. اضغط "إضافة فئة فرعية" لإنشاء واحدة.',createSubcategory:"إنشاء فئة فرعية",editSubcategory:"تعديل الفئة الفرعية",parentCategory:"الفئة الرئيسية",selectParentCategory:"اختر فئة رئيسية",subcategoryName:"اسم الفئة الفرعية",enterSubcategoryName:"أدخل اسم الفئة الفرعية",enterSubcategoryDescription:"أدخل وصف الفئة الفرعية",saving:"جاري الحفظ...",updated:"تم التحديث بنجاح",added:"تمت الإضافة بنجاح",failedToSave:"فشل حفظ الفئة الفرعية",confirmDeleteSubcategory:"هل أنت متأكد أنك تريد حذف هذه الفئة الفرعية؟",addPost:"إضافة مقال",managePosts:"إدارة المقالات",settings:"الإعدادات",logout:"تسجيل الخروج",login:"تسجيل الدخول",register:"التسجيل",advancedMedicalEquipment:"خطوة نحو مستقبل",equipment:"صحي أفضل",forHealthcareExcellence:"مع درر للمعدات الطبية",heroDescription:"منذ عام 2008، ونحن ملتزمون بالارتقاء بمعايير الرعاية الصحية في جميع أنحاء المنطقة، مقدمين حلولاً طبية متطورة يمكنك الوثوق بها. من أجهزة الأمراض الجلدية المتخصصة إلى تجهيزات غرف العمليات الكاملة وأنظمة الغازات الطبية المتقدمة.",exploreProducts:"استكشف المنتجات",contactUs:"اتصل بنا",yearsExperience:"سنوات الخبرة",medicalDevices:"الأجهزة الطبية",healthcareClients:"عملاء الرعاية الصحية",currency:"درهم إماراتي",currencySymbol:"د.إ",meetOurCEO:"تعرف على الشريك المؤسس",ceoName:"م. محمد مدحت",ceoDescription1:"تأسست درر الطبية في عام 2008 بمهمة رفع معايير الرعاية الصحية في دولة الإمارات العربية المتحدة ودول مجلس التعاون الخليجي.",ceoDescription2:"بدأت كمورد متخصص للمعدات الطبية، ونمت الشركة لتصبح مزود رائد للحلول الصحية المتكاملة. مقرها في رأس الخيمة مع مركز عمليات في دبي، تدعم درر الطبية المستشفيات والمراكز الطبية من المفهوم إلى التشغيل الكامل، وتقدم مرافق صحية حديثة ومتكاملة.",deputyCEO:"الشريك المؤسس",chiefOperationsOfficer:"مدير العمليات",ourTeam:"فريقنا",meetOurExpertTeam:"تعرف على فريق الخبراء لدينا",teamDescription:"فريقنا المتنوع من المتخصصين الطبيين والمهندسين وخبراء الرعاية الصحية يعملون معاً لتقديم حلول مبتكرة وخدمة استثنائية للمنشآت الصحية في جميع أنحاء العالم.",specialties:"التخصصات",keyAchievements:"الإنجازات الرئيسية",connectOnLinkedIn:"تواصل على لينكد إن",joinOurTeam:"انضم إلى فريقنا",joinTeamDescription:"نبحث دائماً عن الأفراد الموهوبين الذين يشاركوننا شغفنا لتحسين الرعاية الصحية من خلال حلول المعدات الطبية المبتكرة.",viewCareers:"عرض الوظائف",teamQuote:'"التميز في التكنولوجيا الصحية ليس مجرد هدفنا، بل التزامنا بإنقاذ الأرواح."',innovationTeam:"فريق الابتكار",whyChooseMedEquipPro:"لماذا تختار دورر؟",whyChooseDescription:"نحن ملتزمون بتقديم حلول استثنائية للمعدات الطبية تعزز تقديم الرعاية الصحية وتحسن نتائج المرضى في جميع أنحاء العالم.",cuttingEdgeTechnology:"التكنولوجيا المتطورة",cuttingEdgeDescription:"أحدث الابتكارات في المعدات الطبية مع التشخيص المدعوم بالذكاء الاصطناعي والاتصال الذكي.",fdaCertified:"معتمد من إدارة الغذاء والدواء",fdaDescription:"جميع منتجاتنا تلبي أعلى معايير السلامة والجودة مع الامتثال التنظيمي الكامل.",support247:"الدعم على مدار الساعة",supportDescription:"خدمات الدعم الفني والصيانة على مدار الساعة لإبقاء معداتك تعمل بسلاسة.",certifiedProducts:"المنتجات المعتمدة",countriesServed:"البلدان المخدمة",happyClients:"العملاء السعداء",readyToTransform:"هل أنت مستعد لتحويل منشأة الرعاية الصحية الخاصة بك؟",transformDescription:"تواصل مع خبرائنا للعثور على حلول المعدات الطبية المثالية لاحتياجاتك.",since2008:"منذ عام 2008",weRiseInCare:'"نحن نرتقي في الرعاية...',toMakeAnImpact:'لإحداث تأثير."',drivenByOneGoal:'"لقد كنا مدفوعين بهدف واحد وهو رفع معايير الرعاية الصحية في دولة الإمارات العربية المتحدة ومنطقة دول مجلس التعاون الخليجي"',getFreeConsultation:"احصل على استشارة مجانية",leadingProvider:"المزود الرائد لحلول المعدات الطبية المتقدمة، تمكين المتخصصين في الرعاية الصحية في جميع أنحاء العالم بأحدث التقنيات.",stayConnected:"ابق على اتصال",newsletterDescription:"اشترك في نشرتنا الإخبارية للحصول على أحدث التحديثات حول المعدات الطبية وابتكارات الرعاية الصحية.",enterYourEmail:"أدخل بريدك الإلكتروني",allRightsReserved:"© 2024 دورر. جميع الحقوق محفوظة.",privacyPolicy:"سياسة الخصوصية",termsOfService:"شروط الخدمة",cookiePolicy:"سياسة ملفات تعريف الارتباط",connectingHealthcare:"ربط المتخصصين في الرعاية الصحية في جميع أنحاء العالم",premiumMedicalEquipment:"معدات طبية فاخرة",featured:"منتجاتنا المميزة",featuredProductsDescription:"اكتشف أجهزتنا الطبية المتطورة المصممة لتعزيز رعاية المرضى وتحسين نتائج الرعاية الصحية بالتكنولوجيا المبتكرة.",learnMore:"اعرف المزيد",requestDemo:"طلب عرض توضيحي",ourProducts:"منتجاتنا",productsDescription:"اكتشف مجموعتنا الشاملة من المعدات الطبية المتطورة المصممة لتعزيز رعاية المرضى وتحسين نتائج الرعاية الصحية.",searchProducts:"البحث في المنتجات...",sortByName:"ترتيب حسب الاسم",sortByPriceLow:"السعر: من الأقل إلى الأعلى",sortByPriceHigh:"السعر: من الأعلى إلى الأقل",sortByRating:"ترتيب حسب التقييم",grid:"شبكة",list:"قائمة",loadingProducts:"جاري تحميل المنتجات من API...",errorLoadingProducts:"خطأ في تحميل المنتجات",failedToLoadProducts:"فشل في تحميل المنتجات من API",retry:"إعادة المحاولة",noProductsFound:"لم يتم العثور على منتجات",clearFilters:"مسح المرشحات",ourMedical:"مدونتنا الطبية",blogDescription:"اكتشف الرؤى والنصائح وأحدث التحديثات من فريق خبراء المعدات الطبية لدينا",featuredArticles:"المقالات المميزة",latestArticles:"أحدث المقالات",searchPosts:"البحث في المقالات",searchPostsPlaceholder:"البحث في المقالات...",categories:"الفئات",allCategories:"جميع الفئات",sortBy:"ترتيب حسب",newestFirst:"الأحدث أولاً",oldestFirst:"الأقدم أولاً",mostViewed:"الأكثر مشاهدة",mostLiked:"الأكثر إعجاباً",postsFound:"مقالات تم العثور عليها",readArticle:"اقرأ المقال",previous:"السابق",next:"التالي",noValidPostsFound:"لم يتم العثور على مقالات صالحة",noValidPostsDescription:"المقالات المتاحة تحتوي على محتوى غير صالح أو مؤقت. يرجى التواصل مع المسؤول لإضافة مقالات مدونة مناسبة.",note:"ملاحظة",postsFilteredOut:"مقالات تم العثور عليها ولكن تم تصفيتها بسبب جودة المحتوى الرديئة.",stayUpdated:"ابق على اطلاع بالابتكار الطبي",stayUpdatedDescription:"اشترك في نشرتنا الإخبارية للحصول على أحدث الرؤى حول المعدات الطبية وتكنولوجيا الرعاية الصحية.",subscribe:"اشتراك",backToBlog:"العودة إلى المدونة",postNotFound:"المقال غير موجود",postNotFoundDescription:"المقال الذي تبحث عنه غير موجود أو تم حذفه.",aboutTheAuthor:"عن الكاتب",minRead:"دقائق للقراءة",views:"مشاهدات",likes:"إعجابات",like:"إعجاب",liked:"أعجبني",lastUpdated:"آخر تحديث",welcomeBack:"مرحباً بعودتك",overviewDescription:"إليك نظرة عامة على أعمال المعدات الطبية الخاصة بك.",totalCategories:"إجمالي الفئات",activeCategories:"الفئات النشطة",totalPosts:"إجمالي المقالات",publishedPosts:"المقالات المنشورة",featuredPosts:"المقالات المميزة",totalValue:"القيمة الإجمالية",avgRating:"متوسط التقييم",recentCategories:"الفئات الحديثة",recentPosts:"المقالات الحديثة",quickActions:"الإجراءات السريعة",createNewProduct:"إنشاء قائمة منتج جديد",organizeCategories:"تنظيم فئات المنتجات الخاصة بك",editInventory:"تحرير وتنظيم المخزون",createNewPost:"إنشاء مقال مدونة جديد",editPosts:"تحرير وتنظيم مقالات المدونة",productName:"اسم المنتج",price:"السعر",subcategory:"الفئة الفرعية",images:"الصور",reviews:"التقييمات",features:"المميزات",specifications:"المواصفات",stockQuantity:"كمية المخزون",shipping:"الشحن",warranty:"الضمان",certifications:"الشهادات",enterProductName:"أدخل اسم المنتج",enterPrice:"أدخل السعر",selectSubcategory:"اختر الفئة الفرعية",enterSpecifications:"أدخل مواصفات المنتج",enterShipping:"أدخل معلومات الشحن",enterWarranty:"أدخل معلومات الضمان",addFeature:"إضافة ميزة",addCertification:"إضافة شهادة",remove:"إزالة",saveProduct:"حفظ المنتج",enterTitle:"Enter post title",enterAuthorName:"Enter author name",enterAuthorEmail:"Enter author email",enterPostImage:"Enter post image URL",enterContent:"Write your post content here...",enterTag:"Enter tag",addTag:"Add Tag",createPost:"Create Post",draft:"Draft",published:"Published",minimumCharacters:"Minimum 10 characters required. Current:",noProductsYet:"No products yet. Add your first product to get started!",noCategoriesYet:"No categories yet. Create your first category to organize products!",noPostsYet:"No posts yet. Create your first blog post to get started!",active:"Active",empty:"Empty",medicalEqPro:"MedicalEq Pro",confirmDeleteCategory:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',privacyPolicySubtitle:"خصوصيتك وحماية بياناتك هي أولوياتنا القصوى. تعرف على كيفية جمعنا واستخدامنا وحماية معلوماتك.",lastUpdatedDate:"ديسمبر 2024",introduction:"مقدمة",introductionContent:"في درر للمعدات الطبية، نحن ملتزمون بحماية خصوصيتك وضمان أمان معلوماتك الشخصية. تشرح سياسة الخصوصية هذه كيفية جمعنا واستخدامنا والكشف عن معلوماتك وحمايتها عند زيارة موقعنا الإلكتروني أو استخدام خدماتنا.",introductionContent2:"باستخدام موقعنا الإلكتروني وخدماتنا، فإنك توافق على ممارسات البيانات الموضحة في هذه السياسة. نشجعك على قراءة سياسة الخصوصية هذه بعناية لفهم ممارساتنا المتعلقة بمعلوماتك الشخصية.",informationCollection:"المعلومات التي نجمعها",informationCollectionContent:"نجمع المعلومات التي تقدمها لنا مباشرة، مثل عند إنشاء حساب أو إجراء عملية شراء أو التواصل معنا أو الاشتراك في نشرتنا الإخبارية. قد يشمل ذلك اسمك وعنوان بريدك الإلكتروني ورقم هاتفك وعنوان الفواتير ومعلومات الدفع. نجمع أيضاً تلقائياً معلومات معينة حول جهازك وأنماط الاستخدام عند زيارة موقعنا الإلكتروني.",dataUsage:"كيف نستخدم معلوماتك",dataUsageContent:"نستخدم المعلومات التي نجمعها لتقديم خدماتنا وصيانتها وتحسينها ومعالجة المعاملات والتواصل معك وتخصيص تجربتك. قد نستخدم أيضاً معلوماتك لأغراض التسويق ودعم العملاء والامتثال للالتزامات القانونية.",dataProtection:"حماية البيانات والأمان",dataProtectionContent:"نطبق تدابير أمنية تقنية وتنظيمية مناسبة لحماية معلوماتك الشخصية من الوصول غير المصرح به أو التغيير أو الكشف أو التدمير. نستخدم التشفير والخوادم الآمنة المعيارية في الصناعة لحماية بياناتك.",dataSharing:"مشاركة المعلومات",dataSharingContent:"نحن لا نبيع أو نتاجر أو ننقل معلوماتك الشخصية إلى أطراف ثالثة دون موافقتك، باستثناء ما هو موضح في هذه السياسة. قد نشارك معلوماتك مع مقدمي الخدمات الموثوقين الذين يساعدوننا في تشغيل موقعنا الإلكتروني وإدارة أعمالنا.",cookies:"ملفات تعريف الارتباط وتقنيات التتبع",cookiesContent:"نستخدم ملفات تعريف الارتباط وتقنيات التتبع المماثلة لتحسين تجربة التصفح الخاصة بك وتحليل حركة المرور على الموقع وتخصيص المحتوى. يمكنك التحكم في إعدادات ملفات تعريف الارتباط من خلال تفضيلات المتصفح، على الرغم من أن تعطيل ملفات تعريف الارتباط قد يؤثر على وظائف الموقع.",yourRights:"حقوقك وخياراتك",yourRightsContent:"لديك الحق في الوصول إلى معلوماتك الشخصية أو تحديثها أو حذفها. يمكنك أيضاً إلغاء الاشتراك في الاتصالات التسويقية في أي وقت. لممارسة هذه الحقوق أو لأي أسئلة متعلقة بالخصوصية، يرجى التواصل معنا باستخدام المعلومات المقدمة أدناه.",policyUpdates:"تحديثات السياسة",policyUpdatesContent:'قد نحدث سياسة الخصوصية هذه من وقت لآخر لتعكس التغييرات في ممارساتنا أو لأسباب تشغيلية أو قانونية أو تنظيمية أخرى. سنخطرك بأي تغييرات جوهرية عن طريق نشر السياسة المحدثة على موقعنا الإلكتروني وتحديث تاريخ "آخر تحديث".',privacyContactDescription:"إذا كان لديك أي أسئلة حول سياسة الخصوصية هذه أو ممارسات البيانات الخاصة بنا، فلا تتردد في التواصل معنا. نحن هنا للمساعدة وضمان معالجة مخاوفك المتعلقة بالخصوصية على الفور.",whatOurClientsSay:"ماذا يقول عملاؤنا",testimonialsDescription:"اكتشف لماذا يثق المتخصصون في الرعاية الصحية في جميع أنحاء المنطقة في درر الطبية لتلبية احتياجاتهم من المعدات. اقرأ شهادات عملائنا الراضين.",autoPlayOn:"التشغيل التلقائي مفعل",autoPlayOff:"التشغيل التلقائي معطل"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});const ma=W.lazy(()=>he(()=>import("./Home-CQ0Vdn2_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),pa=W.lazy(()=>he(()=>import("./About-CGIAv4cX.js"),__vite__mapDeps([8,1,2,3,5,4,7]))),ga=W.lazy(()=>he(()=>import("./Blog-Ct6lWZUE.js"),__vite__mapDeps([9,1,2,3,4,7]))),xa=W.lazy(()=>he(()=>import("./BlogDetail-DhTuukhd.js"),__vite__mapDeps([10,1,2,3,4,7]))),ha=W.lazy(()=>he(()=>import("./Contact-Cd0zmEkW.js"),__vite__mapDeps([6,1,2,3,4,7]))),ya=W.lazy(()=>he(()=>import("./Favorites-p68oRsO0.js"),__vite__mapDeps([11,1,2,3,12,7,4]))),ba=W.lazy(()=>he(()=>import("./ProductsPage-CUFL-aR2.js"),__vite__mapDeps([13,1,2,3,12,4,7]))),fa=W.lazy(()=>he(()=>import("./ProductDetail-94npvh47.js"),__vite__mapDeps([14,1,2,3,4,7]))),va=W.lazy(()=>he(()=>import("./PrivacyPolicy-DA5N830k.js"),__vite__mapDeps([15,1,2,3,4,7]))),ja=()=>d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}),Na=new oe({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}});function wa(){const e={initial:{opacity:0,x:100},in:{opacity:1,x:0},out:{opacity:0,x:-100}},t={type:"tween",ease:"anticipate",duration:.5};return d.jsx(le,{client:Na,children:d.jsx(Zt,{children:d.jsx(qt,{children:d.jsx(ht,{children:d.jsx(X,{children:d.jsxs(It,{children:[d.jsx(Ca,{}),d.jsxs(ee,{children:[d.jsx(te,{path:"/contact",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{}),d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(ha,{})})]},"contact")})}),d.jsx(te,{path:"/login",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{isLoginPage:!0}),d.jsx(_t,{})]},"login")})}),d.jsx(te,{path:"/dashboard",element:d.jsx(da,{children:d.jsx(v,{mode:"wait",children:d.jsx(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:d.jsx(ca,{})},"dashboard")})})}),d.jsx(te,{path:"/products",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{}),d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(ba,{})})]},"products")})}),d.jsx(te,{path:"/product/:id",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{}),d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(fa,{})})]},"product-detail")})}),d.jsx(te,{path:"/favorites",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{}),d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(ya,{})})]},"favorites")})}),d.jsx(te,{path:"/blog",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{}),d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(ga,{})})]},"blog")})}),d.jsx(te,{path:"/blog/:id",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{}),d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(xa,{})})]},"blog-detail")})}),d.jsx(te,{path:"/about",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{}),d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(pa,{})})]},"about")})}),d.jsx(te,{path:"/privacy-policy",element:d.jsx(v,{mode:"wait",children:d.jsxs(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:[d.jsx(At,{}),d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(va,{})})]},"privacy-policy")})}),d.jsx(te,{path:"/",element:d.jsx(v,{mode:"wait",children:d.jsx(u.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:t,children:d.jsx(W.Suspense,{fallback:d.jsx(ja,{}),children:d.jsx(ma,{})})},"home")})})]}),d.jsx(mt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:4e3,style:{background:"#10b981",color:"#fff"}},error:{duration:4e3,style:{background:"#ef4444",color:"#fff"}}}})]})})})})})})}const Ca=()=>H().pathname.startsWith("/dashboard")?null:d.jsx(ua,{});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(()=>{}).catch(()=>{})}),ge.createRoot(document.getElementById("root")).render(d.jsx(W.StrictMode,{children:d.jsx(wa,{})}));export{At as H,he as _,Kt as a,Lt as b,Ut as c,Vt as d,zt as e,Tt as f,$t as g,Qt as h,Wt as i,Ht as j,Et as k,yt as l,kt as m,$e as n,Xt as r,xt as u};
