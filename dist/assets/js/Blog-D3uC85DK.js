var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,o=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&i(e,s,t[s]);if(a)for(var s of a(t))l.call(t,s)&&i(e,s,t[s]);return e},n=(e,a)=>t(e,s(a));import{j as d,m as c,B as m,a as x,V as h,U as g,z as p,y as u,k as b,F as y,W as j}from"./ui-yfyVaEvO.js";import{r as f,L as v}from"./router-DkUHWNsB.js";import{u as N,b as w,c as A,d as O}from"./index-DTjJYq6w.js";import{u as k}from"./i18n-5IHHS4r4.js";import"./vendor-BfBH_4IJ.js";import"./utils-BLHlE7jR.js";const C=()=>{var e;const{t:t}=k(),{currentLanguage:s}=N(),[a,r]=f.useState(1),[l,i]=f.useState({page:1,limit:9,status:void 0,sortBy:"createdAt",sortOrder:"desc"}),{categories:C}=w(),{data:P,isLoading:F}=A(l,s),{data:S=[],isLoading:I}=O(3,s);f.useEffect(()=>{i(e=>n(o({},e),{page:a}))},[a]);const B=(e,t)=>{i(s=>n(o({},s),{sortBy:e,sortOrder:t,page:1})),r(1)},V=()=>{i({page:1,limit:9,status:void 0,sortBy:"createdAt",sortOrder:"desc"}),r(1)},z=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),_=e=>{let t=0;return e.forEach(e=>{if("paragraph"===e.type){const s=e.text.trim().split(/\s+/).length;if(t+=s,e.title){const s=e.title.trim().split(/\s+/).length;t+=s}}}),`${Math.max(1,Math.ceil(t/200))} min read`},M=(e,t=160)=>{const s=e.find(e=>"paragraph"===e.type);if(!s||"paragraph"!==s.type)return"";const a=s.text.trim();if(a.length<=t)return a;const r=a.slice(0,t),l=r.lastIndexOf(" ");return`${r.slice(0,l>0?l:t)}...`},L=e=>{if("string"==typeof e){const t=C.find(t=>t._id===e);return t?"string"==typeof t.name?t.name:t.name&&"object"==typeof t.name?t.name[s]||t.name.en||t.name.ar||"":e:e}return"string"==typeof e.name?e.name:e.name&&"object"==typeof e.name&&(e.name[s]||e.name.en||e.name.ar)||""},D=e=>{var t;const a=e;if(null==(t=a.localized)?void 0:t.title)return a.localized.title;const r=a.title;return"string"==typeof r?r:r&&"object"==typeof r&&(r[s]||r.en||r.ar)||""},E=e=>{var t;const a=e;if(null==(t=a.localized)?void 0:t.content)return a.localized.content;const r=a.content;return Array.isArray(r)?r:r&&"object"==typeof r&&(r[s]||r.en||r.ar)||[]},U=e=>{const t=D(e),s=E(e);return!(!t||!s||0===s.length)&&(!(t.replace(/[^a-zA-Z0-9\u0600-\u06FF\s]/g,"").trim().length<3)&&!!s.some(e=>"paragraph"===e.type&&e.text.replace(/[^a-zA-Z0-9\u0600-\u06FF\s]/g,"").trim().length>=10))},$=(null==(e=null==P?void 0:P.posts)?void 0:e.filter(U))||[],Z=S.filter(U),q=()=>d.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden animate-pulse border border-gray-100",children:[d.jsx("div",{className:"h-48 bg-gradient-to-br from-gray-100 to-gray-200"}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4 w-3/4"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4 w-2/3"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),d.jsx("section",{className:"bg-gradient-to-r from-teal-500 to-emerald-500 py-16",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Stay Updated with Medical Innovation"}),d.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Subscribe to our newsletter for the latest insights on medical equipment and healthcare technology."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[d.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-lg border-0 focus:ring-2 focus:ring-yellow-300 focus:outline-none"}),d.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-medium px-6 py-3 rounded-lg transition-colors duration-200",children:"Subscribe"})]})]})})]});return d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsxs("section",{className:"relative pt-32 pb-16 bg-[#00796a] overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 -z-20 opacity-20",children:[d.jsx("div",{className:"absolute top-10 left-10 w-8 h-8 border-2 border-white/20 transform rotate-45"}),d.jsx("div",{className:"absolute top-20 right-20 w-6 h-6 border-2 border-white/20 transform rotate-45"}),d.jsx("div",{className:"absolute bottom-20 left-16 w-10 h-10 border-2 border-white/20 transform rotate-45"}),d.jsx("div",{className:"absolute bottom-10 right-10 w-7 h-7 border-2 border-white/20 transform rotate-45"})]}),d.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[d.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-6",children:d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 rounded-full mb-6",children:d.jsx(m,{className:"w-10 h-10 text-white"})})}),d.jsxs(c.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl md:text-6xl font-bold text-white mb-6",children:[t("ourMedical"),d.jsx("span",{className:"block text-yellow-300",children:t("blog")})]}),d.jsx(c.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-teal-100 max-w-3xl mx-auto",children:t("blogDescription")})]})]}),!I&&Z.length>0&&d.jsx("section",{className:"py-16",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:t("featuredArticles")}),d.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-teal-500 to-emerald-500 mx-auto"})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-8 mb-16",children:Z.map(e=>d.jsxs("article",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2",children:[d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("img",{src:e.postImage,alt:D(e),className:"w-full h-64 object-cover transition-transform duration-300 hover:scale-105"}),d.jsx("div",{className:"absolute top-4 left-4",children:d.jsx("span",{className:"bg-gradient-to-r from-teal-500 to-emerald-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:L(e.category)})}),d.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[d.jsx("button",{className:"bg-white/80 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-colors duration-200",children:d.jsx(x,{className:"w-4 h-4 text-gray-600"})}),d.jsx("button",{className:"bg-white/80 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-colors duration-200",children:d.jsx(h,{className:"w-4 h-4 text-gray-600"})})]})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[d.jsx(g,{className:"w-4 h-4 mr-2"}),d.jsx("span",{className:"mr-4",children:e.authorName}),d.jsx(p,{className:"w-4 h-4 mr-2"}),d.jsx("span",{className:"mr-4",children:_(E(e))}),d.jsx("span",{children:z(e.createdAt)})]}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:D(e)}),d.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3 leading-relaxed",children:M(E(e),180)}),d.jsxs(v,{to:`/blog/${e._id}`,className:"inline-flex items-center text-teal-600 hover:text-teal-700 font-medium transition-colors duration-200 group",children:[t("readMore"),d.jsx(u,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},e._id))})]})}),d.jsx("section",{className:"py-20 bg-gray-50",children:d.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"lg:col-span-1",children:[d.jsxs(c.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center",children:d.jsx(b,{className:"w-4 h-4 text-teal-600"})}),d.jsx("span",{children:t("categories")})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:V,className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 font-medium "+(l.category?"text-gray-600 hover:bg-gray-50 hover:text-gray-800":"bg-teal-100 text-teal-800 border-2 border-teal-200 shadow-sm"),children:t("allCategories")}),C.map(e=>{return d.jsx("button",{onClick:()=>{return t=e._id,i(e=>n(o({},e),{category:e.category===t?void 0:t,page:1})),void r(1);var t},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 font-medium "+(l.category===e._id?"bg-teal-100 text-teal-800 border-2 border-teal-200 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"),children:(t=e,t?"string"==typeof t.name?t.name:t.name&&"object"==typeof t.name&&(t.name[s]||t.name.en||t.name.ar)||"":"")},e._id);var t})]})]}),d.jsxs(c.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center",children:d.jsx(y,{className:"w-4 h-4 text-teal-600"})}),d.jsx("span",{children:t("sortBy")})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:()=>B("createdAt","desc"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors "+("createdAt"===l.sortBy&&"desc"===l.sortOrder?"bg-teal-100 text-teal-800":"text-gray-600 hover:bg-gray-100"),children:t("newestFirst")}),d.jsx("button",{onClick:()=>B("createdAt","asc"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors "+("createdAt"===l.sortBy&&"asc"===l.sortOrder?"bg-teal-100 text-teal-800":"text-gray-600 hover:bg-gray-100"),children:t("oldestFirst")}),d.jsx("button",{onClick:()=>B("views","desc"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors "+("views"===l.sortBy&&"desc"===l.sortOrder?"bg-teal-100 text-teal-800":"text-gray-600 hover:bg-gray-100"),children:t("mostViewed")}),d.jsx("button",{onClick:()=>B("likes","desc"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors "+("likes"===l.sortBy&&"desc"===l.sortOrder?"bg-teal-100 text-teal-800":"text-gray-600 hover:bg-gray-100"),children:t("mostLiked")})]})]})]}),d.jsxs("div",{className:"lg:col-span-3",children:[d.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(y,{className:"w-5 h-5 text-teal-500"}),d.jsxs("span",{className:"text-gray-700",children:[(null==P?void 0:P.totalPosts)||0," posts found"]}),l.category&&d.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-800 text-sm font-medium rounded-full",children:["Category: ",L(l.category)]}),l.status&&d.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:["Status: ",l.status.charAt(0).toUpperCase()+l.status.slice(1)]}),l.search&&d.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:["Search: ",l.search]})]}),(l.category||l.status||l.search)&&d.jsx("button",{onClick:V,className:"text-teal-600 hover:text-teal-800 font-medium",children:"Clear Filters"})]})}),F?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Array.from({length:6}).map((e,t)=>d.jsx(q,{},t))}):$.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:t("latestArticles")}),d.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-teal-500 to-emerald-500 mx-auto"})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:$.map(e=>d.jsxs("article",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("img",{src:e.postImage,alt:D(e),className:"w-full h-56 object-cover transition-transform duration-300 hover:scale-105"}),d.jsx("div",{className:"absolute top-3 left-3",children:d.jsx("span",{className:"bg-teal-500 text-white px-2 py-1 rounded-md text-xs font-medium",children:L(e.category)})})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[d.jsx("span",{className:"mr-3",children:e.authorName}),d.jsx("span",{className:"mr-3",children:_(E(e))}),d.jsx("span",{children:z(e.createdAt)})]}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:D(e)}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:M(E(e),140)}),d.jsxs(v,{to:`/blog/${e._id}`,className:"inline-flex items-center text-teal-600 hover:text-teal-700 font-medium text-sm transition-colors duration-200 group",children:[t("readArticle"),d.jsx(u,{className:"w-3 h-3 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},e._id))}),P&&P.totalPages>1&&d.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"flex items-center justify-center space-x-2 mt-12",children:[d.jsxs("button",{onClick:()=>r(e=>Math.max(1,e-1)),disabled:1===a,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:[d.jsx(j,{className:"w-4 h-4"}),d.jsx("span",{children:t("previous")})]}),Array.from({length:P.totalPages},(e,t)=>t+1).map(e=>d.jsx("button",{onClick:()=>r(e),className:"px-4 py-2 rounded-lg transition-colors "+(a===e?"bg-teal-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:e},e)),d.jsxs("button",{onClick:()=>r(e=>Math.min(P.totalPages,e+1)),disabled:a===P.totalPages,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:[d.jsx("span",{children:t("next")}),d.jsx(u,{className:"w-4 h-4"})]})]})]}):d.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center py-16",children:[d.jsx("div",{className:"text-gray-400 mb-4",children:d.jsx(m,{className:"w-16 h-16 mx-auto"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t("noValidPostsFound")}),d.jsx("p",{className:"text-gray-600 mb-4",children:(null==P?void 0:P.posts)&&P.posts.length>0?t("noValidPostsDescription"):t("tryAdjustingSearch")}),(null==P?void 0:P.posts)&&P.posts.length>0&&0===$.length&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 max-w-md mx-auto",children:d.jsxs("p",{className:"text-sm text-yellow-800",children:[d.jsxs("strong",{children:[t("note"),":"]})," ",P.posts.length," ",t("postsFilteredOut")]})})]})]})]})})})]})};export{C as default};
