import{j as e,Z as s,m as t,a,y as i,A as r}from"./ui-yfyVaEvO.js";import{a as l,r as n}from"./router-DkUHWNsB.js";import{p as c,n as o}from"./index-DTjJYq6w.js";import{g as d,i as m,t as x}from"./favorites-DVpK5jxl.js";import"./vendor-BfBH_4IJ.js";import"./utils-BLHlE7jR.js";import"./i18n-5IHHS4r4.js";const p=()=>{const p=l(),[h,g]=n.useState([]),[u,y]=n.useState(!0),[j,b]=n.useState(null),[f,v]=n.useState(d());n.useEffect(()=>{var e;e=function*(){try{y(!0);const e=(yield c.getAllProducts()).map(e=>({_id:e._id,name:e.name,description:e.description,longDescription:e.longDescription,image:e.image,images:e.images,category:"string"==typeof e.category?e.category:e.category.name,price:e.price,rating:e.rating,reviews:e.reviews,features:e.features,specifications:e.specifications,inStock:e.inStock,stockQuantity:e.stockQuantity,shipping:e.shipping,warranty:e.warranty,certifications:e.certifications}));g(e)}catch(e){o.error("Failed to load favorite products")}finally{y(!1)}},new Promise((s,t)=>{var a=s=>{try{r(e.next(s))}catch(a){t(a)}},i=s=>{try{r(e.throw(s))}catch(a){t(a)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,i);r((e=e.apply(null,null)).next())})},[]);const N=h.filter(e=>m(e._id));return u?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-teal-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading favorites..."})]})})}):j?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(s,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Products"}),e.jsx("p",{className:"text-gray-600 mb-4",children:j}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-teal-600 text-white px-6 py-3 rounded-lg hover:bg-teal-700 transition-colors",children:"Retry"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center space-x-3 bg-red-50 px-6 py-3 rounded-full border border-red-200 mb-6",children:[e.jsx(a,{className:"w-8 h-8 text-red-500"}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900",children:"My Favorites"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Your saved medical equipment favorites for easy access and comparison."})]}),0===N.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(a,{className:"w-12 h-12 text-teal-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No favorites yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Browse products and tap the heart to save them here."}),e.jsxs(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p("/products"),className:"inline-flex items-center space-x-2 bg-teal-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-teal-700 transition-colors",children:[e.jsx("span",{children:"Browse Products"}),e.jsx(i,{className:"w-5 h-5"})]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(r,{children:N.map(s=>{return e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover"}),e.jsx("button",{onClick:()=>(e=>{const s=x(e);v(s)})(s._id),className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm rounded-full p-2.5 transition-all duration-300 shadow-lg "+(m(s._id)?"hover:bg-red-100 text-red-500":"hover:bg-red-50 text-gray-600"),children:e.jsx(a,{className:"h-4 w-4 "+(m(s._id)?"fill-red-500 text-red-500":"")})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-teal-600 font-bold",children:(r=s.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(r))}),e.jsxs(t.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p(`/product/${s._id}`),className:"inline-flex items-center space-x-2 bg-teal-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-teal-700 transition-colors",children:[e.jsx("span",{children:"Details"}),e.jsx(i,{className:"w-4 h-4"})]})]})]})]},s._id);var r})})})]})})};export{p as default};
