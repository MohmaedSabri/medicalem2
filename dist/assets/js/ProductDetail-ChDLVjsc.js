var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,n=(e,t)=>{for(var s in t||(t={}))i.call(t,s)&&r(e,s,t[s]);if(a)for(var s of a(t))l.call(t,s)&&r(e,s,t[s]);return e},o=(e,a)=>t(e,s(a)),c=(e,t,s)=>new Promise((a,i)=>{var l=e=>{try{n(s.next(e))}catch(t){i(t)}},r=e=>{try{n(s.throw(e))}catch(t){i(t)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,r);n((s=s.apply(e,t)).next())});import{j as m,m as d,c as x,Z as g,h as p,e as h,U as y,i as u,f as b,a0 as j,a1 as v,v as w,a2 as N}from"./ui-ivQaKv4g.js";import{d as f,a as I,r as M}from"./router-DkUHWNsB.js";import{i as D,j as R,k as Z,r as k}from"./index-DpYrdUYD.js";import"./vendor-BfBH_4IJ.js";import"./utils-CmC-WjbO.js";import"./i18n-5IHHS4r4.js";const C=()=>{const{id:e}=f(),t=I(),[s,a]=M.useState(null),[i,l]=M.useState([]),[r,C]=M.useState(!1),[S,P]=M.useState(0),[E,A]=M.useState([]),[z,G]=M.useState(0),[L,H]=M.useState(0),[W,Y]=M.useState({rating:5,comment:"",user:""}),[B,T]=M.useState(0),[O,F]=M.useState(!1),[Q,U]=M.useState(""),{data:$=[]}=D(),V=$.map(e=>({id:e._id,name:e.name}));if(M.useEffect(()=>{e&&c(null,null,function*(){var t;C(!0);try{const i=(yield R.get(Z.PRODUCTS_BY_ID.replace(":id",e))).data;a(i);try{const t=yield k.getProductReviews(e);t.reviews&&A(t.reviews),void 0!==t.averageRating&&G(t.averageRating),void 0!==t.totalReviews&&H(t.totalReviews)}catch(s){i.reviews&&A(i.reviews),void 0!==i.averageRating&&G(i.averageRating),void 0!==i.totalReviews&&H(i.totalReviews)}P(0),T(i.viewCount||0);const r=(yield R.get(Z.PRODUCTS)).data,n="string"==typeof i.subcategory?i.subcategory:(null==(t=i.subcategory)?void 0:t.name)||"Unknown",o=r.filter(e=>{var t;return("string"==typeof e.subcategory?e.subcategory:(null==(t=e.subcategory)?void 0:t.name)||"Unknown")===n&&e._id!==i._id}).slice(0,4);l(o)}catch(i){}finally{C(!1)}})},[e]),r)return m.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-16 sm:py-20 text-center",children:m.jsxs(d.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-b-2 border-teal-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Loading product..."})]})});if(!s)return m.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-16 sm:py-20 text-center",children:m.jsxs(d.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-4",children:[m.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-light text-gray-900 mb-3 sm:mb-4",children:"Product Not Found"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"The product you're looking for doesn't exist."}),m.jsxs("button",{onClick:()=>t("/products"),className:"inline-flex items-center space-x-2 bg-teal-600 text-white px-4 py-2.5 sm:px-6 sm:py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors text-sm sm:text-base",children:[m.jsx(x,{className:"w-4 h-4"}),m.jsx("span",{children:"Return to Products"})]})]})});const _=()=>{F(!1),U("")},J=e=>e?"string"==typeof e?e:e.name:"Unknown Category";return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12 pt-16 sm:pt-20 lg:pt-24",children:[m.jsx(d.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-6 sm:mb-8",children:m.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[m.jsx(x,{className:"w-4 h-4"}),m.jsx("span",{children:"Back"})]})}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 xl:gap-12",children:[m.jsxs(d.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"relative overflow-hidden rounded-xl sm:rounded-2xl shadow-xl cursor-pointer",children:[m.jsx("img",{src:s.images&&s.images.length>0?s.images[S]:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K",alt:`${s.name} - Main product image`,className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px] object-cover transition-transform duration-300 hover:scale-105",onClick:()=>{return e=s.images&&s.images.length>0?s.images[S]:"",U(e),void F(!0);var e},onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"},loading:"lazy"}),m.jsx("div",{className:"absolute top-2 sm:top-4 left-2 sm:left-4",children:m.jsxs("span",{className:"inline-flex items-center space-x-1 sm:space-x-2 bg-white/95 backdrop-blur-sm -webkit-backdrop-blur-sm text-gray-800 px-2 sm:px-3 py-1.5 rounded-lg font-medium border border-white/20 shadow-lg text-xs sm:text-sm",children:[m.jsx(g,{className:"w-3 h-3 sm:w-4 sm:h-4 text-teal-600"}),m.jsx("span",{className:"hidden sm:inline",children:(()=>{var e;const t="string"==typeof s.subcategory?s.subcategory:null==(e=s.subcategory)?void 0:e._id,a=V.find(e=>e.id===t);return a?a.name:"Loading..."})()}),m.jsx("span",{className:"sm:hidden",children:(()=>{var e;const t="string"==typeof s.subcategory?s.subcategory:null==(e=s.subcategory)?void 0:e._id,a=V.find(e=>e.id===t);return a?a.name.split(" ")[0]:"Loading..."})()})]})})]}),s.images&&s.images.length>0?m.jsx("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",children:s.images.map((e,t)=>m.jsx("button",{type:"button",onClick:()=>P(t),className:"relative overflow-hidden rounded-lg border-2 transition-all duration-300 "+(S===t?"border-teal-500 shadow-lg":"border-gray-200 hover:border-teal-300"),"aria-label":`View image ${t+1} of ${s.images.length}`,title:`View image ${t+1} of ${s.images.length}`,children:m.jsx("img",{src:e,alt:`${s.name} ${t+1}`,className:"w-full h-16 sm:h-20 object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}})},t))}):m.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No images available"})]}),m.jsxs(d.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"space-y-4 sm:space-y-6 lg:space-y-8",children:[m.jsxs("div",{children:[m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.3},className:"inline-flex items-center space-x-1 sm:space-x-2 bg-teal-50 px-2 sm:px-3 py-1.5 rounded-full border border-teal-200 mb-2 sm:mb-3 lg:mb-4",children:[m.jsx(g,{className:"w-3 h-3 sm:w-4 sm:h-4 text-teal-600"}),m.jsx("span",{className:"text-teal-700 font-medium text-xs sm:text-sm",children:"Premium Medical Equipment"})]}),m.jsx(d.h1,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-light text-gray-900 mb-2 sm:mb-3 lg:mb-4 leading-tight",children:s.name}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-between mb-2 sm:mb-3 lg:mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((e,t)=>m.jsx(p,{className:"w-4 h-4 sm:w-5 sm:h-5 "+(t<Math.floor(z)?"text-yellow-400 fill-current":"text-gray-300")},t))}),m.jsxs("span",{className:"text-gray-600 text-xs sm:text-sm",children:[z.toFixed(1)," (",L," reviews)"]})]}),m.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[m.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5"}),m.jsxs("span",{className:"text-xs sm:text-sm",children:[B.toLocaleString()," views"]})]})]}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-3 sm:mb-4 lg:mb-6",children:[m.jsxs("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-teal-600",children:["$",s.price.toLocaleString()]}),m.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Financing available â€¢ Bulk pricing available"})]})]}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.7},className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[m.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Description"}),m.jsx("p",{className:"text-gray-600 leading-relaxed text-sm sm:text-base",children:s.longDescription})]}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.8},className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[m.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Specifications"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:Object.entries(s.specifications).map(([e,t])=>m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),m.jsxs("span",{className:"text-gray-700 capitalize",children:[e.replace(/([A-Z])/g," $1").trim(),": ",t]})]},e))})]}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.9},className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[m.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Customer Reviews (",L,")"]}),0===E.length?m.jsx("p",{className:"text-gray-600 text-sm",children:"No reviews yet. Be the first to leave one!"}):m.jsxs("div",{className:"space-y-3",children:[E.slice(0,3).map((e,t)=>m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(y,{className:"w-4 h-4 text-gray-600"}),m.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:e.user}),m.jsxs("span",{className:"text-gray-500 text-xs",children:[m.jsx(u,{className:"w-3 h-3 inline-block mr-1"}),new Date(e.createdAt).toLocaleDateString()]})]}),m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[[...Array(5)].map((t,s)=>m.jsx(p,{className:"w-3 h-3 "+(s<e.rating?"text-yellow-400 fill-current":"text-gray-300")},s)),m.jsx("span",{className:"text-gray-600 text-xs",children:e.rating})]}),m.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.comment})]},t)),E.length>3&&m.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Showing 3 of ",E.length," reviews"]})]}),m.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[m.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-3",children:"Leave a Review"}),m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{htmlFor:"review-user",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name *"}),m.jsx("input",{id:"review-user",name:"review-user",type:"text",placeholder:"Your Name",value:W.user,onChange:e=>Y(o(n({},W),{user:e.target.value})),className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm",required:!0,"aria-required":"true"})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),m.jsx("div",{className:"flex items-center space-x-2",role:"radiogroup","aria-labelledby":"rating-label",children:[...Array(5)].map((e,t)=>m.jsx("button",{type:"button",onClick:()=>Y(o(n({},W),{rating:t+1})),className:"focus:outline-none focus:ring-2 focus:ring-teal-500 rounded","aria-label":`Rate ${t+1} star${0===t?"":"s"}`,title:`Rate ${t+1} star${0===t?"":"s"}`,"aria-pressed":W.rating===t+1,children:m.jsx(p,{className:"w-5 h-5 cursor-pointer "+(W.rating>t?"text-yellow-400 fill-current":"text-gray-300")})},t))})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{htmlFor:"review-comment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Comment *"}),m.jsx("textarea",{id:"review-comment",name:"review-comment",rows:3,className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm",placeholder:"Write your review here...",value:W.comment,onChange:e=>Y(o(n({},W),{comment:e.target.value})),required:!0,"aria-required":"true"})]}),m.jsxs("button",{type:"button",onClick:()=>c(null,null,function*(){if(W.comment.trim()&&W.user.trim())try{yield k.createReview({user:W.user,rating:W.rating,comment:W.comment,productId:e});try{const t=yield k.getProductReviews(e);t.reviews&&A(t.reviews),void 0!==t.averageRating&&G(t.averageRating),void 0!==t.totalReviews&&H(t.totalReviews)}catch(t){const s=(yield R.get(Z.PRODUCTS_BY_ID.replace(":id",e))).data;a(s),s.reviews&&A(s.reviews),void 0!==s.averageRating&&G(s.averageRating),void 0!==s.totalReviews&&H(s.totalReviews)}Y({rating:5,comment:"",user:""}),alert("Review added successfully!")}catch(s){alert(`Error adding review: ${s instanceof Error?s.message:"Unknown error"}`)}else alert("Please provide both your name and a comment.")}),className:"mt-3 inline-flex items-center space-x-2 bg-teal-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-teal-700 transition-colors text-sm holographic-card","aria-label":"Submit review",title:"Submit review",children:[m.jsx(b,{className:"w-4 h-4"}),m.jsx("span",{children:"Submit Review"})]})]})]}),m.jsx(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:1},className:"space-y-3 sm:space-y-4",children:m.jsxs("button",{type:"button",onClick:()=>{alert("Contact sales functionality coming soon!")},disabled:!s.inStock,className:"w-full py-3 sm:py-4 px-4 sm:px-6 rounded-xl font-semibold text-base sm:text-lg transition-colors shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 "+(s.inStock?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-400 text-gray-200 cursor-not-allowed"),"aria-label":s.inStock?"Contact sales":"Out of stock",title:s.inStock?"Contact sales":"Out of stock",children:[m.jsx(j,{className:"w-4 h-4 sm:w-5 sm:h-5"}),m.jsx("span",{children:s.inStock?"Contact Sales":"Out of Stock"})]})}),m.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:1.1},className:"pt-4 sm:pt-6 lg:pt-8 border-t border-gray-200 space-y-3 sm:space-y-4 lg:space-y-6",children:[m.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Additional Information"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(v,{className:"w-6 h-6 text-orange-600"})}),m.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Shipping"}),m.jsx("p",{className:"text-sm text-gray-600",children:s.shipping})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(w,{className:"w-6 h-6 text-blue-600"})}),m.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Warranty"}),m.jsx("p",{className:"text-sm text-gray-600",children:s.warranty})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(N,{className:"w-6 h-6 text-emerald-600"})}),m.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Certifications"}),m.jsx("p",{className:"text-sm text-gray-600",children:s.certifications.join(", ")})]})]})]})]})]}),i.length>0&&m.jsxs(d.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2},className:"mt-8 sm:mt-12 lg:mt-16 xl:mt-20",children:[m.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[m.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-light text-gray-900 mb-2 sm:mb-3 lg:mb-4",children:["Related",m.jsx("span",{className:"block font-semibold text-teal-600 mt-1",children:"Products"})]}),m.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm sm:text-base px-4",children:"Explore more medical equipment from our comprehensive collection"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:i.map(e=>{var s,a;return m.jsxs(d.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>t(`/product/${e._id}`),children:[m.jsxs("div",{className:"relative overflow-hidden rounded-t-xl",children:[m.jsx("img",{src:e.image,alt:`${e.name} - Related medical equipment`,className:"w-full h-32 sm:h-40 lg:h-48 object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}}),m.jsx("div",{className:"absolute top-2 left-2",children:m.jsxs("span",{className:"inline-flex items-center space-x-1 bg-white/95 backdrop-blur-sm text-gray-800 px-2 py-1 rounded-lg text-xs font-medium",children:[m.jsx(g,{className:"w-3 h-3 text-teal-600"}),m.jsx("span",{className:"hidden sm:inline",children:J(e.subcategory)}),m.jsx("span",{className:"sm:hidden",children:(a=e.subcategory,J(a).split(" ")[0])})]})})]}),m.jsxs("div",{className:"p-2.5 sm:p-3 lg:p-4",children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-1.5 sm:mb-2 line-clamp-2 text-sm sm:text-base",children:e.name}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-teal-600 font-bold text-sm sm:text-base",children:["$",e.price.toLocaleString()]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(p,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400 fill-current"}),m.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:(null==(s=e.averageRating)?void 0:s.toFixed(1))||"0.0"})]})]})]})]},e._id)})})]}),O&&m.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:_,children:m.jsxs(d.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-6xl max-h-[90vh] w-full h-full flex items-center",onClick:e=>e.stopPropagation(),children:[m.jsx("button",{onClick:_,className:"absolute top-4 right-4 z-10 bg-white/20 backdrop-blur-sm text-white p-2 rounded-full hover:bg-white/30 transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s&&s.images&&s.images.length>1&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:e=>{e.stopPropagation();const t=s.images.indexOf(Q),a=t>0?t-1:s.images.length-1;U(s.images[a])},className:"absolute left-8 top-1/2 transform -translate-y-1/2 bg-white/20 backdrop-blur-sm text-white p-4 rounded-full hover:bg-white/30 transition-colors z-10",children:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),m.jsx("button",{onClick:e=>{e.stopPropagation();const t=s.images.indexOf(Q),a=t<s.images.length-1?t+1:0;U(s.images[a])},className:"absolute right-8 top-1/2 transform -translate-y-1/2 bg-white/20 backdrop-blur-sm text-white p-4 rounded-full hover:bg-white/30 transition-colors z-10",children:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),m.jsx("div",{className:"flex-1 flex items-center justify-center px-20",style:{width:"calc(100% - 160px)"},children:m.jsx("img",{src:Q,alt:null==s?void 0:s.name,className:"max-w-full max-h-full object-contain rounded-lg",style:{maxWidth:"80%",maxHeight:"80%",minWidth:"60%",minHeight:"60%"},onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMCAzMEg3MFY3MEgzMFYzMFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTM1IDM1VjY1SDY1VjM1SDM1WiIgZmlsbD0iI0M3Q0ZEMiIvPgo8L3N2Zz4K"}})}),s&&s.images&&s.images.length>1&&m.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex flex-col items-center space-y-4 pointer-events-none",children:[m.jsx("div",{className:"flex space-x-3 pointer-events-auto",children:s.images.map((e,t)=>m.jsx("button",{onClick:t=>{t.stopPropagation(),U(e)},className:"w-4 h-4 rounded-full transition-colors "+(Q===e?"bg-white":"bg-white/50 hover:bg-white/70")},t))}),m.jsxs("div",{className:"bg-black/50 text-white px-4 py-2 rounded-full text-sm whitespace-nowrap pointer-events-auto w-16 text-center",children:[s.images.indexOf(Q)+1," / ",s.images.length]})]})]})})]})})};export{C as default};
